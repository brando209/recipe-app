(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(35),a=n.n(i),s=(n(155),n(7)),o=n(8),l=n(33);var j=n(2),u=n(300),d=n(139),b=n(3),m=n(138),p=(n(156),n(0)),h=["children","className"];function O(e){var t=e.children,n=e.className,c=void 0===n?"":n,r=Object(b.a)(e,h);return Object(p.jsx)(m.a,Object(j.a)(Object(j.a)({className:"page ".concat(c)},r),{},{fluid:!0,children:t}))}var x=n(313),f=n(301),v=n(302);n(158);function g(e){var t=Object(o.g)(),n=e.title,c=e.description,r=e.serves,i=e.prep,a=e.cook,s=e.favorite,l=e.id,j=e.photo,b=function(t){t.stopPropagation(),e.onFavorite(l,s)};return Object(p.jsx)(x.a,{className:"recipe-card",children:Object(p.jsx)(x.a.Body,{className:"recipe-card-body",onClick:function(){return t("/recipe/".concat(l))},children:Object(p.jsxs)(u.a,{children:[Object(p.jsxs)(d.a,{className:"recipe-card-body-left",children:[Object(p.jsxs)(x.a.Title,{className:"recipe-card-title",children:[n," ",Object(p.jsx)("span",{className:"favorite-btn",children:s?Object(p.jsx)(f.a,{onClick:b}):Object(p.jsx)(v.a,{onClick:b})})]}),Object(p.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Serves: ",r]}),Object(p.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Prep time: ",i.time+" "+i.unit]}),Object(p.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Cook time: ",a.time+" "+a.unit]}),Object(p.jsx)(x.a.Text,{className:"recipe-card-text",children:c})]}),Object(p.jsx)(d.a,{className:"recipe-card-body-right",children:Object(p.jsx)(x.a.Img,{className:"recipe-card-img",src:j.path?"http://localhost:3005/".concat(j.path):"",alt:""})})]})})})}var y=n(28),N=n.n(y),C=n(15),S=n(45),I=n(24);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.useState)(!0),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(),l=Object(s.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)(),b=Object(s.a)(d,2),m=b[0],p=b[1],h=Object(c.useCallback)((function(){a(!0),u(null),p(null),e&&"function"===typeof e&&e().then(p).catch(u).finally((function(){return a(!1)}))}),t);return Object(c.useEffect)((function(){h()}),[h]),{loading:i,error:j,value:m,setLoading:a,setError:u,setValue:p}}var w=n(46),F=n.n(w),R={headers:{"Content-Type":"application/json"}};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return k((function(){var c,r,i=null===(c=t.headers)||void 0===c||null===(r=c.authorization)||void 0===r?void 0:r.split(" ")[1];return!n||null!==i&&"null"!==i&&void 0!==i&&"undefined"!==i?F.a.get(e,Object(j.a)(Object(j.a)({},R),t)).then((function(e){if(200===e.status)return e.data})):Promise.reject("No valid auth token")}),c)}var L={createRecipe:function(e,t){return F.a.post("/api/recipes",e,{headers:t})},updateRecipe:function(e,t,n){return F.a.patch("/api/recipes/".concat(e),t,{headers:n})},deleteRecipe:function(e,t){return F.a.delete("/api/recipes/".concat(e),{headers:t})}};var T={login:function(e){return F.a.post("/api/auth/login",e)}};var P=Object(c.createContext)({}),V=function(){return Object(c.useContext)(P)},D=localStorage.getItem("recipe_app_0246_auth_token");function H(e){var t=e.children,n=E("/api/auth/login",{headers:{authorization:"BEARER ".concat(D)}},!0,[D]),c=n.loading,r=n.error,i=n.value,a=n.setLoading,s=n.setError,o=n.setValue,l=function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),o(null),s(null),e.next=6,T.login(t);case 6:n=e.sent,o(n.data),c=n.data.token,localStorage.setItem("recipe_app_0246_auth_token",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:a(!1);case 15:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(P.Provider,{value:{loading:c,error:r,user:i,login:l,logout:function(){o(null),localStorage.removeItem("recipe_app_0246_auth_token")}},children:t})}var z=Object(c.createContext)({}),B=function(){return Object(c.useContext)(z)},_=function(e){return{Authorization:"BEARER ".concat(e)}};function J(e){var t,n,r=e.children,i=V(),a=E("/api/recipes",{headers:{authorization:"BEARER ".concat(null===(t=i.user)||void 0===t?void 0:t.token)}},!0,[null===(n=i.user)||void 0===n?void 0:n.token]),o=a.loading,l=a.error,u=a.value,d=a.setValue,b=Object(c.useState)({ingredients:[],search:""}),m=Object(s.a)(b,2),h=m[0],O=m[1],x=function(){var e=Object(S.a)(N.a.mark((function e(t){var n,c,r=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:function(){},e.prev=1,e.next=4,L.createRecipe(t,_(i.user.token));case 4:c=e.sent,d((function(e){return[].concat(Object(C.a)(e),[c.data])})),n(c.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),n(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(N.a.mark((function e(t,n){var c,r,a=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.length>2&&void 0!==a[2]?a[2]:function(){},e.prev=1,e.next=4,L.updateRecipe(t,n,_(i.user.token));case 4:r=e.sent,d((function(e){var t=Object(C.a)(e),n=t.findIndex((function(e){return e.id===r.data.id}));return n>-1&&t.splice(n,1,r.data),t})),c(r.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),c(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(S.a)(N.a.mark((function e(t){var n,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:function(){},e.prev=1,e.next=4,L.deleteRecipe(t,_(i.user.token));case 4:d((function(e){var n=Object(C.a)(e),c=n.findIndex((function(e){return e.id===t}));return c>-1&&n.splice(c,1),n})),n(!0,null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:",e.t0),n(null,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.ingredients,n=e.search,c=u;if(t){var r,i=Object(I.a)(t);try{var a=function(){var e,t=r.value;c=null===(e=c)||void 0===e?void 0:e.filter((function(e){return e.ingredients.findIndex((function(e){return e.id===t.id}))>-1}))};for(i.s();!(r=i.n()).done;)a()}catch(l){i.e(l)}finally{i.f()}}if(n){var s,o=n.toLowerCase();c=null===(s=c)||void 0===s?void 0:s.filter((function(e){var t;return e.title.toLowerCase().includes(o)||e.description.toLowerCase().includes(o)||e.ingredients.map((function(e){return e.name})).join(" ").toLowerCase().includes(o)||e.instructions.join(" ").toLowerCase().includes(o)||(null===(t=e.comments)||void 0===t?void 0:t.join(" ").toLowerCase().includes(o))}))}return c}(h);return Object(p.jsx)(z.Provider,{value:{loading:o,error:l,data:g,createRecipe:x,updateRecipe:f,deleteRecipe:v,updateFilter:function(e){O((function(t){return Object(j.a)(Object(j.a)({},t),e)}))},filter:h},children:r})}function A(){var e=B(),t=e.data,n=e.updateRecipe,c=e.loading,r=e.error,i=function(e,t){n(e,{favorite:!t},(function(){return console.log("toggled favorite")}))};return Object(p.jsxs)(O,{children:[Object(p.jsx)("h1",{children:"Home"}),c&&Object(p.jsx)("p",{children:"Loading..."}),r&&Object(p.jsx)("pre",{children:JSON.stringify(r.message,null,2)}),!r&&!c&&t.length>0&&Object(p.jsx)(u.a,{children:t.map((function(e){return Object(p.jsx)(d.a,{sm:"12",md:"6",className:"recipe-card-container",children:Object(p.jsx)(g,Object(j.a)(Object(j.a)({},e),{},{onFavorite:i}))},e.id)}))}),!r&&!c&&0===t.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:"You currently have no saved recipes."}),Object(p.jsxs)("p",{children:[Object(p.jsx)(l.b,{to:"/new",children:"Click here"})," to add a new recipe."]})]})]})}function q(e){var t=B(),n=t.data,c=t.updateRecipe,r=t.loading,i=t.error,a=n&&n.length>0&&(null===n||void 0===n?void 0:n.filter((function(e){return e.favorite}))),s=function(e,t){c(e,{favorite:!t})};return Object(p.jsxs)(O,{children:[Object(p.jsx)("h1",{children:"Favorites"}),r&&Object(p.jsx)("p",{children:"Loading..."}),i&&Object(p.jsx)("pre",{children:JSON.stringify(i.message,null,2)}),!i&&!r&&a.length>0&&Object(p.jsx)(u.a,{children:a.map((function(e){return Object(p.jsx)(d.a,{sm:"12",md:"6",className:"recipe-card-container",children:Object(p.jsx)(g,Object(j.a)(Object(j.a)({},e),{},{onFavorite:s}))},e.id)}))}),!i&&!r&&0===a.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:"You currently have no favorited recipes."}),Object(p.jsxs)("p",{children:[Object(p.jsx)(l.b,{to:"/new",children:"Click here"})," to add a new recipe."]})]})]})}var Y=n(9),K=n(142),M=["children","options","placeholder"];function U(e){var t=e.children,n=e.options,c=e.placeholder,r=Object(b.a)(e,M);return Object(p.jsxs)(K.a,Object(j.a)(Object(j.a)({as:"select"},r),{},{children:[c&&Object(p.jsx)("option",{value:"",children:c}),n?n.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)})):t]}))}var G=n(303);n(182);function Q(e){var t=e.index,n=e.arrayHelpers;return Object(p.jsxs)(u.a,{className:"ingredient-input",children:[Object(p.jsxs)(d.a,{xs:6,children:[Object(p.jsx)(Y.b,{name:"ingredients.".concat(t,".name"),type:"input",placeholder:"Ingredient #".concat(t+1)}),Object(p.jsx)(Y.b,{name:"ingredients.".concat(t,".amount"),type:"number",placeholder:"Amount",min:0})]}),Object(p.jsxs)(d.a,{xs:4,children:[Object(p.jsx)(Y.b,{as:U,options:["small","medium","large"],name:"ingredients.".concat(t,".size"),placeholder:"size",variant:"secondary"}),Object(p.jsx)(Y.b,{as:U,options:["teaspoon","tablespoon","cup","ounce","pound","gram"],name:"ingredients.".concat(t,".measurement"),placeholder:"unit",variant:"secondary"})]}),Object(p.jsx)(d.a,{xs:2,children:Object(p.jsx)(K.a,{className:"add-ingredient-btn",variant:"secondary",onClick:function(){return n.remove(t)},children:Object(p.jsx)(G.a,{})})})]})}n(183);function W(e){var t=e.name,n=e.index,c=e.arrayHelpers,r=e.placeholder;return Object(p.jsxs)(u.a,{className:"textarea-list-input",children:[Object(p.jsx)(d.a,{xs:10,children:Object(p.jsx)(Y.b,{name:"".concat(t,".").concat(n),as:"textarea",placeholder:"".concat(r," #").concat(n+1)})}),Object(p.jsx)(d.a,{xs:2,children:Object(p.jsx)(K.a,{variant:"secondary",onClick:function(){return c.remove(n)},children:Object(p.jsx)(G.a,{})})})]})}n(184);function X(e){var t=e.name,n=e.label,c=e.children;return Object(p.jsxs)(u.a,{className:"input-container",children:[Object(p.jsx)(d.a,{xs:3,children:Object(p.jsx)("label",{htmlFor:t,children:n})}),c.length?c.map((function(e,t){return Object(p.jsx)(d.a,{className:"mx-2",children:e},t)})):Object(p.jsx)(d.a,{className:"mx-2",children:c})]})}n(185);function Z(e){var t=e.name,n=e.label,c=e.listItems,r=e.renderItem,i=e.initialItemValue;return Object(p.jsx)(Y.c,{name:t,render:function(e){return Object(p.jsxs)("div",{className:"input-list",children:[Object(p.jsxs)(u.a,{children:[Object(p.jsx)(d.a,{xs:3,lg:4,children:Object(p.jsx)("label",{htmlFor:t,children:n})}),Object(p.jsx)(d.a,{xs:3,lg:1,children:Object(p.jsx)(K.a,{type:"button",size:"sm",variant:"secondary",onClick:function(){return e.push(i)},children:"Add"})})]}),c.map((function(t,n){return r(t,n,e)}))]})}})}n(186);var $=function(){return Object(p.jsx)("div",{className:"heart-icon-spinner-container",children:Object(p.jsx)(f.a,{className:"heart-icon-spinner"})})},ee=n(29),te=ee.c().shape({title:ee.d().min(3,"Too Short!").max(32,"Too Long!").required("Please provide a title."),description:ee.d().required("Please provide a description."),prep:ee.c({time:ee.b().typeError("Please provide a number for prep time").required("Please provide a prep time"),unit:ee.d().required("Required.")}),cook:ee.c({time:ee.b().typeError("Please provide a number for cook time").required("Please provide a cook time"),unit:ee.d().required("Required.")}),ingredients:ee.a().min(1,"Please provide the ingredients list."),instructions:ee.a().min(1,"Please provide the instructions list").required("Please provide the instructions list."),comments:ee.a()}),ne=(n(285),{title:"",description:"",serves:"",prep:{time:"",unit:"min"},cook:{time:"",unit:"min"},ingredients:[],instructions:[],comments:[],categories:[],photo:null});function ce(e){var t=e.onSubmit;return Object(p.jsx)(Y.e,{initialValues:ne,onSubmit:function(e,n){var c=n.setSubmitting,r=new FormData;r.append("title",e.title),r.append("description",e.description),r.append("serves",e.serves),r.append("prep",JSON.stringify(e.prep)),r.append("cook",JSON.stringify(e.cook)),r.append("ingredients",JSON.stringify(e.ingredients)),r.append("instructions",JSON.stringify(e.instructions)),r.append("comments",JSON.stringify(e.comments)),r.append("photo",e.photo||""),c(!0),t(r,(function(){c(!1)}))},validationSchema:te,children:function(e){var t=e.isSubmitting,n=e.values,c=e.setFieldValue;return Object(p.jsxs)(Y.d,{children:[Object(p.jsx)(X,{name:"title",label:"Title:",children:Object(p.jsx)(Y.b,{name:"title",placeholder:"Recipe Title",type:"input"})}),Object(p.jsx)(Y.a,{name:"title",component:"div",className:"form-error-message"}),Object(p.jsx)(X,{name:"description",label:"Description:",children:Object(p.jsx)(Y.b,{name:"description",placeholder:"Recipe Description",as:"textarea"})}),Object(p.jsx)(Y.a,{name:"description",component:"div",className:"form-error-message"}),Object(p.jsx)(X,{name:"serves",label:"Serves:",children:Object(p.jsx)(Y.b,{name:"serves",placeholder:"Serves",type:"number",min:1})}),Object(p.jsx)(Y.a,{name:"serves",component:"div",className:"form-error-message"}),Object(p.jsxs)(X,{name:"prep",label:"Prep:",children:[Object(p.jsx)(Y.b,{name:"prep.time",type:"number",min:1}),Object(p.jsx)(Y.b,{name:"prep.unit",as:U,options:["min","hr"],variant:"secondary"})]}),Object(p.jsx)(Y.a,{name:"prep.time",component:"div",className:"form-error-message"}),Object(p.jsxs)(X,{name:"cook",label:"Cook:",children:[Object(p.jsx)(Y.b,{name:"cook.time",type:"number",min:1}),Object(p.jsx)(Y.b,{name:"cook.unit",as:U,options:["min","hr"],variant:"secondary"})]}),Object(p.jsx)(Y.a,{name:"cook.time",component:"div",className:"form-error-message"}),Object(p.jsx)(X,{name:"photo",label:"Image:",children:Object(p.jsx)(Y.b,{type:"file",name:"photo",value:void 0,onChange:function(e){var t=e.target.files[0];c("photo",t)}})}),Object(p.jsx)(Z,{name:"ingredients",label:"Ingredients:",listItems:n.ingredients,initialItemValue:{name:"",amount:"",measurement:"",size:""},renderItem:function(e,t,n){return Object(p.jsx)(Q,{item:e,index:t,arrayHelpers:n},"ingredient-".concat(t))}}),Object(p.jsx)(Y.a,{name:"ingredients",component:"div",className:"form-error-message"}),Object(p.jsx)(Z,{name:"instructions",label:"Instructions:",listItems:n.instructions,initialItemValue:"",renderItem:function(e,t,n){return Object(p.jsx)(W,{name:"instructions",placeholder:"Instruction",item:e,index:t,arrayHelpers:n},"instruction-".concat(t))}}),Object(p.jsx)(Y.a,{name:"instructions",component:"div",className:"form-error-message"}),Object(p.jsx)(Z,{name:"comments",label:"Comments:",listItems:n.comments,initialItemValue:"",renderItem:function(e,t,n){return Object(p.jsx)(W,{name:"comments",placeholder:"Comment",item:e,index:t,arrayHelpers:n},"comment-".concat(t))}}),Object(p.jsx)(K.a,{type:"submit",disabled:t,variant:"secondary",children:t?Object(p.jsxs)("div",{children:[Object(p.jsx)($,{}),Object(p.jsx)("div",{children:"Submitting..."})]}):"Submit"})]})}})}function re(e){var t=B().createRecipe,n=Object(o.g)();return Object(p.jsxs)(O,{children:[Object(p.jsx)("h1",{children:"New Recipe"}),Object(p.jsx)(ce,{onSubmit:function(e,c){t(e,(function(e,t){t&&console.error(t),c(),n("/")}))}})]})}function ie(e){var t=Object(o.g)(),n=V().logout;return Object(p.jsxs)(O,{children:[Object(p.jsx)("h1",{children:"Settings"}),Object(p.jsx)(K.a,{onClick:function(){n(),t("/login")},variant:"secondary",children:"Log Out"})]})}var ae=Object(c.createContext)({}),se=function(){return Object(c.useContext)(ae)};function oe(e){var t=e.children,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)({title:"Dialog Box",text:"Dialog body text",footer:Object(p.jsx)(K.a,{children:"Close"})}),l=Object(s.a)(o,2),j=l[0],u=l[1];return Object(p.jsx)(ae.Provider,{value:{dialog:j,setDialog:u,show:i,setShow:a},children:t})}n(286);var le=function(e){var t=e.heading,n=e.listItems,c=e.renderItem,r=e.style,i=e.type,a=void 0===i?"ul":i,s=(e.direction,n&&n.map((function(e,t){return Object(p.jsx)("li",{children:"function"===typeof c?c(e):e},t)})));return Object(p.jsxs)("div",{className:"list-container",children:[Object(p.jsx)("h3",{children:t}),Object(p.jsx)("div",{className:"list",children:n&&n.length>0?"ul"===a?Object(p.jsx)("ul",{style:r,children:s}):Object(p.jsx)("ol",{style:r,children:s}):Object(p.jsx)("p",{children:"This list is currently empty"})})]})};n(287);function je(e){var t=e.recipe,n=e.onFavorite,c=e.onDelete,r=Object(o.g)(),i=se(),a=i.setDialog,s=i.setShow,l=t.id,j=t.title,b=t.description,m=t.ingredients,h=t.instructions,O=t.comments,x=t.serves,g=t.prep,y=t.cook,N=t.photo,C=t.favorite,S=function(){return n(l,C)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(p.jsxs)(d.a,{as:"h2",xs:"8",lg:"10",children:[j," ",Object(p.jsx)("span",{className:"favorite-btn",children:C?Object(p.jsx)(f.a,{onClick:S}):Object(p.jsx)(v.a,{onClick:S})})]}),Object(p.jsx)(d.a,{xs:"3",lg:"1",children:Object(p.jsx)(K.a,{variant:"outline-secondary",onClick:function(){r("/recipe/".concat(l,"/edit"))},children:"Edit"})}),Object(p.jsx)(d.a,{xs:"1",className:"delete-btn",children:Object(p.jsx)(G.a,{onClick:function(){a({title:"Delete Recipe",text:"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?",footer:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(K.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),Object(p.jsx)(K.a,{variant:"secondary",onClick:function(){return c(l,(function(){return s(!1)}))},children:"Delete"})]})}),s(!0)}})})]}),Object(p.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(p.jsxs)(d.a,{xs:"5",children:[Object(p.jsx)("p",{children:"Serves: "+x}),Object(p.jsx)("p",{children:"Prep Time: "+g.time+" "+g.unit}),Object(p.jsx)("p",{children:"Cook Time: "+y.time+" "+y.unit}),Object(p.jsx)("p",{children:"Total Time: "+(g.time+y.time)+" "+y.unit})]}),Object(p.jsx)(d.a,{className:"recipe-image-container",children:Object(p.jsx)("img",{src:N.path?"http://localhost:3005/".concat(N.path):"",alt:""})})]}),Object(p.jsx)(u.a,{className:"recipe-detail-row",children:Object(p.jsx)("p",{children:b})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(le,{type:"ul",heading:"Ingredients",listItems:m,renderItem:function(e){return"".concat(e.amount?e.amount:""," ").concat(e.measurement?e.measurement:""," ").concat(e.name).concat(e.size?", "+e.size:"")}})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(le,{type:"ol",heading:"Instructions",listItems:h})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(le,{heading:"Additional Comments",listItems:O})})]})}function ue(e){var t=B(),n=t.data,c=t.updateRecipe,r=t.deleteRecipe,i=t.loading,a=t.error,s=Object(o.h)().recipeId,l=n&&(null===n||void 0===n?void 0:n.find((function(e){return e.id===Number(s)})));return l?Object(p.jsxs)(O,{children:[i&&Object(p.jsx)("div",{children:"Loading..."}),a&&Object(p.jsx)("pre",{children:JSON.stringify(a,null,2)}),!i&&!a&&Object(p.jsx)(je,{recipe:l,onFavorite:function(e,t){c(e,{favorite:!t})},onDelete:function(e,t){r(e,t)}})]}):Object(p.jsx)(o.a,{replace:!0,to:"/"})}var de=n(304),be=["id","favorite"],me=["name"];function pe(e){var t=e.recipe,n=e.onEdit,c=Object(o.g)(),r=t.id,i=(t.favorite,Object(b.a)(t,be)),a=function(){c(-1)};return Object(p.jsx)(Y.e,{initialValues:i,onSubmit:function(e){var t,a={},s=Object(I.a)(i.ingredients);try{var o=function(){var n=t.value;-1===e.ingredients.findIndex((function(e){return e.id===n.id}))&&(a[n.name]=null)};for(s.s();!(t=s.n()).done;)o()}catch(h){s.e(h)}finally{s.f()}var l,u=Object(I.a)(e.ingredients);try{for(u.s();!(l=u.n()).done;){var d=l.value;d.id&&delete d.id;var m=d.name,p=Object(b.a)(d,me);a[m]=p}}catch(h){u.e(h)}finally{u.f()}n(r,Object(j.a)(Object(j.a)({},e),{},{ingredients:a}),(function(){return c(-1)}))},children:function(e){var t=e.isSubmitting,n=e.values;return Object(p.jsxs)(Y.d,{children:[Object(p.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(p.jsx)(d.a,{as:"h2",xs:"7",children:Object(p.jsx)(Y.b,{name:"title",placeholder:"Recipe Title",type:"input"})}),Object(p.jsx)(d.a,{xs:"4",children:Object(p.jsxs)(de.a,{children:[Object(p.jsx)(K.a,{variant:"outline-secondary",onClick:a,children:"Cancel"}),Object(p.jsx)(K.a,{variant:"secondary",type:"submit",disabled:t,children:"Save"})]})})]}),Object(p.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(p.jsxs)(d.a,{xs:"5",children:[Object(p.jsxs)("p",{children:["Serves: ",Object(p.jsx)(Y.b,{name:"serves",placeholder:"Serves",type:"number",min:1})]}),Object(p.jsxs)("p",{children:["Prep Time:",Object(p.jsx)(Y.b,{name:"prep.time",type:"number",min:1}),Object(p.jsx)(Y.b,{name:"prep.unit",as:U,options:["min","hr"],variant:"secondary"})]}),Object(p.jsxs)("p",{children:["Cook Time:",Object(p.jsx)(Y.b,{name:"cook.time",type:"number",min:1}),Object(p.jsx)(Y.b,{name:"cook.unit",as:U,options:["min","hr"],variant:"secondary"})]})]}),Object(p.jsx)(d.a,{className:"recipe-image-container",children:Object(p.jsx)("img",{src:i.photo.path?"http://localhost:3005/".concat(i.photo.path):"",alt:""})})]}),Object(p.jsx)(u.a,{className:"recipe-detail-row",children:Object(p.jsx)(Y.b,{name:"description",placeholder:"Recipe Description",as:"textarea"})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(Z,{name:"ingredients",label:"Ingredients",listItems:n.ingredients,initialItemValue:{name:"",amount:"",measurement:"",size:""},renderItem:function(e,t,n){return Object(p.jsx)(Q,{item:e,index:t,arrayHelpers:n},"ingredient-".concat(t))}})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(Z,{name:"instructions",label:"Instructions",listItems:n.instructions,initialItemValue:"",renderItem:function(e,t,n){return Object(p.jsx)(W,{name:"instructions",placeholder:"Instruction",item:e,index:t,arrayHelpers:n},"instruction-".concat(t))}})}),Object(p.jsx)(u.a,{children:Object(p.jsx)(Z,{name:"comments",label:"Comments:",listItems:n.comments||[],initialItemValue:"",renderItem:function(e,t,n){return Object(p.jsx)(W,{name:"comments",placeholder:"Comment",item:e,index:t,arrayHelpers:n},"comment-".concat(t))}})})]})}})}function he(e){var t=B(),n=t.data,c=t.updateRecipe,r=t.loading,i=t.error,a=Object(o.h)().recipeId,s=n&&(null===n||void 0===n?void 0:n.find((function(e){return e.id===Number(a)})));return s?Object(p.jsxs)(O,{children:[r&&Object(p.jsx)("div",{children:"Loading..."}),i&&Object(p.jsx)("pre",{children:JSON.stringify(i,null,2)}),!r&&!i&&Object(p.jsx)(pe,{recipe:s,onEdit:function(e,t,n){c(e,t,n)}})]}):Object(p.jsx)(o.a,{replace:!0,to:"/"})}n(288);var Oe=["onSubmit"];var xe=function(e){var t=e.onSubmit,n=Object(b.a)(e,Oe);return Object(p.jsx)(Y.e,{initialValues:{userName:"",password:""},onSubmit:function(e,n){var c=n.setSubmitting;c(!0),t(e,(function(){return c(!1)}))},children:function(e){var t=e.isSubmitting;return Object(p.jsxs)(Y.d,{className:"login-form",children:[Object(p.jsx)(X,{name:"userName",label:"Username",children:Object(p.jsx)(Y.b,{name:"userName",type:"input",placeholder:"Enter your username"})}),Object(p.jsx)(X,{name:"password",label:"Password",children:Object(p.jsx)(Y.b,{name:"password",type:"password",placeholder:"Enter your password",autoComplete:"off"})}),n.error&&Object(p.jsx)("div",{className:"form-error",children:n.error}),Object(p.jsx)(K.a,{type:"submit",variant:"secondary",disabled:t,children:"Submit"})]})}})};function fe(e){var t,n,c=V(),r=function(){var e=Object(S.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.login(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return!c.loading&&c.user?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsxs)(O,{children:[Object(p.jsx)("h3",{children:"Log In"}),Object(p.jsx)(xe,{onSubmit:r,error:null===(t=c.error)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.data})]})}var ve=n(148),ge=n(88);function ye(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(null),o=Object(s.a)(a,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){var t=window.matchMedia(e);j(t),i(t.matches)}),[e]),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(c.useRef)(t);Object(c.useEffect)((function(){r.current=t}),[t]),Object(c.useEffect)((function(){if(null!=n){var t=function(e){return r.current(e)};return n.addEventListener(e,t),function(){return n.removeEventListener(e,t)}}}),[e,n])}("change",(function(e){return i(e.matches)}),l),r}var Ne=n(311),Ce=n(146);n(289);var Se=function(e){var t=e.onSubmit,n=e.initialValue,r=Object(c.useRef)(null),i=Object(c.useState)(n&&n.length>0),a=Object(s.a)(i,2),o=a[0],l=a[1];return Object(c.useEffect)((function(){r.current.value=n}),[n]),Object(p.jsxs)(Ne.a,{className:"search-form",onSubmit:function(e){e.preventDefault(),"function"===typeof t&&t(r.current.value)},children:[Object(p.jsx)(Ce.a,{type:"search",placeholder:"Search","aria-label":"Search",className:"search-bar",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),r.current.blur(),"function"===typeof t&&t(r.current.value))},onChange:function(e){e.target.value.length>0?l(!0):l(!1)},ref:r}),Object(p.jsx)(K.a,{className:"clear-btn ".concat(o?"show":"hide"),variant:"outline-secondary",onClick:function(){r.current.value="",l(!1),"function"===typeof t&&t("")},children:"x"}),Object(p.jsx)(K.a,{variant:"secondary",type:"submit",className:"mx-2",children:"Search"})]})},Ie=n(305),ke=n(306),we=n(307),Fe=n(308),Re=n(309),Ee=n(310);function Le(e){var t=e.to,n=e.text,c=void 0===n?"":n,r=e.IconComponent,i=e.IconFillComponent,a=Object(o.f)().pathname;return Object(p.jsxs)(ge.a.Item,{as:l.b,to:t,className:"nav-link",children:[a===t?Object(p.jsx)(i,{size:40,className:"mx-2"}):Object(p.jsx)(r,{size:40,className:"mx-2"})," ",c]})}function Te(){return Object(p.jsxs)(ge.a,{className:"nav-links",children:[Object(p.jsx)(Le,{to:"/",text:"Home",IconComponent:Ie.a,IconFillComponent:ke.a}),Object(p.jsx)(Le,{to:"/favorites",text:"Favorites",IconComponent:v.a,IconFillComponent:f.a}),Object(p.jsx)(Le,{to:"/new",text:"New",IconComponent:we.a,IconFillComponent:Fe.a}),Object(p.jsx)(Le,{to:"/settings",text:"Settings",IconComponent:Re.a,IconFillComponent:Ee.a})]})}n(292);function Pe(e){var t=e.onShowFilter,n=B(),c=n.filter,r=n.updateFilter,i=ye("(min-width: 1081px)"),a=Object(o.f)().pathname,s=Object(o.g)();return V().user?Object(p.jsxs)(p.Fragment,{children:[i&&Object(p.jsx)(ve.a,{className:"top-bar",children:Object(p.jsx)(ge.a,{className:"top-bar-nav",children:Object(p.jsx)(Te,{})})}),Object(p.jsx)(ve.a,{className:"top-bar",sticky:"top",children:Object(p.jsxs)(ge.a,{className:"top-bar-nav",children:[Object(p.jsx)(ge.a.Item,{children:Object(p.jsx)(K.a,{variant:"outline-secondary",onClick:function(){return s(-1)},children:"Back"})}),("/"===a||"/favorites"===a)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ge.a.Item,{children:Object(p.jsx)(K.a,{variant:"secondary",className:"show-filters-btn",onClick:t,children:"Filters"})}),Object(p.jsx)(ge.a.Item,{children:Object(p.jsx)(Se,{onSubmit:function(e){return r({search:e})},initialValue:c.search})})]})]})})]}):null}n(293);function Ve(e){var t=ye("(max-width: 1080px)");return V().user?Object(p.jsx)(ve.a,{className:"bottom-bar ".concat(t?"":"hide"),fixed:"bottom",children:Object(p.jsx)(Te,{})}):null}var De=n(149);var He=function(e){return Object(p.jsxs)(De.a,Object(j.a)(Object(j.a)({show:e.show,onHide:e.onClose},e),{},{children:[Object(p.jsx)(De.a.Header,{closeButton:!0,children:Object(p.jsx)(De.a.Title,{children:e.title})}),Object(p.jsx)(De.a.Body,{children:e.children})]}))};n(294);var ze=function(e){var t=e.suggestions,n=e.placeholder,r=e.onSubmit,i=Object(c.useState)(""),a=Object(s.a)(i,2),o=a[0],l=a[1],j=Object(c.useState)([]),u=Object(s.a)(j,2),d=u[0],b=u[1],m=Object(c.useState)(-1),h=Object(s.a)(m,2),O=h[0],x=h[1],f=Object(c.useState)(!1),v=Object(s.a)(f,2),g=v[0],y=v[1],N=function(e){if(r)if(e)r(e);else{var t=d.findIndex((function(e){return e.name.toLowerCase()===o.toLowerCase()}));t>-1&&r(d[t])}},C=function(e){var t={id:e.currentTarget.value,name:e.currentTarget.innerText};x(-1),b([]),y(!1),l(""),N(t)},S=g&&""!==o?d.length?Object(p.jsx)("ul",{className:"suggestions-list",children:d.map((function(e,t){var n;return t===O&&(n="suggestion-active"),Object(p.jsx)("li",{className:n,value:e.id,onClick:C,children:e.name},e.id)}))}):Object(p.jsx)("div",{className:"no-suggestions",children:Object(p.jsx)("em",{children:"No suggestions available."})}):null;return Object(p.jsxs)("div",{className:"autocomplete-container",children:[Object(p.jsx)(Ce.a,{className:"autocomplete-input-bar",type:"search",onChange:function(e){var n=e.currentTarget.value,c=t.filter((function(e){return e.name.toLowerCase().indexOf(n.toLowerCase())>-1}));x(-1),b(c),y(""!==n),l(n)},onKeyDown:function(e){var t=e.keyCode;if(13===t){if(e.preventDefault(),-1===O&&""===o)return;O>-1?N(d[O]):N(),x(-1),y(!1),l("")}else if(38===t){if(0===O||!g)return;x((function(e){return e-1}))}else if(40===t){if(O+1===d.length||!g)return;x((function(e){return e+1}))}},value:o,placeholder:n}),S]})};n(295);var Be=function(e){var t=e.name,n=e.listItems,c=e.suggestions,r=e.onChange;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ze,{suggestions:c,placeholder:"Enter an ingredient to add to list",onSubmit:function(e){r&&r(e)}}),Object(p.jsx)(Y.c,{name:t,render:function(e){return Object(p.jsx)("ul",{className:"autocomplete-list",children:n.map((function(t,n){return Object(p.jsxs)(u.a,{as:"li",children:[Object(p.jsx)(d.a,{xs:1,children:Object(p.jsx)(G.a,{onClick:function(){e.remove(n)}})}),Object(p.jsx)(d.a,{children:t.name})]},n)}))})}})]})};n(296);var _e=function(e){var t=e.initialFilter,n=e.onSubmit,c=e.ingredients,r=function(){n({ingredients:[]})};return Object(p.jsx)(Y.e,{initialValues:t,onSubmit:function(e){n({ingredients:e.ingredients})},children:function(e){return Object(p.jsxs)(Y.d,{className:"filter-recipes-form",children:[Object(p.jsxs)(u.a,{children:[Object(p.jsx)("h5",{children:"Ingredients"}),Object(p.jsx)(Be,{name:"ingredients",suggestions:c,listItems:e.values.ingredients,onChange:function(t){e.setFieldValue("ingredients",[].concat(Object(C.a)(e.values.ingredients),[t]))}})]}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(K.a,{variant:"outline-secondary",className:"clear-filters-btn",onClick:r,children:"Clear"}),Object(p.jsx)(K.a,{variant:"secondary",className:"apply-filters-btn",type:"submit",children:"Apply"})]})]})}})};var Je=function(e){var t=e.show,n=e.onClose,c=B(),r=c.filter,i=c.updateFilter,a=E("/api/ingredients").value;return Object(p.jsx)(He,{show:t,onClose:n,title:"Select your filters",children:Object(p.jsx)(_e,{initialFilter:r,onSubmit:function(e){i(e),n()},ingredients:a})})},Ae=n(312);function qe(e){var t=se(),n=t.dialog,c=t.show,r=t.setShow;return Object(p.jsxs)(Ae.a,{show:c,onHide:function(){return r(!1)},children:[Object(p.jsx)(Ae.a.Header,{closeButton:!0,children:Object(p.jsx)(Ae.a.Title,{children:n.title})}),Object(p.jsx)(Ae.a.Body,{children:Object(p.jsx)("p",{children:n.text})}),Object(p.jsx)(Ae.a.Footer,{children:n.footer})]})}n(297);function Ye(e){var t=e.children,n=V();return n.loading?Object(p.jsx)("div",{children:"Loading..."}):n.user?t:Object(p.jsx)(o.a,{to:"/login"})}var Ke=function(){var e=function(e){var t=Object(c.useState)(e),n=Object(s.a)(t,2),r=n[0],i=n[1];return[r,function(e){i((function(t){return"boolean"===typeof e?e:!t}))}]}(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(H,{children:Object(p.jsx)(oe,{children:Object(p.jsxs)(J,{children:[Object(p.jsx)(Je,{show:n,onClose:function(){return r(!1)}}),Object(p.jsx)(qe,{}),Object(p.jsxs)(l.a,{children:[Object(p.jsx)(Pe,{onShowFilter:function(){return r(!0)}}),Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/login",element:Object(p.jsx)(fe,{})}),Object(p.jsx)(o.b,{path:"/",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(A,{})})}),Object(p.jsx)(o.b,{path:"/favorites",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(q,{})})}),Object(p.jsx)(o.b,{path:"/new",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(re,{})})}),Object(p.jsx)(o.b,{path:"/settings",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(ie,{})})}),Object(p.jsx)(o.b,{path:"/recipe/:recipeId",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(ue,{})})}),Object(p.jsx)(o.b,{path:"/recipe/:recipeId/edit",element:Object(p.jsx)(Ye,{children:Object(p.jsx)(he,{})})})]}),Object(p.jsx)(Ve,{})]})]})})})})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,314)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Ke,{})}),document.getElementById("root")),Me()}},[[298,1,2]]]);
//# sourceMappingURL=main.6f6154e0.chunk.js.map