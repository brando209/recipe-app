(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(e,n,t){},286:function(e,n,t){},287:function(e,n,t){},288:function(e,n,t){},289:function(e,n,t){},290:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t.n(r),a=t(38),c=t.n(a),o=(t(163),t(10)),s=t(47),l=t(6),d=t(2),u=t(4),b=t(5),j=t(8),m=t(12),p=t.n(m),h=t(18);function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useState)(!1),i=Object(j.a)(t,2),a=i[0],c=i[1],o=Object(r.useState)(null),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(null),b=Object(j.a)(u,2),m=b[0],p=b[1],h=Object(r.useCallback)((function(){c(!0),d(null),p(null),e&&"function"===typeof e&&e().then(p).catch(d).finally((function(){return c(!1)}))}),n);return Object(r.useEffect)((function(){h()}),[h]),{loading:a,error:l,value:m,setLoading:c,setError:d,setValue:p}}var v=t(23),x=t.n(v),O={headers:{"Content-Type":"application/json"}};function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f((function(){var r,i;if(!e)return Promise.reject(null);var a=null===(r=n.headers)||void 0===r||null===(i=r.authorization)||void 0===i?void 0:i.split(" ")[1];return!t||null!==a&&"null"!==a&&void 0!==a&&"undefined"!==a?x.a.get(e,Object(d.a)(Object(d.a)({},O),n)).then((function(e){if(200===e.status)return e.data})):Promise.reject("No valid auth token")}),r)}function y(e){return{authorization:"BEARER ".concat(e)}}var w={login:function(e){return x.a.post("/api/auth/login",e)},guestLogin:function(){return x.a.get("/api/auth/guest")},logout:function(e){return x.a.get("/api/auth/logout",{headers:y(e)})},updateAccount:function(e,n){return x.a.patch("/api/user",e,{headers:y(n)})}};function k(e){localStorage.setItem("recipe_app_0246_auth_token",e)}var C,I=t(0),S=Object(r.createContext)({}),E=function(){return Object(r.useContext)(S)},N=localStorage.getItem("recipe_app_0246_auth_token");function T(e){var n=e.children,t=g("/api/auth/login",{headers:{authorization:"BEARER ".concat(N)}},!0,[N]),i=t.loading,a=t.error,c=t.value,o=t.setLoading,s=t.setError,l=t.setValue,u=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),l(null),s(null),e.next=6,w.login(n);case 6:t=e.sent,l(t.data),k(t.data.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:o(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),[o,l,s]),b=Object(r.useCallback)(Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),l(null),s(null),e.next=6,w.guestLogin();case 6:n=e.sent,l(n.data),k(n.data.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:o(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[o,l,s]),j=Object(r.useCallback)(Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"guest"!==c.type){e.next=4;break}return e.next=4,w.logout(c.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s(e.t0);case 9:l(null),localStorage.removeItem("recipe_app_0246_auth_token");case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))),[c,l,s]),m=Object(r.useCallback)((function(e){l((function(n){return Object(d.a)(Object(d.a)({},n),{},{theme:e})})),w.updateAccount({theme:e},c.token)}),[c,l]),f=Object(r.useMemo)((function(){return{loading:i,error:a,user:c,login:u,guestLogin:b,logout:j,updateTheme:m}}),[i,a,c,u,b,j,m]);return Object(I.jsx)(S.Provider,{value:f,children:n})}var D,L=["children","variant","active","type"],R=Object(r.forwardRef)((function(e,n){var t=e.children,r=e.variant,i=void 0===r?"primary":r,a=e.active,c=void 0!==a&&a,o=e.type,s=void 0===o?"button":o,l=Object(u.a)(e,L);return Object(I.jsx)(F,Object(d.a)(Object(d.a)({ref:n,variant:i,active:c,type:s},l),{},{children:t}))})),F=b.b.button(C||(C=Object(l.a)(["\n    font-size: 1rem;\n    padding: 0.25rem 1rem;\n    border-radius: 4px;\n\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n\n    :hover {\n        background-color: ",";\n        color: ",";\n        cursor: pointer;\n    }\n\n    :active {\n        background-color: ",";\n        color: ",";\n    }\n"])),(function(e){return n=e.theme,t=e.active,r=e.variant,t?"secondary"===r?n.main:n.accent:"secondary"===r?n.accent:n.main;var n,t,r}),(function(e){return n=e.theme,t=e.active,r=e.variant,t?"secondary"===r?n.contrast:n.main:"secondary"===r?n.main:n.contrast;var n,t,r}),(function(e){return e.theme.main}),(function(e){return"secondary"===e.variant?e.theme.main:e.theme.accent}),(function(e){return"secondary"===e.variant?e.theme.contrast:e.theme.main}),(function(e){return"secondary"===e.variant?e.theme.secondary:e.theme.contrast}),(function(e){return"secondary"===e.variant?e.theme.contrast:e.theme.main})),A=R,z=Object(r.createContext)({}),M={light:{main:"#5d5d5d",secondary:"#9e9e9e",accent:"#dedede",contrast:"#fffefc"},dark:{main:"#121212",secondary:"#1f1f1f",accent:"#353432",contrast:"#a8a8a8"},red:{main:"#8b0000",secondary:"#ba0000",accent:"#d00000",contrast:"#e50000"},pink:{main:"#ff084a",secondary:"#ff6289",accent:"#ff93ac",contrast:"#ffc2cd"}},P=function(){return Object(r.useContext)(z)};function H(e){var n=e.children,t=Object(r.useState)({show:!1,title:"Dialog Box",text:"Dialog body text",body:Object(I.jsx)("div",{children:"Body component"}),footer:Object(I.jsx)(A,{children:"Close"})}),i=Object(j.a)(t,2),a=i[0],c=i[1],o=Object(r.useState)({show:!1}),s=Object(j.a)(o,2),l=s[0],u=s[1],m=Object(r.useState)({show:!0}),p=Object(j.a)(m,2),h=p[0],f=p[1],v=function(e){var n=E(),t=Object(r.useState)(M[e]),i=Object(j.a)(t,2),a=i[0],c=i[1];return Object(r.useEffect)((function(){var t;c(M[null===(t=n.user)||void 0===t?void 0:t.theme]||M[e])}),[n,c,e]),[a,Object(r.useCallback)((function(e){switch(e){case"red":c(M.red),n.updateTheme(e);break;case"pink":c(M.pink),n.updateTheme(e);break;case"dark":c(M.dark),n.updateTheme(e);break;default:c(M.light),n.updateTheme("light")}}),[n,c])]}("light"),x=Object(j.a)(v,2),O=x[0],g=x[1],y=Object(r.useCallback)((function(){return c((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!0})}))}),[]),w=Object(r.useCallback)((function(){return c((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!1})}))}),[]),k=Object(r.useCallback)((function(){return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!0})}))}),[]),C=Object(r.useCallback)((function(){return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!1})}))}),[]),S=Object(r.useCallback)((function(){return f((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!0})}))}),[]),N=Object(r.useCallback)((function(){return f((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!1})}))}),[]),T=Object(r.useMemo)((function(){return{dialog:a,setDialog:c,showDialog:y,hideDialog:w,sidebar:l,showSidebar:k,hideSidebar:C,navbar:h,showNavbar:S,hideNavbar:N,theme:O,updateTheme:g}}),[a,c,y,w,l,k,C,h,S,N,O,g]);return Object(I.jsx)(z.Provider,{value:T,children:Object(I.jsx)(b.a,{theme:O,children:n})})}var V=["children"];function q(e){var n=e.children,t=Object(u.a)(e,V),r=P().theme;return Object(I.jsxs)(J,Object(d.a)(Object(d.a)({theme:r},t),{},{children:[n,Object(I.jsx)("div",{className:"footer"})]}))}var J=b.b.div(D||(D=Object(l.a)(["\n    background: ",";\n    width: 100%;\n    margin: 0 auto;\n    padding: 0.5rem;\n    min-height: 86vh;\n\n    .footer {\n        height: 5rem;\n        width: 100%;\n        background: transparent;\n    }\n"])),(function(e){return e.theme.contrast})),_=t(14),B=t(22);var W={createRecipe:function(e,n){return x.a.post("/api/recipes",e,{headers:n})},updateRecipe:function(e,n,t){return x.a.patch("/api/recipes/".concat(e),n,{headers:t})},deleteRecipe:function(e,n){return x.a.delete("/api/recipes/".concat(e),{headers:n})}},G=Object(r.createContext)({}),U=function(){return Object(r.useContext)(G)},Y=function(e){return{Authorization:"BEARER ".concat(e)}};function $(e){var n,t,i=e.children,a=E(),c=g("/api/recipes",{headers:{authorization:"BEARER ".concat(null===(n=a.user)||void 0===n?void 0:n.token)}},!0,[null===(t=a.user)||void 0===t?void 0:t.token]),o=c.loading,s=c.error,l=c.value,u=c.setValue,b=Object(r.useState)({ingredients:[],categories:[],search:""}),m=Object(j.a)(b,2),f=m[0],v=m[1],x=function(){var e=Object(h.a)(p.a.mark((function e(n){var t,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:function(){},e.prev=1,e.next=4,W.createRecipe(n,Y(a.user.token));case 4:r=e.sent,u((function(e){return[].concat(Object(_.a)(e),[r.data])})),t(r.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),t(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(p.a.mark((function e(n,t){var r,i,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:function(){},e.prev=1,e.next=4,W.updateRecipe(n,t,Y(a.user.token));case 4:i=e.sent,u((function(e){var n=Object(_.a)(e),t=n.findIndex((function(e){return e.id===i.data.id}));return t>-1&&n.splice(t,1,i.data),n})),r(i.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),r(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(p.a.mark((function e(n){var t,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:function(){},e.prev=1,e.next=4,W.deleteRecipe(n,Y(a.user.token));case 4:u((function(e){var t=Object(_.a)(e),r=t.findIndex((function(e){return e.id===n}));return r>-1&&t.splice(r,1),t})),t(!0,null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:",e.t0),t(null,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),w=function(e){var n,t=e.ingredients,r=e.categories,i=e.search,a=t.length>0||r.length>0,c=null===l||void 0===l?void 0:l.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{_score:0})})),o=Object(B.a)(t);try{var s=function(){var e,t=n.value.name.toLowerCase();c=null===(e=c)||void 0===e?void 0:e.map((function(e){var n,r=Object(B.a)(e.ingredients);try{for(r.s();!(n=r.n()).done;){n.value.name.toLowerCase().includes(t)&&(e._score+=2)}}catch(i){r.e(i)}finally{r.f()}return e.title.toLowerCase().includes(t)&&(e._score+=3),e.description.toLowerCase().includes(t)&&(e._score+=2),e}))};for(o.s();!(n=o.n()).done;)s()}catch(v){o.e(v)}finally{o.f()}var u,b,j,m=Object(B.a)(r);try{var p=function(){var e,n=u.value.name.toLowerCase();c=null===(e=c)||void 0===e?void 0:e.map((function(e){var t,r=Object(B.a)(e.categories);try{for(r.s();!(t=r.n()).done;){t.value.name.toLowerCase().includes(n)&&(e._score+=3)}}catch(v){r.e(v)}finally{r.f()}return e.title.toLowerCase().includes(n)&&(e._score+=5),e.description.toLowerCase().includes(n)&&(e._score+=4),e}))};for(m.s();!(u=m.n()).done;)p()}catch(v){m.e(v)}finally{m.f()}if(i){var h,f=i.toLowerCase();c=null===(h=c)||void 0===h?void 0:h.filter((function(e){var n;return e.title.toLowerCase().includes(f)||e.description.toLowerCase().includes(f)||e.ingredients.map((function(e){return e.name})).join(" ").toLowerCase().includes(f)||e.instructions.join(" ").toLowerCase().includes(f)||(null===(n=e.comments)||void 0===n?void 0:n.join(" ").toLowerCase().includes(f))||e.categories.map((function(e){return e.name})).join(" ").toLowerCase().includes(f)}))}a&&(c=null===(j=c=null===(b=c)||void 0===b?void 0:b.filter((function(e){return e._score>0})))||void 0===j?void 0:j.sort((function(e,n){return n._score-e._score})));return c}(f);return Object(I.jsx)(G.Provider,{value:{loading:o,error:s,data:w,createRecipe:x,updateRecipe:O,deleteRecipe:y,updateFilter:function(e){v((function(n){return Object(d.a)(Object(d.a)({},n),e)}))},filter:f},children:i})}var K,Q,X,Z,ee=t(39),ne=t(292),te=t(293),re=function(e){var n="";return(null===e||void 0===e?void 0:e.days)>0&&(n+="".concat(e.days," days ")),(null===e||void 0===e?void 0:e.hours)>0&&(n+="".concat(e.hours," hour ")),(null===e||void 0===e?void 0:e.minutes)>0&&(n+="".concat(e.minutes," minute ")),n},ie=function(e){var n=0;return(null===e||void 0===e?void 0:e.minutes)>0&&(n+=e.minutes),(null===e||void 0===e?void 0:e.hours)>0&&(n+=60*e.hours),(null===e||void 0===e?void 0:e.days)>0&&(n+=60*e.days*24),n};function ae(e){var n=Object(o.g)(),t=e.title,r=e.description,i=e.serves,a=e.prepTime,c=e.cookTime,s=e.totalTime,l=e.favorite,d=e.id,u=e.photo,b=function(n){n.stopPropagation(),e.onFavorite(d,l)},j=0===ie(a)&&0===ie(c);return Object(I.jsx)(oe,{children:Object(I.jsxs)(se,{onClick:function(){return n("/recipe/".concat(d))},children:[Object(I.jsxs)(le,{children:[Object(I.jsxs)(ee.a.Title,{className:"recipe-card-title",children:[t," ",Object(I.jsx)("span",{className:"favorite-btn",children:l?Object(I.jsx)(ne.a,{onClick:b}):Object(I.jsx)(te.a,{onClick:b})})]}),Object(I.jsxs)(ee.a.Subtitle,{className:"recipe-info",children:["Serves: ",i]}),ie(a)>0&&Object(I.jsxs)(ee.a.Subtitle,{className:"recipe-info",children:["Prep: ",re(a)]}),ie(c)>0&&Object(I.jsxs)(ee.a.Subtitle,{className:"recipe-info",children:["Cook: ",re(c)]}),j&&Object(I.jsxs)(ee.a.Subtitle,{className:"recipe-info",children:["Total: ",re(s)]}),Object(I.jsx)(ee.a.Text,{className:"recipe-card-text",children:r})]}),Object(I.jsx)(de,{children:Object(I.jsx)(ee.a.Img,{className:"recipe-card-img",src:u.path?"/".concat(u.path):"",alt:""})})]})})}var ce,oe=Object(b.b)(ee.a)(K||(K=Object(l.a)(["\n    height: 15rem;\n    width: 90%;\n    max-width: 30rem;\n    margin: 0;\n    margin-bottom: 0.5rem;\n    background: ",";\n    overflow: hidden;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2);\n\n    @media (min-width: 768px) {\n        width: 100%;\n        margin: 0.5rem;\n    }\n"])),(function(e){return e.theme.contrast})),se=Object(b.b)(ee.a.Body)(Q||(Q=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n"]))),le=b.b.div(X||(X=Object(l.a)(["\n    text-align: left;\n    flex: 0.5;\n    min-width: 100px;\n    height: 100%;\n\n    .recipe-info {\n        margin: 0.5rem auto;\n        color: grey;\n        font-size: small;\n    }\n\n    .recipe-card-title {\n        font-size: medium;\n        min-height: 3.5rem;\n        \n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        line-clamp: 3; \n    }\n\n    .recipe-card-text {\n        position: absolute;\n        bottom: 0;\n        width: 90%;\n        margin: 1rem auto;\n        font-size: small;\n        \n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        line-clamp: 2; \n    }\n\n    .favorite-btn {\n        color: var(--color-red);\n    }\n\n    @media (min-width: 375px) {\n        .recipe-info {\n            font-size: medium;\n        }\n        .recipe-card-title {\n            font-size: large;\n        }\n    }\n\n    @media (min-width: 425px) {\n        .recipe-card-text {\n            position: relative;\n            width: 100%;\n            margin: 0.5rem auto;\n            \n            -webkit-line-clamp: 3;\n            line-clamp: 3; \n        }\n    }\n"]))),de=b.b.div(Z||(Z=Object(l.a)(["\n    text-align: right;\n    flex: 0.5;\n    padding-left: 1rem;\n    padding-bottom: 1rem;\n\n    > img {\n        width: 100%;\n        min-height: 150px;\n        max-height: 12rem;\n        aspect-ratio: 1 / 1;\n        object-fit: cover;\n        object-position: center;\n    }\n"])));var ue,be=function(e){var n=e.recipes,t=e.onFavorite;return n&&0!==n.length?Object(I.jsx)(je,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(I.jsx)(ae,Object(d.a)(Object(d.a)({},e),{},{onFavorite:t}),e.id)}))}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"You currently have no saved recipes."}),Object(I.jsxs)("p",{children:[Object(I.jsx)(s.b,{to:"/new",children:"Click here"})," to add a new recipe."]})]})},je=b.b.div(ce||(ce=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 0 auto;\n"])));function me(){var e=U(),n=e.data,t=e.updateRecipe,r=e.loading,i=e.error;return Object(I.jsxs)(q,{children:[Object(I.jsx)("h1",{children:"Home"}),r&&Object(I.jsx)("p",{children:"Loading..."}),i&&Object(I.jsx)("pre",{children:JSON.stringify(i.message,null,2)}),!i&&!r&&Object(I.jsx)(be,{onFavorite:function(e,n){t(e,{favorite:!n})},recipes:n})]})}function pe(e){var n=U(),t=n.data,r=n.updateRecipe,i=n.loading,a=n.error,c=t&&(null===t||void 0===t?void 0:t.filter((function(e){return e.favorite})));return Object(I.jsxs)(q,{children:[Object(I.jsx)("h1",{children:"Favorites"}),i&&Object(I.jsx)("p",{children:"Loading..."}),a&&Object(I.jsx)("pre",{children:JSON.stringify(a.message,null,2)}),!a&&!i&&Object(I.jsx)(be,{onFavorite:function(e,n){r(e,{favorite:!n})},recipes:c||[]})]})}var he,fe=function(){return Object(I.jsx)(ve,{children:Object(I.jsx)(ne.a,{className:"heart-icon-spinner"})})},ve=b.b.div(ue||(ue=Object(l.a)(["\n    width: 50px;\n\n    .heart-icon-spinner {\n        animation-name: heartbeat;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        color: red;\n    }\n\n    @keyframes heartbeat {\n        from {\n            height: 1rem;\n            width: 1rem;\n        }\n\n        20% {\n            height: 1rem;\n            width: 1rem;\n        }\n\n        80% {\n            height: 1.2rem; \n            width: 1.2rem;\n        }\n\n        to {\n            height: 1.2rem; \n            width: 1.2rem;\n        }\n    }\n"]))),xe=["isLoading","defaultText","loadingText"];var Oe=function(e){var n=e.isLoading,t=e.defaultText,r=e.loadingText,i=Object(u.a)(e,xe);return Object(I.jsx)(ge,Object(d.a)(Object(d.a)({disabled:n},i),{},{children:n?Object(I.jsxs)("div",{children:[Object(I.jsx)(fe,{})," "," ",r||"Loading..."]}):t||"Load"}))},ge=Object(b.b)(A)(he||(he=Object(l.a)(["\n    > div {\n        display: flex;\n        flex-direction: row;\n        width: 150px;\n        margin: 0;\n        padding: 0;\n    }\n"]))),ye=t(11),we=["children","options","selected","placeholder"];function ke(e){var n=e.children,t=e.options,r=e.selected,i=e.placeholder,a=Object(u.a)(e,we);return Object(I.jsxs)(A,Object(d.a)(Object(d.a)({as:"select",defaultValue:r},a),{},{children:[i&&Object(I.jsx)("option",{value:"",children:i}),t?t.map((function(e){return Object(I.jsx)("option",{value:e,children:e},e)})):n]}))}var Ce,Ie,Se,Ee,Ne,Te=t(294);function De(e){var n=e.index,t=e.arrayHelpers;return Object(I.jsxs)(Re,{children:[Object(I.jsxs)(Fe,{children:[Object(I.jsx)(ye.b,{name:"ingredients.".concat(n,".name"),type:"input",placeholder:"Ingredient #".concat(n+1)}),Object(I.jsx)(ye.b,{name:"ingredients.".concat(n,".quantity"),type:"number",placeholder:"Amount",min:0,step:.001})]}),Object(I.jsxs)(Ae,{children:[Object(I.jsx)(ye.b,{as:ke,size:"sm",options:["small","medium","large"],name:"ingredients.".concat(n,".size"),placeholder:"size",variant:"secondary"}),Object(I.jsx)(ye.b,{as:ke,size:"sm",options:["teaspoon","tablespoon","cup","ounce","pound","milligram","gram","kilogram","liter","milliliter","quart","pint","gallon","pinch","piece","slice","stick","clove","can","box","bag","package"],name:"ingredients.".concat(n,".unit"),placeholder:"unit",variant:"secondary"})]}),Object(I.jsx)(ze,{children:Object(I.jsx)(Te.a,{onClick:function(){return t.remove(n)}})}),Object(I.jsx)(Me,{children:Object(I.jsx)(ye.b,{name:"ingredients.".concat(n,".comment"),type:"input",placeholder:"Additional info"})})]})}var Le,Re=b.b.div(Ce||(Ce=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 5px;\n    margin: 0.25rem auto;\n    border: 2px solid ",";\n    border-radius: 5px;\n    padding: 0.5rem;\n    background-color: ",";    \n    max-width: 450px;\n    width: 100%;\n"])),(function(e){return e.theme.main}),(function(e){return e.theme.accent})),Fe=b.b.div(Ie||(Ie=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    flex: 0.5;\n    > input {\n        width: 100%;\n        margin: 0.25rem auto;\n    }\n"]))),Ae=b.b.div(Se||(Se=Object(l.a)(["\n    flex: 0.3;\n    > select {\n        width: 100%;\n        margin: 0.25rem auto;\n        height: 30px;\n    }\n"]))),ze=b.b.div(Ee||(Ee=Object(l.a)(["\n    flex: 0.1;\n    > svg {\n        line-height: 1rem;\n        color: var(--color-red)\n    }\n    > svg:hover {\n        cursor: pointer;\n    }\n"]))),Me=b.b.div(Ne||(Ne=Object(l.a)(["\n    flex-basis: 100%;\n    > input {\n        width: 100%;\n        margin-top: 0.25rem;\n    }\n"])));function Pe(e){var n=e.name,t=e.index,r=e.arrayHelpers,i=e.placeholder;return Object(I.jsxs)(Ve,{children:[Object(I.jsx)("div",{children:Object(I.jsx)(ye.b,{name:"".concat(n,".").concat(t),as:"textarea",placeholder:"".concat(i," #").concat(t+1),rows:"3"})}),Object(I.jsx)("div",{children:Object(I.jsx)(Te.a,{onClick:function(){return r.remove(t)}})})]})}var He,Ve=b.b.div(Le||(Le=Object(l.a)(["\n    display: flex;\n    justify-content: space-around;\n    gap: 5px;\n    max-width: 450px;\n    width: 100%;\n    padding: 0.5rem;\n    margin: 0.25rem auto;\n\n    > div > svg {\n        color: var(--color-red);\n    }\n\n    > div > svg:hover {\n        cursor: pointer;\n    }\n\n    > div:first-child {\n        flex: 0.9;\n    }\n\n    > div:nth-child(2) {\n        flex: 0.1;\n    }\n\n    @media (min-width: 428px) {\n        width: 90%;\n    }\n\n    @media (min-width: 768px) {\n        width: 80%;\n    }\n\n    > div > textarea {\n        width: 100%;\n    }\n"])));function qe(e){var n=e.name,t=e.label,r=e.children;return Object(I.jsxs)(Be,{numElements:null===r||void 0===r?void 0:r.length,children:[t&&Object(I.jsxs)("span",{children:[Object(I.jsx)("label",{htmlFor:n,children:t}),": "]}),Object(I.jsx)("div",{children:r})]})}var Je,_e,Be=b.b.div(He||(He=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 0.5rem auto;\n    > span {\n        font-weight: bold;\n        display: flex;\n        justify-content: flex-start;\n    }\n    > div {\n        text-align: left;\n        > input, > select, > textarea {\n            width: 100%;\n        }\n    }\n\n    @media (min-width: 428px) {\n        flex-direction: row;\n        > span {\n            flex: 0.3;\n            justify-content: flex-end;\n        }\n        > div {\n            flex: 1;\n            margin-left: 2rem;\n        }\n    }\n\n    @media (min-width: 1024px) {\n        > span {\n            flex: 0.4;\n        }\n    }\n"])));function We(e){var n=e.name,t=e.label,r=e.listItems,i=e.renderItem,a=e.initialItemValue,c=e.buttonPlacement,o=void 0===c?"top left":c,s=e.buttonText,l=void 0===s?"Add":s,d=e.buttonVariant,u=void 0===d?"primary":d,b=e.renderButton,j=void 0===b?null:b;return Object(I.jsx)(ye.c,{name:n,render:function(e){return Object(I.jsxs)($e,{buttonPlacement:o,children:[t&&Object(I.jsxs)("span",{className:"label-container",children:[Object(I.jsx)("label",{htmlFor:n,children:t}),": "]}),Object(I.jsx)("div",{className:"add-btn-container",children:!1===j?null:j?j((function(){return e.push(a)})):Object(I.jsx)(A,{type:"button",size:"sm",variant:u,onClick:function(){return e.push(a)},children:l})}),Object(I.jsx)(Ke,{children:r.map((function(n,t){return i(n,t,e)}))})]})}})}var Ge,Ue,Ye,$e=b.b.div(Je||(Je=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    margin: 0.5rem auto;\n\n    .label-container {\n        display: flex;\n        justify-content: flex-start;\n        font-weight: bold;\n        flex: 0.4;\n        order: 0;\n    }\n    \n    .add-btn-container {\n        flex: 1;\n        text-align: ",";\n        order: ",";\n    }\n\n    .label-container + .add-btn-container {\n        margin-left: 2rem;\n    }\n\n    @media (min-width: 428px) {\n        .label-container {\n            justify-content: flex-end;\n            flex: 0.3;\n        }\n    }\n\n    @media (min-width: 1024px) {\n        .label-container {\n            flex: 0.4;\n        }\n    }\n"])),(function(e){var n=e.buttonPlacement;return["left","center","right"].includes(n.split(" ")[1])?n.split(" ")[1]:"left"}),(function(e){return"bottom"===e.buttonPlacement.split(" ")[0]?3:1})),Ke=b.b.div(_e||(_e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-basis: 100%;\n    order: 2;\n"])));function Qe(e){var n=e.index,t=e.arrayHelpers;return Object(I.jsxs)(en,{children:[Object(I.jsx)(nn,{children:Object(I.jsx)(ye.b,{name:"categories.".concat(n,".name"),type:"input",placeholder:"Category #".concat(n+1)})}),Object(I.jsx)(tn,{children:Object(I.jsx)(ye.b,{as:ke,options:["other","flavor","meal","dish","cuisine"],size:"sm",name:"categories.".concat(n,".type"),variant:"secondary"})}),Object(I.jsx)(Te.a,{onClick:function(){return t.remove(n)}})]})}var Xe,Ze,en=b.b.div(Ge||(Ge=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    gap: 5px;\n    width: 100%;\n    max-width: 450px;\n    margin: 0.25rem auto;\n\n    > svg {\n        flex: 1;\n        color: var(--color-red)\n    }\n\n    > svg:hover {\n        cursor: pointer;\n    }\n\n    @media (min-width: 428px) {\n        justify-content: flex-end;\n        width: 90%;\n    }\n"]))),nn=b.b.div(Ue||(Ue=Object(l.a)(["\n    flex: 6;\n    > input {\n        width: 100%;\n    }\n"]))),tn=b.b.div(Ye||(Ye=Object(l.a)(["\n    flex: 4;\n    > select {\n        width: 100%;\n        max-width: 100px;\n    }\n"]))),rn=["name","id"];function an(e){var n=e.name,t=e.id,r=Object(u.a)(e,rn);return Object(I.jsx)(ye.c,{name:n,render:function(e){var i,a,c;return Object(I.jsxs)(bn,{id:t,children:[Object(I.jsxs)(un,{children:[Object(I.jsx)("label",{children:"Days:"}),Object(I.jsx)(ye.b,Object(d.a)(Object(d.a)({type:"number"},r),{},{value:null===(i=r.value)||void 0===i?void 0:i.days,name:"".concat(n,".days"),min:"0",max:"30",step:"1",placeholder:"Days"}))]}),Object(I.jsxs)(un,{children:[Object(I.jsx)("label",{children:"Hours:"}),Object(I.jsx)(ye.b,Object(d.a)(Object(d.a)({type:"number"},r),{},{value:null===(a=r.value)||void 0===a?void 0:a.hours,name:"".concat(n,".hours"),min:"0",max:"24",step:"1",placeholder:"Hours"}))]}),Object(I.jsxs)(un,{children:[Object(I.jsx)("label",{children:"Minutes:"}),Object(I.jsx)(ye.b,Object(d.a)(Object(d.a)({type:"number"},r),{},{value:null===(c=r.value)||void 0===c?void 0:c.minutes,name:"".concat(n,".minutes"),min:"0",max:"480",step:"1",placeholder:"Minutes"}))]})]})}})}var cn,on,sn,ln,dn,un=b.b.div(Xe||(Xe=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    \n    >input {\n        margin-left: 0.25rem;\n        min-width: 4rem;\n        max-width: 5rem;\n    };\n    "]))),bn=b.b.div(Ze||(Ze=Object(l.a)(["\n    justify-content: center;\n    display: flex;\n    gap: 0.75rem;\n"]))),jn=t(36),mn=jn.c({days:jn.b(),hours:jn.b(),minutes:jn.b()}),pn=jn.c().shape({title:jn.d().min(3,"Too Short!").max(96,"Too Long!").required("Please provide a title."),description:jn.d().required("Please provide a description."),prepTime:mn,cookTime:mn,totalTime:mn,ingredients:jn.a().min(1,"Please provide the ingredients list."),instructions:jn.a().min(1,"Please provide the instructions list").required("Please provide the instructions list."),comments:jn.a()});function hn(e){var n=e.onSubmit,t=e.initialValues,i=e.isImporting,a=Object(r.useState)(null),c=Object(j.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(null),d=Object(j.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){var e=new FileReader,n=function(e){b(e.target.result)};return e.addEventListener("load",n,!1),o?e.readAsDataURL(o):b(null),function(){return e.removeEventListener("load",n)}}),[o]);return Object(I.jsx)(ye.e,{initialValues:t,enableReinitialize:!0,onSubmit:function(e,t){var r,i,a,c=t.setSubmitting,o=new FormData;o.append("title",e.title),o.append("description",e.description),o.append("serves",null!==(r=e.serves)&&void 0!==r?r:1),o.append("prepTime",JSON.stringify(e.prepTime)),o.append("cookTime",JSON.stringify(e.cookTime)),o.append("totalTime",JSON.stringify(e.totalTime)),o.append("ingredients",JSON.stringify(e.ingredients)),o.append("instructions",JSON.stringify(e.instructions)),o.append("comments",JSON.stringify(e.comments)),o.append("categories",JSON.stringify(e.categories)),o.append("photo",(null!==(i=null===(a=e.photo)||void 0===a?void 0:a.url)&&void 0!==i?i:e.photo)||""),c(!0),n(o,(function(){c(!1)}))},validationSchema:pn,children:function(e){var n,t,r=e.isSubmitting,a=e.values,c=e.setFieldValue;return Object(I.jsxs)(gn,{children:[Object(I.jsx)(vn,{type:"submit",variant:"secondary",isLoading:r,disabled:r||i,defaultText:"Submit",loadingText:"Submitting..."}),Object(I.jsx)(qe,{name:"title",label:"Title",children:Object(I.jsx)(ye.b,{name:"title",placeholder:"Recipe Title",type:"input",className:"title-input"})}),Object(I.jsx)(yn,{name:"title",component:"div",className:"form-error-message"}),Object(I.jsx)(qe,{name:"description",label:"Description",children:Object(I.jsx)(ye.b,{name:"description",placeholder:"Recipe Description",as:"textarea",className:"description-input"})}),Object(I.jsx)(yn,{name:"description",component:"div",className:"form-error-message"}),Object(I.jsx)(qe,{name:"prepTime",label:"Prep Time",children:Object(I.jsx)(ye.b,{as:an,name:"prepTime",id:"time-input"})}),Object(I.jsx)(yn,{name:"prepTime",component:"div",className:"form-error-message"}),Object(I.jsx)(qe,{name:"cookTime",label:"Cook Time",children:Object(I.jsx)(ye.b,{as:an,name:"cookTime",id:"time-input"})}),Object(I.jsx)(yn,{name:"cookTime",component:"div",className:"form-error-message"}),Object(I.jsx)(qe,{name:"totalTime",label:"Total Time",children:Object(I.jsx)(ye.b,{as:an,name:"totalTime",id:"time-input"})}),Object(I.jsx)(yn,{name:"totalTime",component:"div",className:"form-error-message"}),Object(I.jsx)(qe,{name:"serves",label:"Serves",children:Object(I.jsx)(ye.b,{name:"serves",placeholder:"Serves",type:"number",min:1,className:"serving-input"})}),Object(I.jsx)(yn,{name:"serves",component:"div",className:"form-error-message"}),a.photo&&Object(I.jsxs)(xn,{children:[Object(I.jsx)("span",{onClick:function(){return function(e){e("photo",null),s(null)}(c)},children:"\xd7"}),Object(I.jsx)(On,{src:a.photo&&"string"===typeof a.photo?a.photo:(null===(n=a.photo)||void 0===n?void 0:n.url)&&"string"===typeof(null===(t=a.photo)||void 0===t?void 0:t.url)?a.photo.url:u,alt:""})]}),Object(I.jsx)(qe,{name:"photo",label:"Image",children:Object(I.jsx)(ye.b,{type:"file",name:"photo",value:void 0,onChange:function(e){var n=e.target.files[0];c("photo",n),s(n)}})}),Object(I.jsx)(We,{name:"categories",label:"Categories",listItems:a.categories,initialItemValue:{name:"",type:""},renderItem:function(e,n,t){return Object(I.jsx)(Qe,{item:e,index:n,arrayHelpers:t},"category-".concat(n))}}),Object(I.jsx)(yn,{name:"categories",component:"div",className:"form-error-message"}),Object(I.jsx)(We,{name:"ingredients",label:"Ingredients",listItems:a.ingredients,initialItemValue:{name:"",quantity:"",unit:"",size:"",comment:""},renderItem:function(e,n,t){return Object(I.jsx)(De,{item:e,index:n,arrayHelpers:t},"ingredient-".concat(n))}}),Object(I.jsx)(yn,{name:"ingredients",component:"div",className:"form-error-message"}),Object(I.jsx)(We,{name:"instructions",label:"Instructions",listItems:a.instructions,initialItemValue:"",renderItem:function(e,n,t){return Object(I.jsx)(Pe,{name:"instructions",placeholder:"Instruction",item:e,index:n,arrayHelpers:t},"instruction-".concat(n))}}),Object(I.jsx)(yn,{name:"instructions",component:"div",className:"form-error-message"}),Object(I.jsx)(We,{name:"comments",label:"Comments",listItems:a.comments,initialItemValue:"",renderItem:function(e,n,t){return Object(I.jsx)(Pe,{name:"comments",placeholder:"Comment",item:e,index:n,arrayHelpers:t},"comment-".concat(n))}}),Object(I.jsx)(vn,{type:"submit",variant:"secondary",isLoading:r,disabled:r||i,defaultText:"Submit",loadingText:"Submitting..."})]})}})}var fn,vn=Object(b.b)(Oe)(cn||(cn=Object(l.a)([""]))),xn=b.b.div(on||(on=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    span {\n        color: red;\n        position: absolute;\n        right: 10px;\n    }\n    span:hover {\n        cursor: pointer;\n    }\n"]))),On=b.b.img(sn||(sn=Object(l.a)(["\n    width: 100%;\n    min-height: 150px;\n    max-height: 12rem;\n    aspect-ratio: 1 / 1;\n    object-fit: cover;\n    object-position: center;\n    border-radius: 5px;\n    border: 2px solid ",";\n    margin: 0 auto;\n"])),(function(e){return e.theme.main})),gn=Object(b.b)(ye.d)(ln||(ln=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 0 auto;\n    width: 100%;\n\n    >:nth-child(n) {\n        width: 100%;\n    }\n\n    .title-input, .description-input {\n        max-width: 500px;\n    }\n    .serving-input {\n        max-width: 350px;\n    }\n\n    @media (min-width: 428px) {\n        width: 95%; \n\n        #time-input {\n            justify-content: flex-start;\n        }\n\n        "," {\n            margin: 0;\n            margin-left: auto;\n            width: 70%;\n        }\n    }\n\n    @media (min-width: 768px) {\n        width: 90%; \n    }\n\n    @media (min-width: 1024px) {\n        width: 70%;\n    }\n\n    "," {\n        margin: 0.25rem auto;\n        width: initial;\n    }\n"])),On,vn),yn=Object(b.b)(ye.a)(dn||(dn=Object(l.a)(["\n    color: red;\n"]))),wn={title:"",description:"",serves:0,prepTime:{days:0,hours:0,minutes:0},cookTime:{days:0,hours:0,minutes:0},totalTime:{days:0,hours:0,minutes:0},ingredients:[],instructions:[],comments:[],categories:[],photo:null};function kn(e){var n,t=E(),i=Object(r.useState)(null),a=Object(j.a)(i,2),c=a[0],s=a[1],l=g(c||"",{headers:{authorization:"BEARER ".concat(null===(n=t.user)||void 0===n?void 0:n.token)}},!0,[c]),u=l.loading,b=l.error,m=l.value,p=P(),h=p.setDialog,f=p.showDialog,v=p.hideDialog,x=U().createRecipe,O=Object(o.g)(),y=Object(r.useCallback)((function(e){var n;h({title:"Error",text:null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data,footer:Object(I.jsx)(A,{onClick:v,children:"OK"})}),f()}),[h,f,v]);Object(r.useEffect)((function(){b&&y(b)}),[b,y]);var w=function(e){e.preventDefault(),s("/api/recipes/import?importUrl=".concat(e.target.lastChild.value)),v()};return Object(I.jsxs)(q,{children:[Object(I.jsxs)(Cn,{children:[Object(I.jsx)("h1",{children:"New Recipe"}),Object(I.jsx)(Oe,{id:"import-btn",isLoading:u,defaultText:"Import",loadingText:"Importing...",onClick:function(){h({title:"Import Recipe",text:"Please enter the URL for the webpage containing the recipe you want to import.",body:Object(I.jsx)("form",{onSubmit:w,id:"import-form",children:Object(I.jsx)("input",{type:"text"})}),footer:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(A,{variant:"secondary",onClick:function(){return v()},children:"Cancel"}),Object(I.jsx)(A,{type:"submit",form:"import-form",children:"Import"})]})}),f()}})]}),Object(I.jsx)(hn,{onSubmit:function(e,n){x(e,(function(e,t){if(t)return y(t),n();n(),O("/")}))},initialValues:Object(d.a)(Object(d.a)({},wn),m),isImporting:u,error:b})]})}var Cn=b.b.div(fn||(fn=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 2rem;\n\n    & #import-btn {\n        max-height: 2.25rem;\n    }\n"])));function In(e){var n=Object(o.g)(),t=E(),r=t.user,i=t.logout,a=P().updateTheme;return Object(I.jsxs)(q,{children:[Object(I.jsx)("h1",{children:"Account"}),Object(I.jsx)("h2",{children:"Details"}),Object(I.jsxs)("p",{children:["Username: ",null===r||void 0===r?void 0:r.userName]}),Object(I.jsx)("hr",{}),Object(I.jsx)("h2",{children:"Settings"}),Object(I.jsx)("label",{children:"Theme:\xa0\xa0"}),Object(I.jsx)(ke,{options:["dark","red","light","pink"],selected:r.theme,onChange:function(e){return a(e.target.value)}}),Object(I.jsx)("hr",{}),Object(I.jsx)(A,{onClick:function(){i(),n("/login")},variant:"secondary",children:"Log Out"})]})}var Sn,En=t(297),Nn=t(295),Tn=t(296);var Dn,Ln=function(e){var n=e.heading,t=e.listItems,r=e.renderItem,i=e.listStyle,a=e.type,c=void 0===a?"ul":a,o=e.direction,s=void 0===o?"vertical":o,l=t&&t.map((function(e,n){return Object(I.jsx)("li",{children:"function"===typeof r?r(e):e},n)})),u=Object(d.a)(Object(d.a)({},i),{},{display:"flex",flexDirection:"".concat("horizontal"===s?"row":"column")});return Object(I.jsxs)(Rn,{children:[Object(I.jsx)("h3",{children:n}),t&&t.length>0?"ul"===c?Object(I.jsx)("ul",{style:u,children:l}):Object(I.jsx)("ol",{style:u,children:l}):Object(I.jsx)("p",{children:"This list is currently empty"})]})},Rn=b.b.div(Sn||(Sn=Object(l.a)(["\n    > h3, > ul, > ol {\n        text-align: left;\n    }\n\n    > ul, > ol {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n    }\n"]))),Fn={.125:"1/8","0.250":"1/4","0.330":"1/3",.375:"3/8","0.500":"1/2",.625:"5/8","0.660":"2/3","0.750":"3/4",.875:"7/8"};var An,zn,Mn,Pn,Hn,Vn=b.b.div(Dn||(Dn=Object(l.a)(["\n    width: 100%;\n    text-align: left;\n    margin-bottom: 0.5rem;\n\n    #display-quantity, #display-unit {\n        font-weight: 500;\n    }\n\n    #display-name, #display-size, #display-comment {\n        font-style: italic;\n    }\n\n    #display-comment {\n        color: #6f6f6f;\n    }\n\n"]))),qn=function(e){var n=e.ingredient,t=n.name,r=n.quantity,i=n.unit,a=n.size,c=n.comment,o=function(e){return e?Number(e)%1===0?"".concat(e," "):"".concat(Math.floor(e)>0?Math.floor(e)+" ":"").concat(Fn[parseFloat(e%1).toFixed(3)]," "):""};return Object(I.jsxs)(Vn,{children:[Object(I.jsx)("span",{id:"display-quantity",children:o(r)}),Object(I.jsx)("span",{id:"display-unit",children:i?Number(r)>1?"".concat(i,"s "):"".concat(i," "):""}),Object(I.jsx)("span",{id:"display-name",children:t.trim()}),Object(I.jsx)("span",{id:"display-size",children:a?", ".concat(a," "):" "}),Object(I.jsx)("span",{id:"display-comment",children:c?"(".concat(c.replace(/(\d+)\.(\d+)/,(function(e){return o(e)})),")"):""})]})};function Jn(e){var n=e.recipe,t=e.onFavorite,r=e.onDelete,i=Object(o.g)(),a=P(),c=a.setDialog,s=a.showDialog,l=a.hideDialog,d=n.id,u=n.title,b=n.description,j=n.ingredients,m=n.instructions,p=n.comments,h=n.categories,f=n.serves,v=n.prepTime,x=n.cookTime,O=n.totalTime,g=n.photo,y=n.favorite,w=function(){return t(d,y)};return Object(I.jsxs)(_n,{children:[Object(I.jsxs)(Bn,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:u}),y?Object(I.jsx)(ne.a,{onClick:w}):Object(I.jsx)(te.a,{onClick:w})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(Nn.a,{onClick:function(){i("/recipe/".concat(d,"/edit"))}}),Object(I.jsx)(Tn.a,{onClick:function(){c({title:"Delete Recipe",text:"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?",footer:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(A,{variant:"secondary",onClick:function(){return l()},children:"Cancel"}),Object(I.jsx)(A,{onClick:function(){return r(d,(function(){return l()}))},children:"Delete"})]})}),s()}})]})]}),Object(I.jsxs)(Wn,{children:[Object(I.jsx)(Gn,{src:g.path?"/".concat(g.path):"",alt:""}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Serves:\xa0"}),f]}),ie(v)>0&&Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Prep\xa0Time:\xa0"}),re(v)]}),ie(x)>0&&Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Cook\xa0Time:\xa0"}),re(x)]}),ie(O)>0&&Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Total\xa0Time:\xa0"}),re(O)]})]}),Object(I.jsx)("p",{children:b})]}),Object(I.jsxs)(Un,{children:[h&&Object(I.jsx)(Ln,{type:"ul",heading:"Categories",listStyle:{listStyleType:"none",padding:"0",margin:"0 0 5px 0"},direction:"horizontal",listItems:h,renderItem:function(e){return Object(I.jsx)(En.a,{className:"m-1",children:e.name})}}),Object(I.jsx)(Ln,{type:"ul",heading:"Ingredients",listItems:j,renderItem:function(e){return Object(I.jsx)(qn,{ingredient:e})}}),Object(I.jsx)(Ln,{type:"ol",heading:"Instructions",listItems:m}),p&&Object(I.jsx)(Ln,{heading:"Additional Comments",listItems:p})]})]})}var _n=b.b.div(An||(An=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 1rem auto;\n"]))),Bn=b.b.div(zn||(zn=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end; \n        align-items: flex-start;\n        margin-right: 1rem;\n        gap: 1rem;\n\n        > svg {\n            min-height: 1.5rem;\n            min-width: 1.5rem;\n        }\n\n        > svg:hover {\n            cursor: pointer;\n        }\n    }\n\n    > div:first-child {\n        > svg {\n            color: var(--color-red);\n        }\n    }\n    \n    @media (min-width: 428px) {\n        > div:first-child {\n            flex: 0.8;\n        }   \n    }\n"]))),Wn=b.b.div(Mn||(Mn=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        flex-wrap: wrap;\n        width: 100%;\n        \n        > p {\n            flex: 1;\n            margin: 0.25rem;\n            padding: 0.125rem;\n            border: 2px solid ",";\n            border-radius: 5px;\n            font-weight: 200;\n            background-color: ",";\n\n            > label {\n                font-weight: 400;\n                display: inline;\n            }\n        }\n    }\n\n    > p {\n        text-align: left;\n        padding: 0.5rem;\n        order: 3;\n    }\n"])),(function(e){return e.theme.main}),(function(e){return e.theme.contrast})),Gn=b.b.img(Pn||(Pn=Object(l.a)(["\n    width: 100%;\n    min-height: 150px;\n    max-height: 12rem;\n    aspect-ratio: 1 / 1;\n    object-fit: cover;\n    object-position: center;\n    border-radius: 5px;\n    margin: 0.25rem;\n    border: 2px solid ",";\n"])),(function(e){return e.theme.main})),Un=b.b.div(Hn||(Hn=Object(l.a)(["\n    & ol > li::marker {\n        font-weight: 700;\n    }\n\n"])));function Yn(e){var n=U(),t=n.data,r=n.updateRecipe,i=n.deleteRecipe,a=n.loading,c=n.error,s=Object(o.h)().recipeId,l=t&&(null===t||void 0===t?void 0:t.find((function(e){return e.id===Number(s)})));return l?Object(I.jsxs)(q,{children:[a&&Object(I.jsx)("div",{children:"Loading..."}),c&&Object(I.jsx)("pre",{children:JSON.stringify(c,null,2)}),!a&&!c&&Object(I.jsx)(Jn,{recipe:l,onFavorite:function(e,n){r(e,{favorite:!n})},onDelete:function(e,n){i(e,n)}})]}):Object(I.jsx)(o.a,{replace:!0,to:"/"})}var $n,Kn,Qn,Xn,Zn=t(298),et=["id","favorite"],nt=["name"];function tt(e){var n=e.recipe,t=e.onEdit,r=Object(o.g)(),i=n.id,a=(n.favorite,Object(u.a)(n,et)),c=function(){r(-1)};return Object(I.jsx)(ye.e,{initialValues:a,onSubmit:function(e){var n,c={},o={},s=Object(B.a)(a.ingredients);try{var l=function(){var t=n.value;-1===e.ingredients.findIndex((function(e){return e.id===t.id}))&&(c[t.name]=null)};for(s.s();!(n=s.n()).done;)l()}catch(C){s.e(C)}finally{s.f()}var b,j=Object(B.a)(e.ingredients);try{for(j.s();!(b=j.n()).done;){var m=b.value;m.id&&delete m.id;var p=m.name,h=Object(u.a)(m,nt);c[p]=h}}catch(C){j.e(C)}finally{j.f()}var f,v=Object(B.a)(a.categories);try{var x=function(){var n=f.value;-1===e.categories.findIndex((function(e){return e.name===n.name}))&&(o[n.name]=null)};for(v.s();!(f=v.n()).done;)x()}catch(C){v.e(C)}finally{v.f()}var O,g=Object(B.a)(e.categories);try{for(g.s();!(O=g.n()).done;){var y=O.value;y.id&&delete y.id;var w=y.name,k=y.type;o[w]={type:k}}}catch(C){g.e(C)}finally{g.f()}t(i,Object(d.a)(Object(d.a)({},e),{},{ingredients:c,categories:o}),(function(){return r(-1)}))},children:function(e){var n=e.isSubmitting,t=e.values,r=e.handleSubmit;return Object(I.jsxs)(rt,{children:[Object(I.jsxs)(it,{children:[Object(I.jsx)("div",{children:Object(I.jsx)(ye.b,{name:"title",placeholder:"Recipe Title",type:"input"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(Zn.a,{onClick:n?null:r}),Object(I.jsx)(Te.a,{onClick:c})]})]}),Object(I.jsxs)(at,{children:[Object(I.jsx)("img",{src:t.photo.path?"/".concat(t.photo.path):"",alt:""}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Serves:\xa0"}),Object(I.jsx)(ye.b,{name:"serves",placeholder:"Serves",type:"number",min:1})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Prep\xa0Time:\xa0"}),Object(I.jsx)(ye.b,{as:an,name:"prepTime"})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Cook\xa0Time:\xa0"}),Object(I.jsx)(ye.b,{as:an,name:"cookTime"})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("label",{children:"Total\xa0Time:\xa0"}),Object(I.jsx)(ye.b,{as:an,name:"totalTime"})]})]}),Object(I.jsx)(ye.b,{name:"description",placeholder:"Recipe Description",as:"textarea",rows:"4"})]}),Object(I.jsxs)(ct,{children:[Object(I.jsx)(We,{name:"categories",label:"Categories",listItems:t.categories,initialItemValue:{name:"",type:""},renderItem:function(e,n,t){return Object(I.jsx)(Qe,{item:e,index:n,arrayHelpers:t},"category-".concat(n))}}),Object(I.jsx)(We,{name:"ingredients",label:"Ingredients",listItems:t.ingredients,initialItemValue:{name:"",quantity:"",unit:"",size:"",comment:""},renderItem:function(e,n,t){return Object(I.jsx)(De,{item:e,index:n,arrayHelpers:t},"ingredient-".concat(n))}}),Object(I.jsx)(We,{name:"instructions",label:"Instructions",listItems:t.instructions,initialItemValue:"",renderItem:function(e,n,t){return Object(I.jsx)(Pe,{name:"instructions",placeholder:"Instruction",item:e,index:n,arrayHelpers:t},"instruction-".concat(n))}}),Object(I.jsx)(We,{name:"comments",label:"Comments",listItems:t.comments||[],initialItemValue:"",renderItem:function(e,n,t){return Object(I.jsx)(Pe,{name:"comments",placeholder:"Comment",item:e,index:n,arrayHelpers:t},"comment-".concat(n))}})]})]})}})}var rt=Object(b.b)(ye.d)($n||($n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 1rem auto;\n"]))),it=b.b.div(Kn||(Kn=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end; \n        align-items: flex-start;\n        margin-right: 1rem;\n        gap: 1rem;\n\n        > input {\n            width: 100%;\n        }\n\n        > svg {\n            min-height: 1.5rem;\n            min-width: 1.5rem;\n        }\n\n        > svg:hover {\n            cursor: pointer;\n        }\n\n        > svg:first-child {\n            color: green;\n        }\n\n        > svg:last-child {\n            color: var(--color-red);\n        }\n    }\n    \n    @media (min-width: 428px) {\n        > div:first-child {\n            flex: 0.7;\n        }   \n    }\n"]))),at=b.b.div(Qn||(Qn=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    input, select {\n        width: 80%;\n    }\n\n    textarea {\n        width: 95%;\n        margin: 0.25rem auto;\n    }\n\n    > img {\n        width: 100%;\n        min-height: 150px;\n        max-height: 12rem;\n        aspect-ratio: 1 / 1;\n        object-fit: cover;\n        object-position: center;\n        border-radius: 5px;\n        margin: 0.25rem;\n        border: 2px solid ",";\n    }\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        flex-wrap: wrap;\n        width: 100%;\n        \n        > p {\n            flex: 1;\n            margin: 0.25rem;\n            padding: 0.25rem;\n            border: 2px solid ",";\n            border-radius: 5px;\n            font-weight: 200;\n            background-color: ",";\n\n            > label {\n                font-weight: 400;\n                display: inline;\n            }\n        }\n    }\n"])),(function(e){return e.theme.main}),(function(e){return e.theme.main}),(function(e){return e.theme.contrast})),ct=b.b.div(Xn||(Xn=Object(l.a)(["\n\n"])));function ot(e){var n=U(),t=n.data,r=n.updateRecipe,i=n.loading,a=n.error,c=Object(o.h)().recipeId,s=t&&(null===t||void 0===t?void 0:t.find((function(e){return e.id===Number(c)})));return s?Object(I.jsxs)(q,{children:[i&&Object(I.jsx)("div",{children:"Loading..."}),a&&Object(I.jsx)("pre",{children:JSON.stringify(a,null,2)}),!i&&!a&&Object(I.jsx)(tt,{recipe:s,onEdit:function(e,n,t){r(e,n,t)}})]}):Object(I.jsx)(o.a,{replace:!0,to:"/"})}var st=t(299),lt=["onSubmit"];var dt,ut,bt=function(e){var n=e.onSubmit,t=Object(u.a)(e,lt);return Object(I.jsx)(ye.e,{initialValues:{userName:"",password:""},onSubmit:function(e,t){var r=t.setSubmitting;r(!0),n(e,(function(){return r(!1)}))},children:function(e){var n=e.isSubmitting;return Object(I.jsxs)(ye.d,{children:[Object(I.jsx)(qe,{name:"userName",label:"Username",children:Object(I.jsx)(ye.b,{name:"userName",type:"input",placeholder:"Enter your username"})}),Object(I.jsx)(qe,{name:"password",label:"Password",children:Object(I.jsx)(ye.b,{name:"password",type:"password",placeholder:"Enter your password",autoComplete:"off"})}),t.error&&Object(I.jsx)("div",{className:"form-error",children:t.error}),Object(I.jsx)(st.a,{type:"submit",variant:"secondary",disabled:n,children:"Submit"})]})}})};function jt(e){var n,t,r=E(),i=function(){var e=Object(h.a)(p.a.mark((function e(n,t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.login(n);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a=function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,r.guestLogin();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return!r.loading&&r.user?Object(I.jsx)(o.a,{to:"/"}):Object(I.jsxs)(ht,{children:[Object(I.jsx)("h1",{children:"Log In"}),r.loading?Object(I.jsx)("p",{children:"Loading..."}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(bt,{onSubmit:i,error:null===(n=r.error)||void 0===n||null===(t=n.response)||void 0===t?void 0:t.data}),Object(I.jsxs)("p",{children:["Don't have an account? ",Object(I.jsx)(pt,{onClick:a,children:"Click here"})," to login as a guest user!"]})]})]})}var mt,pt=b.b.button(dt||(dt=Object(l.a)(["\n    margin: 0;\n    padding: 0;\n    border: none;\n    background: none;\n    color: blue;\n\n    :hover, :active {\n        color: darkblue;\n    }\n"]))),ht=Object(b.b)(q)(ut||(ut=Object(l.a)(["\n    max-width: 800px;\n    padding: 2rem;\n\n    > h1 {\n        margin-top: 4rem;\n    }\n\n    @media (min-width: 768px) {\n        width: 90%;\n    }\n\n"])));var ft=function(e){var n=e.groceryItems,t=e.onItemAdd,i=e.onItemCheck,a=e.onItemEdit,c=e.onItemRemove,o=Object(r.useState)({id:null,original:null}),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(r.useRef)(null),b=Object(r.useRef)(null),m=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target.id,i=n.target.value,!l.id){e.next=9;break}if(e.t0=a&&i!==l.original,!e.t0){e.next=7;break}return e.next=7,a(Number(r),i);case 7:return d({id:null,original:null}),e.abrupt("return");case 9:if(""!==i.trim()){e.next=11;break}return e.abrupt("return");case 11:if(e.t1=t,!e.t1){e.next=15;break}return e.next=15,t(i,(function(){b.current.disabled=!1,b.current.click()}));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,t,a]),f=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.current.disabled){e.next=2;break}return e.abrupt("return");case 2:if(b.current.disabled=!0,u.current&&u.current.removeEventListener("blur",m),!l.id){e.next=10;break}return r=n.items.find((function(e){return e.id===l.id})),a&&r.name!==l.original&&a(r.id,r.name),d({id:null,original:null}),b.current.disabled=!1,e.abrupt("return");case 10:if(i=n.items.find((function(e){return!e.id}))){e.next=13;break}return e.abrupt("return");case 13:if(e.t0=t,!e.t0){e.next=17;break}return e.next=17,t(i.name,(function(){b.current.disabled=!1,b.current.click()}));case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,t,a,m]);Object(r.useEffect)((function(){if(u.current)return u.current.addEventListener("blur",m),u.current.focus(),function(){return u.current&&u.current.removeEventListener("blur",m)}}),[l,m]);var v=function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.current){e.next=5;break}return n(),setTimeout((function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}),50),d({id:null,original:null}),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=c,!e.t0){e.next=4;break}return e.next=4,c(n);case 4:b.current&&(b.current.disabled=!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(I.jsx)(ye.e,{initialValues:{items:n||[]},enableReinitialize:!0,onSubmit:f,children:function(e){var n=e.values;return Object(I.jsx)(ye.d,{children:Object(I.jsx)(We,{name:"items",listItems:n.items,initialItemValue:{complete:!1,name:"",id:null},renderItem:function(e,n,t){return Object(I.jsxs)(vt,{id:e.id,children:[Object(I.jsx)(ye.b,{name:"items.".concat(n,".complete"),type:"checkbox",onClick:function(n){return i(e.id,e.complete)},disabled:!e.id}),l.id!==e.id?Object(I.jsx)("div",{onClick:function(){return n=e.id,t=e.name,void d({id:n,original:t});var n,t},children:e.name}):Object(I.jsx)(ye.b,{innerRef:function(e){u.current=e},id:e.id,name:"items.".concat(n,".name"),type:"input",placeholder:"Item #".concat(n+1)}),Object(I.jsx)(Te.a,{onClick:function(){x(e.id),t.remove(n)}})]},e.id||"new-".concat(n))},buttonPlacement:"bottom center",renderButton:function(e){return Object(I.jsx)(A,{ref:function(e){return b.current=e},variant:"secondary",type:"button",onClick:function(){return v(e)},children:"Add Grocery Item"})}})})}})},vt=b.b.div(mt||(mt=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0.5rem auto;\n    gap: 10px;\n\n    >:nth-child(2) {\n        width: 10rem;\n        text-align: left;\n    }\n\n    > input:first-child {\n        flex: 1;\n        height: 2rem;\n    }\n\n    > input:first-child:hover {\n        cursor: pointer;\n    }\n\n    >input:nth-child(2) {\n        flex: 10;\n    }\n\n    > svg {\n        color: var(--color-red);\n        font-size: 2rem;\n    }\n    \n    > svg:hover {\n        cursor: pointer;\n    }\n"])));var xt={createMealPlanItem:function(e,n){return x.a.post("/api/planner/meal",e,{headers:n})},updateMealPlanItem:function(e,n,t){return x.a.patch("/api/planner/meal/".concat(e),n,{headers:t})},deleteMealPlanItem:function(e,n){return x.a.delete("/api/planner/meal/".concat(e),{headers:n})},createGroceryItem:function(e,n){return x.a.post("/api/planner/grocery",e,{headers:n})},updateGroceryItem:function(e,n,t){return x.a.patch("/api/planner/grocery/".concat(e),n,{headers:t})},deleteGroceryItem:function(e,n){return x.a.delete("/api/planner/grocery/".concat(e),{headers:n})}};var Ot,gt,yt,wt,kt,Ct,It=function(){var e,n,t=E(),i=P(),a=i.setDialog,c=i.showDialog,o=i.hideDialog,s=g("/api/planner/grocery",{headers:y(null===(e=t.user)||void 0===e?void 0:e.token)},!0,[null===(n=t.user)||void 0===n?void 0:n.token]),l=s.value,u=s.setValue,b=s.loading,j=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var r,i,s,l,d,b=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>1&&void 0!==b[1]?b[1]:function(){},n&&""!==n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,xt.createGroceryItem({name:n.trim()},y(null===(i=t.user)||void 0===i?void 0:i.token));case 6:s=e.sent,u((function(e){return[].concat(Object(_.a)(e),[s.data])})),r(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),401===(null===(l=e.t0.response)||void 0===l?void 0:l.status)&&(a({title:"Restricted Access",text:e.t0.response.data,footer:Object(I.jsx)(A,{onClick:o,children:"Ok"})}),c()),403===(null===(d=e.t0.response)||void 0===d?void 0:d.status)&&t.logout();case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}(),[t,u,a,c,o]),m=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u((function(e){return e.slice().filter((function(e){return e.id})).filter((function(e){return e.id!==n}))})),n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,xt.deleteGroceryItem(n,y(null===(r=t.user)||void 0===r?void 0:r.token));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),t.logout();case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(n){return e.apply(this,arguments)}}(),[t,u]),f=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||r&&""!==r){e.next=2;break}return e.abrupt("return");case 2:if(r&&""!==r){e.next=4;break}return e.abrupt("return",m(n));case 4:return u((function(e){var t=e.slice(),i=e.findIndex((function(e){return e.id===n})),a=Object(d.a)({},e[i]);return a.name=r,t[i]=a,t})),e.prev=5,e.next=8,xt.updateGroceryItem(n,{name:r},y(null===(i=t.user)||void 0===i?void 0:i.token));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),t.logout();case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(n,t){return e.apply(this,arguments)}}(),[t,u,m]),v=function(){var e=Object(h.a)(p.a.mark((function e(n,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){var t=e.slice(),r=e.findIndex((function(e){return e.id===n})),i=Object(d.a)({},e[r]);return i.complete=!i.complete,t[r]=i,t})),e.prev=1,e.next=4,xt.updateGroceryItem(n,{complete:!r},y(null===(i=t.user)||void 0===i?void 0:i.token));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t.logout();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(I.jsxs)(q,{children:[Object(I.jsx)("h1",{children:"Grocery List"}),b?"Loading...":Object(I.jsx)(ft,{groceryItems:l,onItemAdd:j,onItemCheck:v,onItemEdit:f,onItemRemove:m})]})},St=["children"],Et=b.b.div(Ot||(Ot=Object(l.a)(["\n    display: flex;\n    \n    & :nth-child(n) {\n        border-radius: 0;\n    }\n\n    & :first-child {\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n    }\n\n    & :last-child {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n    }\n"]))),Nt=function(e){var n=e.children,t=Object(u.a)(e,St);return Object(I.jsx)(Et,Object(d.a)(Object(d.a)({},t),{},{children:n}))},Tt=t(151),Dt=[{large:"Janurary",medium:"Jan",small:"Jan"},{large:"Februrary",medium:"Feb",small:"Feb"},{large:"March",medium:"Mar",small:"Mar"},{large:"April",medium:"Apr",small:"Apr"},{large:"May",medium:"May",small:"May"},{large:"June",medium:"Jun",small:"Jun"},{large:"July",medium:"Jul",small:"Jul"},{large:"August",medium:"Aug",small:"Aug"},{large:"September",medium:"Sep",small:"Sep"},{large:"October",medium:"Oct",small:"Oct"},{large:"November",medium:"Nov",small:"Nov"},{large:"December",medium:"Dec",small:"Dec"}],Lt=[{large:"Sunday",medium:"Sun",small:"Su"},{large:"Monday",medium:"Mon",small:"Mo"},{large:"Tuesday",medium:"Tues",small:"Tu"},{large:"Wednesday",medium:"Wed",small:"We"},{large:"Thursday",medium:"Thurs",small:"Th"},{large:"Friday",medium:"Fri",small:"Fr"},{large:"Saturday",medium:"Sat",small:"Sa"}],Rt=new(t.n(Tt).a.Calendar),Ft=new Date,At=new Date(Ft.getFullYear(),Ft.getMonth(),Ft.getDate());function zt(e){var n=e.dayNumber,t=e.ISODate,r=e.date,i=e.inCurrentMonth,a=e.outOfView,c=e.selected,o=e.onClick,s=e.events,l=e.eventRender,d=e.eventContainerClass;return Object(I.jsxs)(Jt,{className:"calendar-day ".concat(i?"current-month":""," ").concat(a?"hidden":""," ").concat(c?"selected":""),id:t,onClick:function(e){return o({date:e.currentTarget.id,events:s})},children:[Object(I.jsx)("time",{dateTime:t,date:r}),Object(I.jsx)("span",{className:"day-number",children:n}),Object(I.jsx)("div",{className:"events-container ".concat(d),children:s&&s.map((function(e){return l&&Object(I.jsx)("div",{className:"calendar-event",id:e.id,draggable:"true",children:l(e)},e.id)}))})]})}var Mt,Pt,Ht,Vt,qt,Jt=b.b.div(gt||(gt=Object(l.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-end;\n\n\tborder: none;\n\tborder-radius: 0.5rem;\n\tbackground-color: #eee;\n\tmin-width: 30px;\n\n\t&.current-month {\n\t\tbackground-color: #ffe;\n\t}\n\t\n\t&.current-month:hover {\n\t\tbackground-color: #ccc;\n\t}\n\n\t&.drag-on {\n\t\toutline: 2px solid black;\n\t}\n\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n\n\t&.selected {\n\t\toutline: 2px solid grey;\n\t}\n\n\t.day-number {\n\t\tfont-weight: 200;\n\t\tpadding-right: 0.25rem;\n\t\tpointer-events: none;\n\t}\n\n\t&.current-month .day-number {\n\t\tfont-weight: bold;\n\t}\n\n\t.events-container {\n\t\toverflow-y: scroll;\n\t\twidth: 100%;\n\t\tfont-size: 0.5rem;\n\t\t> div {\n\t\t\tborder: 1px solid black;\n\t\t\tborder-radius: 5px;\n\t\t\t\n\t\t\t:hover {\n\t\t\t\tcursor: grab;\n\t\t\t}\n\t\t}\n\n\t}\n"]))),_t=b.b.div(yt||(yt=Object(l.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tborder: 1px solid grey;\n\tbox-shadow: 1px 3px 5px grey;\n\tborder-radius: 0.5rem;\n\tmargin: 0 auto;\n\tmin-height: 12rem;\n\tuser-select: none;\n"]))),Bt=b.b.div(wt||(wt=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: 0.25rem auto;\n\tpadding-bottom: 0.25rem;\n\twidth: 100%;\n\tborder-bottom: 1px solid grey;\n\n\t> h3 {\n\t\torder: 1;\n\t}\n\t\n\tbutton {\n\t\tborder: 1px solid grey;\n\t\tcolor: grey;\n\t\tborder-radius: 5px;\n\t\tpadding: 0 1rem;\n\t\tmargin: 0 0.5rem;\n\n\t}\n\tbutton.drag-on {\n\t\toutline: 2px solid black;\n\t}\n\n\t> button:last-child {\n\t\torder: 2;\n\t}\n\n"]))),Wt=b.b.div(kt||(kt=Object(l.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: ",";\n\tmin-height: 2rem;\n\n\t> div.hidden {\n\t\tdisplay: none;\n\t}\n"])),(function(e){return"day"===e.view?"1fr":"repeat(7, 1fr)"})),Gt=b.b.div(Ct||(Ct=Object(l.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: ",";\n\tcolumn-gap: 2px;\n\trow-gap: 2px;\n\tmin-height: 2rem;\n\n\t"," {\n\t\theight: ",";\n\t}\n"])),(function(e){return"day"===e.view?"1fr":"repeat(7, 1fr)"}),Jt,(function(e){return"month"===e.view?"5rem":"20rem"})),Ut=function(e){var n,t=e.year,i=void 0===t?At.getFullYear():t,a=e.month,c=void 0===a?At.getMonth():a,o=e.view,s=void 0===o?"month":o,l=e.size,u=void 0===l?"small":l,b=e.selectedDate,m=void 0===b?At:b,p=e.onDayClick,h=e.events,f=e.onEventPickup,v=e.onEventMove,x=e.onEventAdd,O=e.onEventPickupEnd,g=e.eventRender,y=e.eventContainerClass,w=Object(r.useState)({year:i,month:c,week:null,day:m.getDay(),numWeeks:null,prevNumWeeks:null}),k=Object(j.a)(w,2),C=k[0],S=k[1],E=Object(r.useState)({}),N=Object(j.a)(E,2),T=N[0],D=N[1];Object(r.useEffect)((function(){var e,n,t=Rt.monthDates(C.year,C.month,(function(e){return{dayNumber:e.getDate().toString().slice(-2),ISODate:e.toISOString(),date:e}})),r=Rt.monthDays(C.year,C.month),i=(e=C.year,(n=C.month)>0?{month:n-1,year:e}:{month:11,year:e-1}),a=Rt.monthDays(i.year,i.month),c=r.length,o=r[0].findIndex((function(e){return 1===e})),s=r[c-1].findIndex((function(e){return 0===e}))>0?r[c-1].findIndex((function(e){return 0===e}))-1:6,l=a.length;D({dates:t,days:r}),S((function(e){return Object(d.a)(Object(d.a)({},e),{},{numWeeks:c,firstDay:o,lastDay:s,prevNumWeeks:l})}))}),[C.year,C.month]),Object(r.useEffect)((function(){S((function(e){var n=Math.ceil((e.firstDay+m.getDate())/7)-1;return Object(d.a)(Object(d.a)({},e),{},{month:m.getMonth(),week:n,day:m.getDay()})}))}),[m]),Object(r.useEffect)((function(){var e=document.querySelectorAll(".calendar-day"),n=function(e){e.target.classList.add("drag-on"),e.preventDefault()},t=function(e){e.preventDefault()},r=function(e){e.target.classList.remove("drag-on")},i=function(e){e.preventDefault(),e.dataTransfer.effectAllowed="copyMove";var n=e.dataTransfer.getData("text/plain"),t=e.dataTransfer.getData("dropType");e.target.classList.remove("drag-on");var r=new Date(e.target.childNodes[0].attributes.date.value);"add"===t?x&&x(Number(n),r):v&&v(Number(n),r),document.querySelectorAll(".events-container").forEach((function(e){e.style.pointerEvents="revert"}))};return e.forEach((function(e){e.addEventListener("dragenter",n),e.addEventListener("dragover",t),e.addEventListener("dragleave",r),e.addEventListener("drop",i)})),function(){e.forEach((function(e){e.removeEventListener("dragenter",n),e.removeEventListener("dragover",t),e.removeEventListener("dragleave",r),e.removeEventListener("drop",i)}))}}),[T.dates,v,x]),Object(r.useEffect)((function(){var e=document.querySelectorAll(".calendar-event"),n=function(e){var n=e,t=n.dataTransfer,r=n.target.id;t.dropEffect="copy",t.setData("text/plain",r),setTimeout((function(){return document.querySelectorAll(".events-container").forEach((function(e){e.style.pointerEvents="none"}))}),0),f&&f()},t=function(e){document.querySelectorAll(".events-container").forEach((function(e){e.style.pointerEvents="revert"})),O&&O(),e.preventDefault()};return e.forEach((function(e){e.addEventListener("dragstart",n),e.addEventListener("dragend",t)})),function(){e.forEach((function(e){e.removeEventListener("dragstart",n),e.removeEventListener("dragend",t)}))}}),[T.dates,h,f,O]);var L=Object(r.useCallback)((function(){switch(s){case"month":S((function(e){return e.month<11?Object(d.a)(Object(d.a)({},e),{},{month:e.month+1,week:0}):Object(d.a)(Object(d.a)({},e),{},{year:e.year+1,month:0,week:0})}));break;case"week":S((function(e){return e.week<e.numWeeks-1?Object(d.a)(Object(d.a)({},e),{},{week:e.week+1}):e.month<11?Object(d.a)(Object(d.a)({},e),{},{month:e.month+1,week:0}):Object(d.a)(Object(d.a)({},e),{},{year:e.year+1,month:0,week:0})}));break;case"day":S((function(e){return e.week<e.numWeeks-1?e.day<6?Object(d.a)(Object(d.a)({},e),{},{day:e.day+1}):Object(d.a)(Object(d.a)({},e),{},{week:e.week+1,day:0}):e.day<e.lastDay?Object(d.a)(Object(d.a)({},e),{},{day:e.day+1}):e.month<11?Object(d.a)(Object(d.a)({},e),{},{month:e.month+1,week:0,day:(e.day+1)%7}):Object(d.a)(Object(d.a)({},e),{},{year:e.year+1,month:0,week:0,day:(e.day+1)%7})}))}}),[s]),R=Object(r.useCallback)((function(){switch(s){case"month":S((function(e){return e.month>0?Object(d.a)(Object(d.a)({},e),{},{month:e.month-1,week:e.prevNumWeeks-1}):Object(d.a)(Object(d.a)({},e),{},{year:e.year-1,month:11,week:e.prevNumWeeks-1})}));break;case"week":S((function(e){return e.week>0?Object(d.a)(Object(d.a)({},e),{},{week:e.week-1}):e.month>0?Object(d.a)(Object(d.a)({},e),{},{month:e.month-1,week:e.prevNumWeeks-1}):Object(d.a)(Object(d.a)({},e),{},{year:e.year-1,month:11,week:e.prevNumWeeks-1})}));break;case"day":S((function(e){return e.week>0?e.day>0?Object(d.a)(Object(d.a)({},e),{},{day:e.day-1}):Object(d.a)(Object(d.a)({},e),{},{week:e.week-1,day:6}):e.day>e.firstDay?Object(d.a)(Object(d.a)({},e),{},{day:e.day-1}):e.month>0?Object(d.a)(Object(d.a)({},e),{},{month:e.month-1,week:e.prevNumWeeks-1,day:(e.day-1)%7}):Object(d.a)(Object(d.a)({},e),{},{year:e.year-1,month:11,week:e.prevNumWeeks-1,day:(e.day-1)%7})}))}}),[s]);return Object(r.useEffect)((function(){var e=document.querySelectorAll("button.control"),n=function(e){e.target.classList.add("drag-on"),"next"===e.target.id&&L(),"prev"===e.target.id&&R(),e.preventDefault()},t=function(e){e.preventDefault()},r=function(e){e.target.classList.remove("drag-on")},i=function(e){e.target.classList.remove("drag-on"),e.preventDefault()};return e.forEach((function(e){e.addEventListener("dragenter",n),e.addEventListener("dragover",t),e.addEventListener("dragleave",r),e.addEventListener("drop",i)})),function(){e.forEach((function(e){e.removeEventListener("dragenter",n),e.removeEventListener("dragover",t),e.removeEventListener("dragleave",r),e.removeEventListener("drop",i)}))}}),[L,R]),Object(I.jsxs)(_t,{children:[Object(I.jsxs)(Bt,{children:[Object(I.jsx)("h3",{children:Dt[C.month][u]+" "+C.year}),Object(I.jsx)("button",{type:"button",className:"control",id:"prev",onClick:R,children:"<"}),Object(I.jsx)("button",{type:"button",className:"control",id:"next",onClick:L,children:">"})]}),Object(I.jsx)(Wt,{view:s,children:Lt.map((function(e,n){return Object(I.jsx)("div",{className:"day"===s&&n!==C.day?"hidden":"",children:e[u]},n)}))}),Object(I.jsx)(Gt,{view:s,children:null===(n=T.dates)||void 0===n?void 0:n.map((function(e,n){return e.map((function(e,t){return Object(I.jsx)(zt,{dayNumber:e.dayNumber,ISODate:e.ISODate,date:e.date,events:h&&h.filter((function(n){return n&&n.date.getMonth()===e.date.getMonth()&&n.date.getDate()===e.date.getDate()})),inCurrentMonth:T.days[n][t]>0,outOfView:"week"===s&&n!==C.week||"day"===s&&!(n===C.week&&t===C.day),selected:e.ISODate===m.toISOString(),onClick:p,eventRender:g,eventContainerClass:y},"".concat(n,"-").concat(t))}))}))})]})},Yt=new Date;var $t,Kt=function(){var e,n,t=E(),i=P(),a=i.showNavbar,c=i.hideNavbar,o=i.setDialog,s=i.showDialog,l=i.hideDialog,u=U(),b=u.data,m=u.loading,f=g("/api/planner/meal",{headers:{authorization:"BEARER ".concat(null===(e=t.user)||void 0===e?void 0:e.token)}},!0,[null===(n=t.user)||void 0===n?void 0:n.token]),v=f.value,x=f.setValue,O=Object(r.useState)(!1),y=Object(j.a)(O,2),w=y[0],k=y[1],C=Object(r.useState)({view:"week",selectedDate:new Date(Yt.getFullYear(),Yt.getMonth(),Yt.getDate()),plannedMeals:[]}),S=Object(j.a)(C,2),N=S[0],T=S[1],D=Object(r.useCallback)((function(){document.querySelector(".recipe-trash-dropzone").classList.add("show"),c()}),[c]),L=Object(r.useCallback)((function(){document.querySelector(".recipe-trash-dropzone").classList.remove("show"),a()}),[a]),R=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n,r){var i,a,c,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt.createMealPlanItem({recipeId:n,date:r},{authorization:"BEARER ".concat(null===(i=t.user)||void 0===i?void 0:i.token)});case 3:a=e.sent,x((function(e){return[].concat(Object(_.a)(e),[a.data])})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(0),403!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=11;break}return e.abrupt("return",t.logout());case 11:o({title:"Error",text:null===(d=e.t0.response)||void 0===d?void 0:d.data,footer:Object(I.jsx)(A,{onClick:l,children:"Ok"})}),s();case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),[t,x,o,s,l]),F=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n,r){var i,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x((function(e){var t=e.findIndex((function(e){return e.id===n})),i=Object(d.a)(Object(d.a)({},e[t]),{},{date:r}),a=Object(_.a)(e);return a[t]=i,a})),e.next=4,xt.updateMealPlanItem(n,{date:r},{authorization:"BEARER ".concat(null===(i=t.user)||void 0===i?void 0:i.token)});case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),403!==(null===(a=e.t0.response)||void 0===a?void 0:a.status)){e.next=10;break}return e.abrupt("return",t.logout());case 10:o({title:"Error",text:null===(c=e.t0.response)||void 0===c?void 0:c.data,footer:Object(I.jsx)(A,{onClick:l,children:"Ok"})}),s();case 12:L();case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}(),[t,x,o,s,l,L]),z=Object(r.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(n){var r,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x((function(e){return e.slice().filter((function(e){return e.id!==Number(n)}))})),e.next=4,xt.deleteMealPlanItem(n,{authorization:"BEARER ".concat(null===(r=t.user)||void 0===r?void 0:r.token)});case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),403!==(null===(i=e.t0.response)||void 0===i?void 0:i.status)){e.next=10;break}return e.abrupt("return",t.logout());case 10:o({title:"Error",text:null===(a=e.t0.response)||void 0===a?void 0:a.data,footer:Object(I.jsx)(A,{onClick:l,children:"Ok"})}),s();case 12:L();case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),[t,x,o,s,l,L]);Object(r.useEffect)((function(){T((function(e){var n=null===v||void 0===v?void 0:v.map((function(e){var n=null===b||void 0===b?void 0:b.find((function(n){return n.id===e.recipeId}));return n?{id:e.id,title:n.title,date:new Date(e.date)}:null}));return Object(d.a)(Object(d.a)({},e),{},{plannedMeals:n})}))}),[v,b]),Object(r.useEffect)((function(){var e=document.querySelectorAll("p.recipe-item"),n=function(e){var n=e.dataTransfer,t=e.target.id;n.effectAllowed="copy",n.dropEffect="copy",n.setData("text/plain",t),n.setData("dropType","add"),document.querySelectorAll(".planned-recipes-container").forEach((function(e){e.style.pointerEvents="none"})),c()},t=function(e){document.querySelectorAll(".planned-recipes-container").forEach((function(e){e.style.pointerEvents="revert"})),a(),e.preventDefault()};return e.forEach((function(e){e.addEventListener("dragstart",n),e.addEventListener("dragend",t)})),function(){e.forEach((function(e){e.removeEventListener("dragstart",n),e.removeEventListener("dragend",t)}))}})),Object(r.useEffect)((function(){var e=document.querySelector(".recipe-trash-dropzone"),n=function(n){n.preventDefault(),e.classList.add("drag-on")},t=function(n){e.classList.remove("drag-on"),n.preventDefault()},r=function(e){e.preventDefault()},i=function(n){e.classList.remove("drag-on"),z(n.dataTransfer.getData("text/plain")),n.preventDefault()};return e.addEventListener("dragenter",n),e.addEventListener("dragleave",t),e.addEventListener("dragover",r),e.addEventListener("drop",i),function(){e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",t),e.removeEventListener("dragover",r),e.removeEventListener("drop",i)}}),[z]);var M=function(e){T((function(n){return e!==n.view?Object(d.a)(Object(d.a)({},n),{},{view:e}):n}))};return Object(I.jsxs)(Xt,{children:[Object(I.jsx)("h1",{children:"Meal Planner"}),Object(I.jsxs)(Zt,{children:[Object(I.jsx)(A,{type:"button",onClick:function(){return k((function(e){return!e}))},children:"Add Meal"}),Object(I.jsxs)(Nt,{children:[Object(I.jsx)(A,{active:"month"===N.view,id:"month",onClick:function(e){return M(e.target.id)},children:"Month"}),Object(I.jsx)(A,{active:"week"===N.view,id:"week",onClick:function(e){return M(e.target.id)},children:"Week"}),Object(I.jsx)(A,{active:"day"===N.view,id:"day",onClick:function(e){return M(e.target.id)},children:"Day"})]})]}),Object(I.jsx)(er,{show:w,children:!m&&b&&b.map((function(e){return Object(I.jsx)("p",{className:"recipe-item",id:e.id,draggable:"true",children:e.title},e.id)}))}),Object(I.jsx)(Ut,{view:N.view,selectedDate:N.selectedDate,size:"medium",events:N.plannedMeals,onDayClick:function(e){var n=e.date,t=new Date(n);T((function(e){return Object(d.a)(Object(d.a)({},e),{},{view:"day",selectedDate:t})}))},onEventPickup:D,onEventMove:F,onEventAdd:R,onEventPickupEnd:L,eventRender:function(e){return Object(I.jsx)(nr,{children:e.title})},eventContainerClass:"planned-recipes-container"}),Object(I.jsx)(Qt,{className:"recipe-trash-dropzone"})]})},Qt=Object(b.b)(Tn.a)(Mt||(Mt=Object(l.a)(["\n    background: white;\n    padding: 1rem;\n    margin: 1rem;\n    position: relative;\n    left: 35%;\n    border-radius: 1rem;\n    box-shadow: 2px 2px 5px grey;\n    width: 4rem;\n    height: 4rem;\n    opacity: 0;\n    \n    > path {\n        pointer-events: none;\n    }\n\n    &.show {\n        opacity: 1;\n    }\n\n    &.drag-on {\n        outline: 2px solid red;\n    }\n"]))),Xt=Object(b.b)(q)(Pt||(Pt=Object(l.a)(["\n    position: relative;\n    .planned-recipes-container {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        justify-content: flex-start;\n        gap: 0.5rem;\n        height: 100%;\n        margin: 0 auto;\n        padding: 0 0.25rem;\n        overflow: hidden;\n    }\n"]))),Zt=b.b.div(Ht||(Ht=Object(l.a)(["\n    display: flex;\n    gap: 20px;\n    justify-content: center;\n    align-items: center;\n    margin: 0.5rem auto;\n\n    > p {\n        font-weight: bold;\n    }\n"]))),er=b.b.div(Vt||(Vt=Object(l.a)(["\n    display: ",";\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 1rem auto;\n    border: 1px solid grey;\n    border-radius: 1rem;\n    box-shadow: 2px 2px 5px grey;\n\n    > p {\n        width: 10rem;\n        border: 1px solid grey;\n        border-radius: 1rem;\n        margin: 0.5rem;\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n"])),(function(e){return e.show?"flex":"none"})),nr=b.b.p(qt||(qt=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    min-height: 1.5rem;\n    font-size: 0.5rem;\n    padding: 0.125rem;\n    margin: 0;\n"]))),tr=t(155),rr=t(156),ir=t(152),ar=t(312),cr=t(300);var or,sr=Object(b.b)(ar.a)($t||($t=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: right;\n    align-items: center;   \n\n    .search-bar {\n        max-width: 300px;\n        max-height: 2.2rem; \n    }\n\n    .clear-btn {\n        display: none;\n        border-left: none;\n\n        background: ",";\n        border: 1px solid ",";\n        color: ","\n    }\n\n    .clear-btn.show {\n        display: inline;\n    }\n\n    .search-button {\n        margin-left: 10px;\n    }\n"])),(function(e){return e.theme.contrast}),(function(e){return e.theme.accent}),(function(e){return e.theme.main})),lr=function(e){var n=e.onSubmit,t=e.initialValue,i=Object(r.useRef)(null),a=Object(r.useState)(t&&t.length>0),c=Object(j.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){i.current.value=t}),[t]),Object(I.jsxs)(sr,{onSubmit:function(e){e.preventDefault(),"function"===typeof n&&n(i.current.value)},children:[Object(I.jsx)(ir.a,{type:"search",placeholder:"Search","aria-label":"Search",className:"search-bar",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),i.current.blur(),"function"===typeof n&&n(i.current.value))},onChange:function(e){e.target.value.length>0?s(!0):s(!1)},ref:i}),Object(I.jsx)(A,{className:"clear-btn ".concat(o?"show":""),onClick:function(){i.current.value="",s(!1),"function"===typeof n&&n("")},children:"x"}),Object(I.jsx)(A,{type:"submit",className:"search-button",children:Object(I.jsx)(cr.a,{width:15,height:15})})]})},dr=t(301),ur=t(302),br=t(303),jr=t(304),mr=t(305),pr=t(306),hr=t(307),fr=t(308),vr=t(309),xr=t(310),Or=["to","text","IconComponent","IconFillComponent","textOnHover"];function gr(e){var n=e.to,t=e.text,r=void 0===t?"":t,i=e.IconComponent,a=e.IconFillComponent,c=e.textOnHover,l=void 0!==c&&c,b=Object(u.a)(e,Or),j=P().theme,m=Object(o.f)().pathname;return Object(I.jsxs)(wr,Object(d.a)(Object(d.a)({as:s.b,to:n,$textOnHover:l,theme:j},b),{},{children:[m===n?Object(I.jsx)(a,{size:25}):Object(I.jsx)(i,{size:25}),Object(I.jsx)("span",{className:"text",children:r})]}))}var yr,wr=Object(b.b)(tr.a.Item)(or||(or=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    scroll-snap-align: start;\n    min-width: 25%;\n    color: ",";\n    text-decoration: none;\n\n    .text {\n        opacity: ",";\n        white-space: normal;\n        width: 75%;\n    }\n\n    :hover {\n        color: ",";\n        cursor: pointer;\n\n        .text {\n            opacity: 1;\n        }\n    }\n\n    @media (min-width: 428px) {\n        min-width: 20%;\n    }\n\n    @media (min-width: 768px) {\n        min-width: 15%;\n    }\n"])),(function(e){return e.theme.main}),(function(e){return e.$textOnHover?0:1}),(function(e){return e.theme.accent})),kr=["className","textOnHover"];function Cr(e){var n=e.className,t=e.textOnHover,r=Object(u.a)(e,kr);return Object(I.jsxs)(Sr,Object(d.a)(Object(d.a)({className:n||""},r),{},{children:[Object(I.jsx)(gr,{to:"/",text:"Home",IconComponent:dr.a,IconFillComponent:ur.a,textOnHover:t}),Object(I.jsx)(gr,{to:"/favorites",text:"Favorites",IconComponent:te.a,IconFillComponent:ne.a,textOnHover:t}),Object(I.jsx)(gr,{to:"/new",text:"New",IconComponent:br.a,IconFillComponent:jr.a,textOnHover:t}),Object(I.jsx)(gr,{to:"/grocery",text:"Grocery",IconComponent:mr.a,IconFillComponent:pr.a,textOnHover:t}),Object(I.jsx)(gr,{to:"/planner",text:"Planner",IconComponent:hr.a,IconFillComponent:fr.a,textOnHover:t}),Object(I.jsx)(gr,{to:"/settings",text:"Settings",IconComponent:vr.a,IconFillComponent:xr.a,textOnHover:t})]}))}var Ir,Sr=b.b.div(yr||(yr=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    overflow-x: auto;\n    white-space: nowrap;\n    scroll-snap-type: x mandatory;\n    min-width:  ",";\n    max-width: ",";\n\n    -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */\n    scrollbar-width: none;  /* Hide scrollbar for Firefox */\n     /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    @media (min-width: 768px) {\n        justify-content: space-around;   \n    }\n"])),(function(e){return e.minWidth||"100%"}),(function(e){return e.maxWidth||"100%"}));function Er(e){e.onShowFilter;var n=P().showSidebar,t=U(),r=t.filter,i=t.updateFilter,a=Object(o.f)().pathname,c=Object(o.g)(),s=E(),l=P().theme,d="/"===a||"/favorites"===a;return s.user?Object(I.jsx)(Tr,{theme:l,sticky:"top",children:Object(I.jsxs)(tr.a,{children:[Object(I.jsx)(tr.a.Item,{className:"back-btn",children:Object(I.jsx)(A,{onClick:function(){return c(-1)},children:"Back"})}),Object(I.jsx)(Cr,{className:"largeScreenOnly",minWidth:"50vw",maxWidth:"60vw",textOnHover:!0}),Object(I.jsx)(tr.a.Item,{className:"".concat(d?"":"hide"),children:Object(I.jsx)(A,{className:"show-filters-btn",onClick:function(){return n()},children:"Filters"})}),Object(I.jsx)(tr.a.Item,{className:"nav-search ".concat(d?"":"hide"),children:Object(I.jsx)(lr,{onSubmit:function(e){return i({search:e})},initialValue:r.search})})]})}):null}var Nr,Tr=Object(b.b)(rr.a)(Ir||(Ir=Object(l.a)(["\n    padding: 0.5rem;\n    border-bottom: 1px solid ",";\n    background-color: ",";\n\n    .navbar-nav {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        width: 100%;\n    }\n    \n    .nav-search {\n        flex-basis: 100%;\n        padding-top: 0.25rem;\n    }\n    \n    .largeScreenOnly {\n        display: none;\n    }\n\n    .hide {\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    .nav-search.hide {\n        display: none;\n    }\n\n    @media (min-width: 1024px) {\n        .largeScreenOnly {\n            display: flex;\n        }\n    }\n"])),(function(e){return e.theme.main}),(function(e){return e.theme.secondary}));function Dr(e){var n=E(),t=P(),r=t.navbar,i=t.theme;return n.user?Object(I.jsx)(Rr,{fixed:"bottom",theme:i,$show:r.show,children:Object(I.jsx)(Cr,{})}):null}var Lr,Rr=Object(b.b)(rr.a)(Nr||(Nr=Object(l.a)(["\n    background-color: ",";\n    border-top: 1px solid ",";\n\n    display: ",";\n\n    @media (min-width: 1024px) {\n        display: none;\n    }\n\n"])),(function(e){return e.theme.secondary}),(function(e){return e.theme.main}),(function(e){return e.$show?"initial":"none"})),Fr=t(157);var Ar=Object(b.b)(Fr.a)(Lr||(Lr=Object(l.a)(["\n    background-color: ","\n  "])),(function(e){return e.theme.contrast})),zr=function(e){return Object(I.jsxs)(Ar,Object(d.a)(Object(d.a)({show:e.show,onHide:e.onClose},e),{},{children:[Object(I.jsx)(Fr.a.Header,{closeButton:!0,children:Object(I.jsx)(Fr.a.Title,{children:e.title})}),Object(I.jsx)(Fr.a.Body,{children:e.children})]}))},Mr=t(311),Pr=t(153);t(286);var Hr=function(e){var n=e.suggestions,t=e.placeholder,i=e.onSubmit,a=Object(r.useState)(""),c=Object(j.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)([]),d=Object(j.a)(l,2),u=d[0],b=d[1],m=Object(r.useState)(-1),p=Object(j.a)(m,2),h=p[0],f=p[1],v=Object(r.useState)(!1),x=Object(j.a)(v,2),O=x[0],g=x[1],y=function(e){if(i)if(e)i(e);else{var n=u.findIndex((function(e){return e.name.toLowerCase()===o.toLowerCase()}));n>-1&&i(u[n])}},w=function(e){var n={id:e.currentTarget.value,name:e.currentTarget.innerText};f(-1),b([]),g(!1),s(""),y(n)},k=O&&""!==o?u.length?Object(I.jsx)("ul",{className:"suggestions-list",children:u.map((function(e,n){var t;return n===h&&(t="suggestion-active"),Object(I.jsx)("li",{className:t,value:e.id,onClick:w,children:e.name},e.id)}))}):Object(I.jsx)("div",{className:"no-suggestions",children:Object(I.jsx)("em",{children:"No suggestions available."})}):null;return Object(I.jsxs)("div",{className:"autocomplete-container",children:[Object(I.jsx)(ir.a,{className:"autocomplete-input-bar",type:"search",onChange:function(e){var t=e.currentTarget.value,r=n.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1}));f(-1),b(r),g(""!==t),s(t)},onKeyDown:function(e){var n=e.keyCode;if(13===n){if(e.preventDefault(),-1===h&&""===o)return;h>-1?y(u[h]):y(),f(-1),g(!1),s("")}else if(38===n){if(0===h||!O)return;f((function(e){return e-1}))}else if(40===n){if(h+1===u.length||!O)return;f((function(e){return e+1}))}},value:o,placeholder:t}),k]})};t(287);var Vr=function(e){var n=e.name,t=e.listItems,r=e.suggestions,i=e.placeholder,a=e.onChange;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Hr,{suggestions:r,placeholder:i,onSubmit:function(e){a&&a(e)}}),Object(I.jsx)(ye.c,{name:n,render:function(e){return Object(I.jsx)("ul",{className:"autocomplete-list",children:t.map((function(n,t){return Object(I.jsxs)(Mr.a,{as:"li",children:[Object(I.jsx)(Pr.a,{xs:1,children:Object(I.jsx)(Tn.a,{onClick:function(){e.remove(t)}})}),Object(I.jsx)(Pr.a,{children:n.name})]},t)}))})}})]})};t(288);var qr=function(e){var n=e.initialFilter,t=e.onSubmit,r=e.ingredients,i=e.categories,a=function(){console.log("clearing filters"),t({ingredients:[],categories:[]})};return Object(I.jsx)(ye.e,{initialValues:n,onSubmit:function(e){t({ingredients:e.ingredients,categories:e.categories})},children:function(e){return Object(I.jsxs)(ye.d,{className:"filter-recipes-form",children:[Object(I.jsxs)(Mr.a,{children:[Object(I.jsx)("h5",{children:"Ingredients"}),Object(I.jsx)(Vr,{name:"ingredients",placeholder:"Enter an ingredient to add to list",suggestions:r,listItems:e.values.ingredients,onChange:function(n){e.setFieldValue("ingredients",[].concat(Object(_.a)(e.values.ingredients),[n]))}})]}),Object(I.jsxs)(Mr.a,{children:[Object(I.jsx)("h5",{children:"Categories"}),Object(I.jsx)(Vr,{name:"categories",placeholder:"Enter a category to add to list",suggestions:i,listItems:e.values.categories,onChange:function(n){e.setFieldValue("categories",[].concat(Object(_.a)(e.values.categories),[n]))}})]}),Object(I.jsxs)(Mr.a,{children:[Object(I.jsx)(A,{variant:"outline-secondary",className:"clear-filters-btn",onClick:a,children:"Clear"}),Object(I.jsx)(A,{variant:"secondary",className:"apply-filters-btn",type:"submit",children:"Apply"})]})]})}})};var Jr=function(){var e=P(),n=e.sidebar,t=e.hideSidebar,r=U(),i=r.filter,a=r.updateFilter,c=g("/api/ingredients").value,o=g("/api/categories").value;return Object(I.jsx)(zr,{show:n.show,onClose:function(){return t()},title:"Select your filters",children:Object(I.jsx)(qr,{initialFilter:i,onSubmit:function(e){a(e),t()},ingredients:c,categories:o})})},_r=t(313);function Br(e){var n=P(),t=n.dialog,r=n.hideDialog;return Object(I.jsxs)(_r.a,{show:t.show,onHide:function(){return r()},children:[Object(I.jsx)(_r.a.Header,{closeButton:!0,children:Object(I.jsx)(_r.a.Title,{children:t.title})}),Object(I.jsxs)(_r.a.Body,{children:[Object(I.jsx)("p",{children:t.text}),t.body]}),Object(I.jsx)(_r.a.Footer,{children:t.footer})]})}t(289);function Wr(e){var n=e.children,t=E();return t.loading?Object(I.jsx)("div",{children:"Loading..."}):t.user?n:Object(I.jsx)(o.a,{to:"/login"})}var Gr=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(T,{children:Object(I.jsx)(H,{children:Object(I.jsxs)($,{children:[Object(I.jsx)(Jr,{}),Object(I.jsx)(Br,{}),Object(I.jsxs)(s.a,{children:[Object(I.jsx)(Er,{}),Object(I.jsxs)(o.d,{children:[Object(I.jsx)(o.b,{path:"/login",element:Object(I.jsx)(jt,{})}),Object(I.jsx)(o.b,{path:"/",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(me,{})})}),Object(I.jsx)(o.b,{path:"/favorites",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(pe,{})})}),Object(I.jsx)(o.b,{path:"/new",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(kn,{})})}),Object(I.jsx)(o.b,{path:"/settings",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(In,{})})}),Object(I.jsx)(o.b,{path:"/grocery",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(It,{})})}),Object(I.jsx)(o.b,{path:"/planner",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(Kt,{})})}),Object(I.jsx)(o.b,{path:"/recipe/:recipeId",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(Yn,{})})}),Object(I.jsx)(o.b,{path:"/recipe/:recipeId/edit",element:Object(I.jsx)(Wr,{children:Object(I.jsx)(ot,{})})})]}),Object(I.jsx)(Dr,{})]})]})})})})},Ur=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,314)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(Gr,{})}),document.getElementById("root")),Ur()}},[[290,1,2]]]);
//# sourceMappingURL=main.073ee4bb.chunk.js.map