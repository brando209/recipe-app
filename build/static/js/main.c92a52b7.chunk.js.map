{"version":3,"sources":["pages/Page/Page.js","components/app/RecipeCard/RecipeCard.js","hooks/useAsync.js","hooks/useResource.js","api/recipes.js","api/auth.js","contexts/AuthContext/AuthContext.js","utility/localStorage/authStorage.js","contexts/RecipeContext/RecipeContext.js","pages/HomePage/HomePage.js","pages/FavoritesPage/FavoritesPage.js","components/input/SelectInput/SelectInput.js","components/input/IngredientInput/IngredientInput.js","components/input/TextareaListInput/TextareaListInput.js","components/input/InputContainer/InputContainer.js","components/input/InputList/InputList.js","components/input/CategoryInput/CategoryInput.js","components/display/spinners/Heart/Heart.js","utility/validationSchema/recipeSchema.js","components/form/NewRecipeForm/NewRecipeForm.js","contexts/DialogContext/DialogContext.js","pages/NewRecipePage/NewRecipePage.js","pages/SettingsPage/SettingsPage.js","components/display/List/List.js","components/app/RecipeDetails/RecipeDetails.js","pages/RecipePage/RecipePage.js","components/form/EditRecipeForm/EditRecipeForm.js","pages/EditRecipePage/EditRecipePage.js","components/form/LoginForm/LoginForm.js","pages/LoginPage/LoginPage.js","hooks/useMediaQuery.js","hooks/useEventListener.js","components/input/Search/Search.js","components/display/NavIconLink/NavIconLink.js","components/app/NavLinks/NavLinks.js","components/app/TopNav/TopNav.js","components/app/BottomNav/BottomNav.js","components/display/SlideinSidebar/SlideinSidebar.js","components/input/Autocomplete/Autocomplete.js","components/input/AutocompleteList/AutocompleteList.js","components/form/FilterRecipesForm/FilterRecipesForm.js","components/app/FilterControlSidebar/FilterControlSidebar.js","components/display/Dialog/Dialog.js","App.js","hooks/useToggle.js","reportWebVitals.js","index.js"],"names":["Page","children","className","props","Container","fluid","RecipeCard","navigate","useNavigate","title","description","serves","prep","cook","favorite","id","photo","handleFavoriteClick","e","stopPropagation","onFavorite","Card","Body","onClick","Row","Col","Title","Subtitle","time","unit","Text","Img","src","path","alt","useAsync","callback","dependencies","useState","loading","setLoading","error","setError","value","setValue","callbackMemoized","useCallback","then","catch","finally","useEffect","DEFAULT_OPTIONS","headers","useResource","options","isProtected","Promise","reject","token","authorization","split","undefined","axios","get","res","status","data","createRecipe","recipeInfo","post","updateRecipe","recipeId","updates","patch","deleteRecipe","delete","login","credentials","authContext","createContext","useAuth","useContext","currentToken","localStorage","getItem","AuthContextProvider","a","authApi","user","setItem","Provider","logout","removeItem","recipeContext","useRecipeContext","authHeader","Authorization","RecipeContextProvider","auth","ingredients","categories","search","filter","setFilter","recipeApi","recipe","prevValue","console","newValue","updatedIndex","findIndex","splice","deletedIndex","filteredValue","result","ingredient","ing","category","cat","searchText","toLowerCase","includes","map","name","join","instructions","comments","applyFilter","updateFilter","prev","HomePage","recipes","handleFavorite","isFavorite","log","JSON","stringify","message","length","sm","md","to","FavoritesPage","favoritedRecipes","SelectInput","placeholder","Button","as","option","IngredientInput","index","arrayHelpers","xs","type","min","step","variant","remove","TextareaListInput","InputContainer","label","htmlFor","child","InputList","listItems","renderItem","initialItemValue","render","lg","size","push","item","CategoryInput","Heart","recipeSchema","Yup","shape","max","required","typeError","NewRecipeForm","onSubmit","initialValues","isImporting","selectedFile","setSelectedFile","selectedImage","setSelectedImage","fileReader","FileReader","handleShowImage","evt","target","addEventListener","readAsDataURL","removeEventListener","enableReinitialize","values","setSubmitting","formData","FormData","append","validationSchema","isSubmitting","setFieldValue","component","Inputs","onChange","file","files","amount","measurement","disabled","dialogContext","useDialogContext","DialogContextProvider","show","setShow","text","body","footer","dialog","setDialog","NewRecipePage","importUrl","setImportUrl","importing","importedRecipe","handleImport","preventDefault","lastChild","form","style","display","flexDirection","width","err","SettingsPage","List","heading","listStyle","direction","listItemComponents","RecipeDetails","onDelete","listStyleType","padding","margin","Badge","RecipePage","useParams","find","rec","Number","replace","EditRecipeForm","onEdit","handleCancel","ingredientsObject","categoriesObject","ingredientValues","ButtonGroup","EditRecipePage","newValues","LoginForm","userName","password","autoComplete","LoginPage","handleLogin","response","useMediaQuery","mediaQuery","isMatch","setIsMatch","mediaQueryList","setMediaQueryList","list","window","matchMedia","matches","eventType","element","callbackRef","useRef","current","handler","useEventListener","Search","initialValue","inputRef","showClearBtn","setShowClearBtn","Form","FormControl","onKeyPress","key","blur","ref","NavIconLink","IconComponent","IconFillComponent","pathname","useLocation","Nav","Item","Link","NavLinks","House","HouseFill","HeartFill","PlusCircle","PlusCircleFill","Gear","GearFill","TopNav","onShowFilter","isLargeScreen","Navbar","sticky","BottomNav","shouldDisplay","fixed","SlideinSidebar","Offcanvas","onHide","onClose","Header","closeButton","Autocomplete","suggestions","userInput","setUserInput","filteredSuggestions","setFilteredSuggestions","activeSuggestion","setActiveSuggestion","showSuggestions","setShowSuggestions","handleSubmit","submitValue","suggIdx","handleClick","clickedSuggestion","currentTarget","innerText","suggestionsListComponent","suggestion","input","newFilteredSuggestions","indexOf","onKeyDown","keyCode","prevActiveSuggestion","AutocompleteList","FilterRecipesForm","initialFilter","handleClearFilters","FilterControlSidebar","Dialog","Modal","Footer","PrivateRoute","App","defaultValue","currentValue","useToggle","isShown","toggleShow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c92a52b7.chunk.js","sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport './Page.css';\n\nexport default function Page({ children, className = \"\", ...props }) {\n    return (\n        <Container className={`page ${className}`} {...props} fluid >\n            { children }\n        </Container>\n    );\n}","import React from 'react';\nimport { Card, Row, Col } from 'react-bootstrap';\nimport { Heart, HeartFill } from 'react-bootstrap-icons';\nimport { useNavigate } from 'react-router';\n\nimport './RecipeCard.css';\n\nexport default function RecipeCard(props) {\n    const navigate = useNavigate();\n    const { title, description, serves, prep, cook, favorite, id, photo } = props;\n\n    const handleFavoriteClick = (e) => {\n        e.stopPropagation();\n        props.onFavorite(id, favorite);\n    }\n\n    return (\n        <Card className=\"recipe-card\">\n            <Card.Body className=\"recipe-card-body\" onClick={() => navigate(`/recipe/${id}`)}>\n                <Row>\n                    <Col className=\"recipe-card-body-left\">\n                        <Card.Title className=\"recipe-card-title\">\n                            {title}{\" \"}\n                            <span className=\"favorite-btn\">\n                                {favorite ?\n                                    <HeartFill onClick={handleFavoriteClick} /> :\n                                    <Heart onClick={handleFavoriteClick} />\n                                }\n                            </span>\n                        </Card.Title>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Serves: {serves}</Card.Subtitle>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Prep time: {prep.time + \" \" + prep.unit}</Card.Subtitle>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Cook time: {cook.time + \" \" + cook.unit}</Card.Subtitle>\n                        <Card.Text className=\"recipe-card-text\">\n                            {description}\n                        </Card.Text>\n                    </Col>\n                    <Col className=\"recipe-card-body-right\">\n                        <Card.Img className=\"recipe-card-img\" src={photo.path ? `http://localhost:3005/${photo.path}` : \"\"} alt=\"\" />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    )\n\n}\n","import { useCallback, useEffect, useState } from \"react\";\n\nexport default function useAsync(callback, dependencies = []) {\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState()\n  const [value, setValue] = useState()\n\n  const callbackMemoized = useCallback(() => {\n    setLoading(true);\n    setError(null);\n    setValue(null);\n    callback && typeof callback === \"function\" && callback()\n      .then(setValue) \n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, dependencies);\n\n  useEffect(() => {\n    callbackMemoized();\n  }, [callbackMemoized]);\n\n  return { loading, error, value, setLoading, setError, setValue }\n}","import useAsync from \"./useAsync\";\nimport axios from \"axios\";\n\nconst DEFAULT_OPTIONS = {\n    headers: { \"Content-Type\": \"application/json\" },\n}\n\nexport default function useResource(path, options = {}, isProtected = false, dependencies = []) {\n    return useAsync(() => {\n        if(!path) return Promise.reject(\"Path not provided\")\n        const token = options.headers?.authorization?.split(\" \")[1];\n        if(isProtected && (token === null || token === \"null\" || token === undefined || token === \"undefined\")) {\n            return Promise.reject(\"No valid auth token\");\n        }\n        return axios.get(path, { ...DEFAULT_OPTIONS, ...options }).then(res => {\n            if(res.status === 200) return res.data;\n        })\n    }, dependencies);\n}","import axios from 'axios';\n\nfunction createRecipe(recipeInfo, headers) {\n    return axios.post(\"/api/recipes\", recipeInfo, { headers });\n}\n\nfunction updateRecipe(recipeId, updates, headers) {\n    return axios.patch(`/api/recipes/${recipeId}`, updates, { headers });\n}\n\nfunction deleteRecipe(recipeId, headers) {\n    return axios.delete(`/api/recipes/${recipeId}`, { headers });\n}\n\nexport default {\n    createRecipe, updateRecipe, deleteRecipe\n}","import axios from 'axios';\n\nfunction login(credentials) {\n    return axios.post(`/api/auth/login`, credentials);\n}\n\nexport default { login };","import React, { createContext, useContext } from 'react';\nimport useResource from '../../hooks/useResource';\nimport authApi from '../../api/auth';\nimport { getLocalAuthToken, setLocalAuthToken, removeLocalAuthToken } from '../../utility/localStorage/authStorage';\n\nexport const authContext = createContext({});\n\nexport const useAuth = () => useContext(authContext);\n\nconst currentToken = getLocalAuthToken();\n\nexport default function AuthContextProvider({ children }) {\n    const { loading, error, value, setLoading, setError, setValue } = useResource(\n        '/api/auth/login',\n        { headers: { authorization: `BEARER ${currentToken}` } },\n        true,\n        [currentToken]\n    );\n\n    const login = async (credentials) => {\n        try {\n            setLoading(true);\n            setValue(null);\n            setError(null);\n            const user = await authApi.login(credentials);\n            setValue(user.data);\n            setLocalAuthToken(user.data.token);\n        } catch(err) {\n            setError(err);\n        }\n        setLoading(false);\n    }\n\n    const logout = () => {\n        setValue(null);\n        removeLocalAuthToken();\n    }\n\n    return (\n        <authContext.Provider value={{ loading, error, user: value, login, logout }}>\n            {children}\n        </authContext.Provider>\n    )\n}","export function setLocalAuthToken(token) {\n    localStorage.setItem(\"recipe_app_0246_auth_token\", token);\n}\n\nexport function getLocalAuthToken() {\n    return localStorage.getItem(\"recipe_app_0246_auth_token\");\n}\n\nexport function removeLocalAuthToken() {\n    localStorage.removeItem(\"recipe_app_0246_auth_token\");\n}","import React, { createContext, useContext, useState } from 'react';\nimport useResource from '../../hooks/useResource';\nimport recipeApi from '../../api/recipes';\nimport { useAuth } from '../AuthContext/AuthContext';\n\nexport const recipeContext = createContext({});\n\nexport const useRecipeContext = () => useContext(recipeContext);\n\nconst authHeader = (token) => ({ Authorization: `BEARER ${token}`});\n\nexport default function RecipeContextProvider({ children }) {\n    const auth = useAuth();\n    const { loading, error, value, setValue } = useResource(\n        '/api/recipes',\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [auth.user?.token]\n    );\n    const [filter, setFilter] = useState({ ingredients: [], categories: [], search: \"\" });\n\n    const applyFilter = (filter) => {\n        const { ingredients, categories, search } = filter;\n\n        let result = value;\n\n        //Filter by ingredients, result will include recipes that have all ingredients\n        if(ingredients) {\n            for(let ingredient of ingredients) {\n                result = result?.filter(recipe => {\n                    const index = recipe.ingredients.findIndex(ing => ing.id === ingredient.id)\n                    return index > -1;\n                });\n            }\n        }\n\n        //Filter by categories, result will include recipes that have all categories\n        if(categories) {\n            for(let category of categories) {\n                result = result?.filter(recipe => {\n                    const index = recipe.categories.findIndex(cat => cat.id === category.id)\n                    return index > -1;\n                });\n            }\n        }\n\n        //Filter out recipes that do not contain the search text\n        if(search) {\n            const searchText = search.toLowerCase();\n            result = result?.filter(recipe => (\n                recipe.title.toLowerCase().includes(searchText)\n                || recipe.description.toLowerCase().includes(searchText)\n                || recipe.ingredients.map(ing => ing.name).join(\" \").toLowerCase().includes(searchText)\n                || recipe.instructions.join(\" \").toLowerCase().includes(searchText)\n                || recipe.comments?.join(\" \").toLowerCase().includes(searchText)\n                || recipe.categories.map(cat => cat.name).join(\" \").toLowerCase().includes(searchText)\n            ));\n        }\n\n        return result;\n    }\n\n    const updateFilter = (filter) => {\n        setFilter(prev => ({ ...prev, ...filter}));\n    }\n    \n    const createRecipe = async (recipeInfo, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.createRecipe(recipeInfo, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => ([...prevValue, recipe.data]));\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const updateRecipe = async (recipeId, updates, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.updateRecipe(recipeId, updates, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const updatedIndex = newValue.findIndex(value => value.id === recipe.data.id);\n                if(updatedIndex > -1) newValue.splice(updatedIndex, 1, recipe.data);\n                return newValue;\n            })\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const deleteRecipe = async (recipeId, callback = () => {}) => {\n        try {\n            //Make api call\n            await recipeApi.deleteRecipe(recipeId, authHeader(auth.user.token));\n            //Remove recipe from state\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const deletedIndex = newValue.findIndex(value => value.id === recipeId);\n                if(deletedIndex > -1) newValue.splice(deletedIndex, 1);\n                return newValue;\n            })\n            callback(true, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const filteredValue = applyFilter(filter);\n    \n    return (\n        <recipeContext.Provider value={{ loading, error, data: filteredValue, createRecipe, updateRecipe, deleteRecipe, updateFilter, filter }}>\n            {children}\n        </recipeContext.Provider>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col } from 'react-bootstrap';\n\nimport Page from '../Page/Page';\nimport RecipeCard from '../../components/app/RecipeCard/RecipeCard';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function HomePage() {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite }, () => console.log(\"toggled favorite\"));\n    }\n\n    return (\n        <Page>\n            <h1>Home</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && recipes.length > 0 && \n                <Row>\n                    {recipes.map(recipe => (\n                        <Col sm=\"12\" md=\"6\" className=\"recipe-card-container\" key={recipe.id}><RecipeCard {...recipe} onFavorite={handleFavorite} /></Col>\n                    ))}\n                </Row>\n            }\n            {!error && !loading && recipes.length === 0 && \n                <>\n                    <p>You currently have no saved recipes.</p>\n                    <p><Link to=\"/new\">Click here</Link> to add a new recipe.</p>\n                </>\n            }\n        </Page>\n    )   \n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col } from 'react-bootstrap';\n\nimport Page from '../Page/Page';\nimport RecipeCard from '../../components/app/RecipeCard/RecipeCard';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function FavoritesPage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    //console.log(recipes) //TODO: Fix: logs <empty string> when no recipes (reason for extra check of length)\n    const favoritedRecipes = recipes && recipes.length > 0 && recipes?.filter(recipe => recipe.favorite);\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    return (\n        <Page>\n            <h1>Favorites</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && favoritedRecipes.length > 0 && \n                <Row>\n                    {favoritedRecipes.map(recipe => (\n                        <Col sm=\"12\" md=\"6\" key={recipe.id} className=\"recipe-card-container\"><RecipeCard {...recipe} onFavorite={handleFavorite} /></Col>\n                    ))}\n                </Row>\n            }\n            {!error && !loading && favoritedRecipes.length === 0 && \n                <>\n                    <p>You currently have no favorited recipes.</p>\n                    <p><Link to=\"/new\">Click here</Link> to add a new recipe.</p>\n                </>\n            }\n        </Page>\n    )   \n}","import React from 'react';\nimport Button from 'react-bootstrap/Button'\n\nexport default function SelectInput({ children, options, placeholder, ...props }) {\n    return (\n        <Button as=\"select\" {...props} >\n            { placeholder && <option value=\"\">{placeholder}</option>}\n            { options ? options.map(option => (<option key={option} value={option}>{option}</option>)) : children }\n        </Button>\n    )\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nimport './IngredientInput.css';\n\nexport default function IngredientInput({ index, arrayHelpers }) {\n    return (\n        <Row className=\"ingredient-input\">\n            <Col xs={6}>\n                <Field\n                    name={`ingredients.${index}.name`} type=\"input\" placeholder={`Ingredient #${index + 1}`}\n                />\n                <Field\n                    name={`ingredients.${index}.amount`} type=\"number\" placeholder=\"Amount\" min={0} step={0.01}\n                />\n            </Col>\n            <Col xs={4}>\n                <Field\n                    as={SelectInput} options={['small', 'medium', 'large']}\n                    name={`ingredients.${index}.size`} placeholder=\"size\"\n                    variant=\"secondary\"\n                />\n                <Field\n                    as={SelectInput} options={[\n                        'teaspoon', 'tablespoon', 'cup',\n                        'ounce', 'pound', 'milligram', 'gram', 'kilogram',\n                        'liter', 'milliliter', 'quart', 'pint', 'gallon',\n                        'pinch', 'piece',\n                        'slice', 'stick', 'clove',\n                        'can', 'box', 'bag', 'package'\n                    ]}\n                    name={`ingredients.${index}.measurement`} placeholder=\"unit\"\n                    variant=\"secondary\"\n                />\n            </Col>\n            <Col xs={2}>\n                <Button className=\"add-ingredient-btn\" variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n            <Col xs={12}>\n                <Field name={`ingredients.${index}.comment`} type=\"input\" placeholder={\"Additional info\"}/>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\n\nimport './TextareaListInput.css';\n\nexport default function TextareaListInput({ name, index, arrayHelpers, placeholder }) {\n    return (\n        <Row className=\"textarea-list-input\">\n            <Col xs={10}>    \n                <Field \n                    name={`${name}.${index}`} as=\"textarea\" placeholder={`${placeholder} #${index+1}`} \n                />\n            </Col>\n            <Col xs={2}>\n                <Button variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport './InputContainer.css';\n\nexport default function InputContainer({ name, label, children }) {\n    return (\n        <Row className=\"input-container\">\n            <Col xs={3}>\n                <label htmlFor={name}>{label}</label>\n            </Col>\n            { children.length ? \n                children.map((child, index) => <Col key={index} className=\"mx-2\">{child}</Col>) : \n                <Col className=\"mx-2\">{children}</Col>\n            }\n        </Row>\n    );\n}","import React from 'react';\nimport { FieldArray } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nimport \"./InputList.css\";\n\nexport default function InputList({ name, label, listItems, renderItem, initialItemValue }) {\n    return (\n        <FieldArray\n            name={name}\n            render={arrayHelpers => (\n                <div className=\"input-list\">\n                    <Row>\n                        <Col xs={3} lg={4}>\n                            <label htmlFor={name}>{label}</label>\n                        </Col>\n                        <Col xs={3} lg={1}>\n                            <Button\n                                type=\"button\"\n                                size=\"sm\"\n                                variant=\"secondary\"\n                                onClick={() => arrayHelpers.push(initialItemValue)}\n                            >\n                                Add\n                            </Button>\n                        </Col>\n                    </Row>\n                    {listItems.map((item, index) => (\n                        renderItem(item, index, arrayHelpers)\n                    ))}\n                </div>\n            )}\n        />\n    );\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nimport './CategoryInput.css';\n\nexport default function CategoryInput({ index, arrayHelpers }) {\n    return (\n        <Row className=\"category-input\">\n            <Col xs={6}>\n                <Field\n                    name={`categories.${index}.name`} type=\"input\" placeholder={`Category #${index + 1}`}\n                />\n            </Col>\n            <Col xs={4}>\n                <Field\n                    as={SelectInput} options={['other', 'flavor', 'meal', 'dish', 'cuisine']}\n                    name={`categories.${index}.type`}\n                    variant=\"secondary\"\n                />\n            </Col>\n            <Col xs={2}>\n                <Button className=\"remove-category-btn\" variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { HeartFill } from 'react-bootstrap-icons';\nimport './Heart.css';\n\nfunction Heart() {\n    return (\n        <div className=\"heart-icon-spinner-container\">\n            <HeartFill className='heart-icon-spinner'/>\n        </div>\n    )\n}\n\nexport default Heart;","import * as Yup from 'yup';\n\nconst recipeSchema = Yup.object().shape({\n    title: Yup.string()\n        .min(3, 'Too Short!')\n        .max(96, 'Too Long!')\n        .required('Please provide a title.'),\n    description: Yup.string().required(\"Please provide a description.\"),\n    prep: Yup.object({\n        time: Yup.number().typeError(\"Please provide a number for prep time\").required(\"Please provide a prep time\"),\n        unit: Yup.string().required(\"Required.\")\n    }),\n    cook: Yup.object({\n        time: Yup.number().typeError(\"Please provide a number for cook time\").required(\"Please provide a cook time\"),\n        unit: Yup.string().required(\"Required.\")\n    }),\n    ingredients: Yup.array().min(1, \"Please provide the ingredients list.\"),\n    instructions: Yup.array().min(1, \"Please provide the instructions list\").required(\"Please provide the instructions list.\"),\n    comments: Yup.array(),\n});\n\nexport default recipeSchema;","import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport * as Inputs from '../../input';\nimport Heart from '../../display/spinners/Heart/Heart';\nimport recipeSchema from '../../../utility/validationSchema/recipeSchema';\n\nimport './NewRecipeForm.css';\n\nexport default function NewRecipeForm({ onSubmit, initialValues, isImporting }) {\n    //This state is used when the user selects an image file from device\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [selectedImage, setSelectedImage] = useState(null);\n\n    //When a file is selected, convert file to dataurl for display\n    useEffect(() => {\n        const fileReader = new FileReader();\n        const handleShowImage = (evt) => {\n            setSelectedImage(evt.target.result);\n        }\n        fileReader.addEventListener(\"load\", handleShowImage, false);\n\n        if (selectedFile) fileReader.readAsDataURL(selectedFile);\n\n        return () => fileReader.removeEventListener(\"load\", handleShowImage);\n    }, [selectedFile]);\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            enableReinitialize={true}\n            onSubmit={(values, { setSubmitting }) => {\n                const formData = new FormData();\n                formData.append(\"title\", values.title);\n                formData.append(\"description\", values.description);\n                formData.append(\"serves\", values.serves);\n                formData.append(\"prep\", JSON.stringify(values.prep));\n                formData.append(\"cook\", JSON.stringify(values.cook));\n                formData.append(\"ingredients\", JSON.stringify(values.ingredients));\n                formData.append(\"instructions\", JSON.stringify(values.instructions));\n                formData.append(\"comments\", JSON.stringify(values.comments));\n                formData.append(\"categories\", JSON.stringify(values.categories));\n                formData.append(\"photo\", values.photo || \"\");\n                setSubmitting(true);\n                onSubmit(formData, () => {\n                    setSubmitting(false);\n                });\n            }}\n            validationSchema={recipeSchema}\n        >\n            {({ isSubmitting, values, setFieldValue }) => (\n                <Form>\n                    <Inputs.InputContainer name=\"title\" label=\"Title:\">\n                        <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"title\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"description\" label=\"Description:\">\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"description\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputContainer name=\"serves\" label=\"Serves:\">\n                        <Field name=\"serves\" placeholder=\"Serves\" type=\"number\" min={1} />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"serves\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputContainer name=\"prep\" label=\"Prep:\">\n                        <Field name=\"prep.time\" type=\"number\" min={1} />\n                        <Field name=\"prep.unit\" as={Inputs.SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"prep.time\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"cook\" label=\"Cook:\">\n                        <Field name=\"cook.time\" type=\"number\" min={1} />\n                        <Field name=\"cook.unit\" as={Inputs.SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"cook.time\" component=\"div\" className=\"form-error-message\" />\n\n                    {values.photo && <div className='recipe-image-container'>\n                        <img src={values.photo && typeof values.photo === \"string\" ? values.photo : selectedImage} alt=\"\" />\n                    </div>}\n\n                    <Inputs.InputContainer name=\"photo\" label=\"Image:\">\n                        <Field\n                            type=\"file\"\n                            name=\"photo\"\n                            value={undefined}\n                            onChange={e => {\n                                const file = e.target.files[0];\n                                setFieldValue('photo', file);\n                                setSelectedFile(file);\n                            }}\n                        />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputList\n                        name=\"categories\" label=\"Categories:\"\n                        listItems={values.categories}\n                        initialItemValue={{ name: \"\", type: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <ErrorMessage name=\"categories\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"ingredients\" label=\"Ingredients:\"\n                        listItems={values.ingredients}\n                        initialItemValue={{ name: \"\", amount: \"\", measurement: \"\", size: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <ErrorMessage name=\"ingredients\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"instructions\" label=\"Instructions:\"\n                        listItems={values.instructions}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`instruction-${index}`}\n                                name=\"instructions\"\n                                placeholder=\"Instruction\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n                    <ErrorMessage name=\"instructions\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputList\n                        name=\"comments\" label=\"Comments:\"\n                        listItems={values.comments}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`comment-${index}`}\n                                name=\"comments\"\n                                placeholder=\"Comment\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n\n                    <Button type=\"submit\" disabled={isSubmitting || isImporting} variant=\"secondary\">\n                        {isSubmitting ?\n                            <div>\n                                <Heart />\n                                <div>Submitting...</div>\n                            </div>\n                            : \"Submit\"\n                        }\n                    </Button>\n                </Form>\n            )}\n        </Formik>\n    )\n}","import React, { createContext, useContext, useState } from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport const dialogContext = createContext({});\n\nexport const useDialogContext = () => useContext(dialogContext);\n\nexport default function DialogContextProvider({ children }) {\n    const [show, setShow] = useState(false);\n    const [dialog, setDialog] = useState({\n        title: \"Dialog Box\",\n        text: \"Dialog body text\",\n        body: <div>Body component</div>,\n        footer: <Button>Close</Button>,\n    })\n\n    return (\n        <dialogContext.Provider value={{ dialog, setDialog, show, setShow }}>\n            {children}\n        </dialogContext.Provider>\n    )\n}","import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { useNavigate } from 'react-router';\nimport Page from '../Page/Page';\nimport NewRecipeForm from '../../components/form/NewRecipeForm/NewRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\nimport { useDialogContext } from '../../contexts/DialogContext/DialogContext';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport useResource from '../../hooks/useResource';\nimport Heart from '../../components/display/spinners/Heart/Heart';\n\nconst initialValues = {\n    title: \"\",\n    description: \"\",\n    serves: \"\",\n    prep: {\n        time: \"\",\n        unit: \"min\"\n    },\n    cook: {\n        time: \"\",\n        unit: \"min\"\n    },\n    ingredients: [],\n    instructions: [],\n    comments: [],\n    categories: [],\n    photo: null\n}\n\nexport default function NewRecipePage(props) {\n    const auth = useAuth();\n    const [importUrl, setImportUrl] = useState(null);\n    const { loading: importing, error, value: importedRecipe } = useResource(\n        importUrl,\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [importUrl]\n    );\n    const { setDialog, setShow } = useDialogContext();\n    const { createRecipe } = useRecipeContext();\n    const navigate = useNavigate();\n\n    const handleCreateRecipe = (recipeInfo, callback) => {\n        createRecipe(recipeInfo, (recipe, err) => {\n            if (err) console.error(err);\n            callback();\n            navigate('/');\n        });\n    }\n\n    const handleImport = (e) => {\n        e.preventDefault();\n        setImportUrl(`/api/recipes/import?importUrl=${e.target.lastChild.value}`);\n        setShow(false);\n    }\n\n    const handleImportClick = () => {\n        setDialog({\n            title: \"Import Recipe\",\n            text: \"Please enter the URL for the webpage containing the recipe you want to import.\",\n            body: (\n                <form onSubmit={handleImport} id=\"import-form\">\n                    <input type=\"text\" />\n                </form>\n            ),\n            footer: (\n                <>\n                    <Button variant=\"secondary\" onClick={() => setShow(false)}>Cancel</Button>\n                    <Button variant=\"secondary\" type=\"submit\" form=\"import-form\">Import</Button>\n                </>\n            )\n        });\n        setShow(true);\n    }\n\n    return (\n        <Page>\n            <h1>New Recipe</h1>\n            <Button disabled={importing} variant=\"secondary\" onClick={() => handleImportClick()}>\n                {importing ?\n                    <div style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        width: \"150px\"\n                    }}>\n                        <Heart />\n                        <div>Importing...</div>\n                    </div>\n                    : \"Import\"\n                }\n            </Button>\n            <NewRecipeForm onSubmit={handleCreateRecipe} initialValues={importedRecipe || initialValues} isImporting={importing} error={error} />\n        </Page>\n\n    );\n}","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport Page from '../Page/Page';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function SettingsPage(props) {\n    const navigate = useNavigate();\n    const { logout } = useAuth();\n\n    const handleLogout = () => {\n        logout();\n        navigate('/login');\n    }\n    \n    return (\n        <Page>\n            <h1>Settings</h1>\n\n            <Button onClick={handleLogout} variant=\"secondary\">Log Out</Button>\n        </Page>\n    );\n}","import React from 'react';\nimport './List.css';\n\nfunction List({ \n    heading,\n    listItems,\n    renderItem,\n    listStyle,\n    type = \"ul\",\n    direction = \"vertical\"\n}) {\n    const listItemComponents = listItems && listItems.map((item, index) => (\n        <li key={index}>{typeof renderItem === \"function\" ? renderItem(item) : item}</li>\n    ));\n\n    const style = {\n        ...listStyle,\n        display: \"flex\",\n        flexDirection: `${direction === \"horizontal\" ? \"row\" : \"column\"}`\n    }\n\n    return (\n        <div className=\"list-container\">\n            <h3>{heading}</h3>\n            <div className=\"list\">\n                {(listItems && listItems.length > 0) ?\n                    (type === \"ul\") ?\n                        <ul style={style}>\n                            {listItemComponents}\n                        </ul> :\n                        <ol style={style}>\n                            {listItemComponents}\n                        </ol>\n                    :\n                    <p>This list is currently empty</p>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default List;","import React from 'react';\nimport { useNavigate } from 'react-router';\nimport { Row, Col, Button, Badge } from 'react-bootstrap';\nimport { Heart, HeartFill, Trash } from 'react-bootstrap-icons';\nimport { useDialogContext } from '../../../contexts/DialogContext/DialogContext';\nimport List from '../../display/List/List';\n\nimport './RecipeDetails.css';\n\nexport default function RecipeDetails({ recipe, onFavorite, onDelete }) {\n    const navigate = useNavigate();\n    const { setDialog, setShow } = useDialogContext();\n    const { id, title, description, ingredients, instructions, comments, categories, serves, prep, cook, photo, favorite } = recipe;\n\n    const handleFavoriteClick = () => onFavorite(id, favorite);\n\n    const handleDeleteClick = () => {\n        setDialog({\n            title: \"Delete Recipe\",\n            text: \"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?\",\n            footer: (\n                <>\n                    <Button variant=\"secondary\" onClick={() => setShow(false)}>Cancel</Button>\n                    <Button variant=\"secondary\" onClick={() => onDelete(id, () => setShow(false))}>Delete</Button>\n                </>\n            )\n        });\n        setShow(true);\n    }\n\n    const handleEditClick = () => {\n        navigate(`/recipe/${id}/edit`);\n    }\n\n    return (\n        <>\n            <Row className=\"recipe-detail-row\">\n                <Col as=\"h2\" xs=\"8\" lg=\"10\">\n                    {title}{\" \"}\n                    <span className=\"favorite-btn\">\n                        {favorite ?\n                            <HeartFill onClick={handleFavoriteClick} /> :\n                            <Heart onClick={handleFavoriteClick} />\n                        }\n                    </span>\n                </Col>\n                <Col xs=\"3\" lg=\"1\">\n                    <Button variant=\"outline-secondary\" onClick={handleEditClick}>\n                        Edit\n                    </Button>\n                </Col>\n                <Col xs=\"1\" className=\"delete-btn\">\n                    <Trash onClick={handleDeleteClick} />\n                </Col>\n            </Row>\n\n            <Row className=\"recipe-detail-row\">\n                <Col xs=\"5\">\n                    <p>{\"Serves: \" + serves}</p>\n                    <p>{\"Prep Time: \" + prep.time + \" \" + prep.unit}</p>\n                    <p>{\"Cook Time: \" + cook.time + \" \" + cook.unit}</p>\n                    <p>{\"Total Time: \" + (prep.time + cook.time) + \" \" + cook.unit}</p>\n                </Col>\n                <Col className=\"recipe-image-container\">\n                    <img src={photo.path ? `http://localhost:3005/${photo.path}` : \"\"} alt=\"\" />\n                </Col>\n            </Row>\n\n            <Row className=\"recipe-detail-row\">\n                <p>{description}</p>\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ul\"\n                    heading=\"Categories\"\n                    listStyle={{ listStyleType: \"none\", padding: \"0\", margin: \"0 0 5px 0\" }}\n                    direction=\"horizontal\"\n                    listItems={categories}\n                    renderItem={(category) => <Badge className=\"m-1\">{category.name}</Badge>}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ul\"\n                    heading=\"Ingredients\"\n                    listItems={ingredients}\n                    renderItem={(ingredient) => `${ingredient.amount ? ingredient.amount : \"\"} ${ingredient.measurement ? ingredient.measurement : \"\"} ${ingredient.name}${(ingredient.size ? \", \" + ingredient.size : \"\")}`}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ol\"\n                    heading=\"Instructions\"\n                    listItems={instructions}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    heading=\"Additional Comments\"\n                    listItems={comments}\n                />\n            </Row>\n        </>\n    )\n}","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport RecipeDetails from '../../components/app/RecipeDetails/RecipeDetails';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function RecipePage(props) {\n    const { data: recipes, updateRecipe, deleteRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    const handleDelete = (recipeId, callback) => {\n        deleteRecipe(recipeId, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <RecipeDetails recipe={recipe} onFavorite={handleFavorite} onDelete={handleDelete} />}\n        </Page>\n    )\n}","import React from 'react';\nimport { useNavigate } from 'react-router';\nimport { Row, Col, Button, ButtonGroup } from 'react-bootstrap';\nimport { Formik, Form, Field } from 'formik';\nimport { SelectInput, InputList, IngredientInput, TextareaListInput, CategoryInput } from '../../input';\n\nexport default function EditRecipeForm({ recipe, onEdit }) {\n    const navigate = useNavigate();\n    const { id, favorite, ...initialValues } = recipe;\n\n    const handleCancel = () => {\n        navigate(-1);\n    }\n\n    const handleSubmit = (values) => {\n        //Convert ingredients array to object before submitting\n        //TODO: This would best be done within context to keep business logic seperate from components.\n        //however we need initial values for ingredients and categories to determine if any have been removed\n        const ingredientsObject = {};\n        const categoriesObject = {};\n\n        //Look thru initialValues.ingredients to determine which ingredients have been removed\n        for(let ingredient of initialValues.ingredients) {\n            //If ingredient is removed set to null\n            if(values.ingredients.findIndex(ing => ing.id === ingredient.id) === -1) {\n                ingredientsObject[ingredient.name] = null;\n            }\n        }\n\n        for(let ingredient of values.ingredients) {\n            if(ingredient.id) delete ingredient.id;\n            const { name, ...ingredientValues } = ingredient;\n            ingredientsObject[name] = ingredientValues;\n        }\n\n        //Look thru initialValues.categories to determine which categories have been removed\n        for (let category of initialValues.categories) {\n            //If category is removed set to null\n            if (values.categories.findIndex(cat => cat.name === category.name) === -1) {\n                categoriesObject[category.name] = null;\n            }\n        }\n\n        for (let category of values.categories) {\n            if (category.id) delete category.id;\n            const { name, type } = category;\n            categoriesObject[name] = { type };\n        }\n\n        onEdit(id, { ...values, ingredients: ingredientsObject, categories: categoriesObject }, () => navigate(-1));\n    }\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n        >\n            {({ isSubmitting, values }) => (\n                <Form>\n                    <Row className=\"recipe-detail-row\">\n                        <Col as=\"h2\" xs=\"7\">\n                            <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" />\n                        </Col>\n                        <Col xs=\"4\">\n                            <ButtonGroup>\n                                <Button variant=\"outline-secondary\" onClick={handleCancel}>Cancel</Button>\n                                <Button variant=\"secondary\" type=\"submit\" disabled={isSubmitting}>Save</Button>\n                            </ButtonGroup>\n                        </Col>\n                    </Row>\n\n                    <Row className=\"recipe-detail-row\">\n                        <Col xs=\"5\">\n                            <p>Serves: <Field name=\"serves\" placeholder=\"Serves\" type=\"number\"  min={1} /></p>\n                            <p>Prep Time:\n                                <Field name=\"prep.time\" type=\"number\"  min={1} />\n                                <Field name=\"prep.unit\" as={SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                            </p>\n                            <p>Cook Time:\n                                <Field name=\"cook.time\" type=\"number\"  min={1} />\n                                <Field name=\"cook.unit\" as={SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                            </p>\n                        </Col>\n                        <Col className=\"recipe-image-container\">\n                            <img src={initialValues.photo.path ? `http://localhost:3005/${initialValues.photo.path}` : \"\"} alt=\"\" />\n                        </Col>\n                    </Row>\n\n                    <Row className=\"recipe-detail-row\">\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"categories\" label=\"Categories:\"\n                            listItems={values.categories}\n                            initialItemValue={{ name: \"\", type: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"ingredients\" label=\"Ingredients\"\n                            listItems={values.ingredients}\n                            initialItemValue={{ name: \"\", amount: \"\", measurement: \"\", size: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"instructions\" label=\"Instructions\"\n                            listItems={values.instructions}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`instruction-${index}`}\n                                    name=\"instructions\"\n                                    placeholder=\"Instruction\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"comments\" label=\"Comments:\"\n                            listItems={values.comments || []}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`comment-${index}`}\n                                    name=\"comments\"\n                                    placeholder=\"Comment\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n                    </Row>\n                </Form>\n            )}\n        </Formik>\n    )\n}","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport EditRecipeForm from '../../components/form/EditRecipeForm/EditRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function EditRecipePage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleEdit = (recipeId, newValues, callback) => {\n        updateRecipe(recipeId, newValues, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <EditRecipeForm recipe={recipe} onEdit={handleEdit} />}\n        </Page>\n    )\n}","import React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport * as Inputs from '../../input';\n\nimport './LoginForm.css';\n\nfunction LoginForm({ onSubmit, ...props }) {\n    return (\n        <Formik\n            initialValues={{ userName: \"\", password: \"\" }}\n            onSubmit={(values, { setSubmitting }) => {\n                setSubmitting(true);\n                onSubmit(values, () => setSubmitting(false));\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"login-form\">\n                    <Inputs.InputContainer name=\"userName\" label=\"Username\">\n                        <Field name=\"userName\" type=\"input\" placeholder=\"Enter your username\" />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputContainer name=\"password\" label=\"Password\">\n                        <Field name=\"password\" type=\"password\" placeholder=\"Enter your password\" autoComplete=\"off\"/>\n                    </Inputs.InputContainer>\n\n                    {props.error && <div className=\"form-error\">{props.error}</div>}\n\n                    <Button type=\"submit\" variant=\"secondary\" disabled={isSubmitting}>\n                        Submit\n                    </Button>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default LoginForm;","import React from 'react';\nimport LoginForm from '../../components/form/LoginForm/LoginForm';\nimport Page from '../Page/Page';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { Navigate } from 'react-router-dom';\n\nexport default function LoginPage(props) {\n    const auth = useAuth();\n    \n    const handleLogin = async (credentials, callback) => {\n        await auth.login(credentials);\n        callback();\n    }\n\n    if(!auth.loading && auth.user) return <Navigate to=\"/\" />\n\n    return (\n        <Page>\n            <h3>Log In</h3>\n            <LoginForm onSubmit={handleLogin} error={auth.error?.response?.data}/>\n        </Page>\n    )\n}","import { useState, useEffect } from \"react\";\nimport useEventListener from \"./useEventListener\";\n\nexport default function useMediaQuery(mediaQuery) {\n    const [isMatch, setIsMatch] = useState(false);\n    const [mediaQueryList, setMediaQueryList] = useState(null);\n\n    useEffect(() => {\n        const list = window.matchMedia(mediaQuery);\n        setMediaQueryList(list);\n        setIsMatch(list.matches);\n    }, [mediaQuery]);\n\n    useEventListener(\"change\", e => setIsMatch(e.matches), mediaQueryList);\n\n    return isMatch;\n}","import { useEffect, useRef } from \"react\";\n\nexport default function useEventListener(eventType, callback, element = window) {\n    const callbackRef = useRef(callback);\n\n    useEffect(() => {\n        callbackRef.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        if (element == null) return;\n        const handler = e => callbackRef.current(e);\n        element.addEventListener(eventType, handler);\n\n        return () => element.removeEventListener(eventType, handler);\n    }, [eventType, element]);\n}","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Form, FormControl } from 'react-bootstrap';\nimport './Search.css';\n\nfunction Search({ onSubmit, initialValue }) {\n    const inputRef = useRef(null);\n    const [showClearBtn, setShowClearBtn] = useState(initialValue && initialValue.length > 0);\n\n    useEffect(() => {\n        inputRef.current.value = initialValue;\n    }, [initialValue]);\n\n    const handleKeyPress = (e) => {\n        if(e.key === \"Enter\") {\n            e.preventDefault();\n            inputRef.current.blur();\n            typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n        }\n    }\n\n    const handleInputChange = (e) => {\n        if(e.target.value.length > 0) setShowClearBtn(true);\n        else setShowClearBtn(false);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n    }\n\n    const handleClear = () => {\n        inputRef.current.value = \"\";\n        setShowClearBtn(false);\n        typeof onSubmit === \"function\" && onSubmit(\"\");\n    }\n\n    return (\n        <Form className=\"search-form\" onSubmit={handleSubmit}>\n            <FormControl\n                type=\"search\"\n                placeholder=\"Search\"\n                aria-label=\"Search\"\n                className=\"search-bar\"\n                onKeyPress={handleKeyPress}\n                onChange={handleInputChange}\n                ref={inputRef}\n            />\n            <Button className={`clear-btn ${showClearBtn ? \"show\" : \"hide\"}`} variant=\"outline-secondary\" onClick={handleClear}>x</Button>\n            <Button variant=\"secondary\" type=\"submit\" className=\"mx-2\">Search</Button>\n        </Form>\n    )\n}\n\nexport default Search;","import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport default function NavIconLink({ to, text = \"\", IconComponent, IconFillComponent }) {\n    const { pathname } = useLocation();\n\n    return (\n        <Nav.Item as={Link} to={to} className=\"nav-link\">\n            {pathname === to ?\n                <IconFillComponent size={40} className=\"mx-2\" /> :\n                <IconComponent size={40} className=\"mx-2\" />\n            } {text}\n        </Nav.Item>\n    );\n}","import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport { \n    House, HouseFill, \n    PlusCircle, PlusCircleFill, \n    Heart, HeartFill, \n    Gear, GearFill \n} from 'react-bootstrap-icons';\n\nimport NavIconLink from '../../display/NavIconLink/NavIconLink';\n\nexport default function NavLinks() {\n    return (\n        <Nav className=\"nav-links\">\n            <NavIconLink to=\"/\" text=\"Home\" IconComponent={House} IconFillComponent={HouseFill} />\n            <NavIconLink to=\"/favorites\" text=\"Favorites\" IconComponent={Heart} IconFillComponent={HeartFill} />\n            <NavIconLink to=\"/new\" text=\"New\" IconComponent={PlusCircle} IconFillComponent={PlusCircleFill} />\n            <NavIconLink to=\"/settings\" text=\"Settings\" IconComponent={Gear} IconFillComponent={GearFill} />\n        </Nav>\n    )\n}","import React from 'react';\nimport { Button, Navbar, Nav } from 'react-bootstrap';\nimport { useLocation, useNavigate } from 'react-router';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport useMediaQuery from '../../../hooks/useMediaQuery';\nimport Search from '../../input/Search/Search';\nimport NavLinks from '../NavLinks/NavLinks';\n\nimport './TopNav.css';\n\nexport default function TopNav({ onShowFilter }) {\n    const { filter, updateFilter } = useRecipeContext();\n    const isLargeScreen = useMediaQuery(\"(min-width: 1081px)\");\n    const { pathname } = useLocation();\n    const navigate = useNavigate();\n    const auth = useAuth();\n\n    if(!auth.user) return null;\n\n    return (\n        <>\n            {(isLargeScreen) && <Navbar className=\"top-bar\">\n                <Nav className=\"top-bar-nav\">\n                    <NavLinks />\n                </Nav>\n            </Navbar>}\n            <Navbar className=\"top-bar\" sticky=\"top\">\n                <Nav className=\"top-bar-nav\">\n                    <Nav.Item>\n                        <Button\n                            variant=\"outline-secondary\"\n                            onClick={() => navigate(-1)}\n                        >\n                            Back\n                        </Button>\n                    </Nav.Item>\n\n                    {(pathname === '/' || pathname === '/favorites') &&\n                        <>\n                            <Nav.Item>\n                                <Button\n                                    variant=\"secondary\"\n                                    className=\"show-filters-btn\"\n                                    onClick={onShowFilter}\n                                >\n                                    Filters\n                                </Button>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Search\n                                    onSubmit={(value) => updateFilter({ search: value })}\n                                    initialValue={filter.search}\n                                />\n\n                            </Nav.Item>\n                        </>\n                    }\n                </Nav>\n            </Navbar>\n        </>\n    )\n}","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavLinks from '../NavLinks/NavLinks';\nimport useMediaQuery from '../../../hooks/useMediaQuery';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\n\nimport './BottomNav.css';\n\nexport default function BottomNav(props) {\n    const shouldDisplay = useMediaQuery(\"(max-width: 1080px)\");\n    const auth = useAuth();\n\n    if(!auth.user) return null;\n\n    return (\n        <Navbar className={`bottom-bar ${shouldDisplay ? \"\" : \"hide\"}`} fixed=\"bottom\">\n            <NavLinks />\n        </Navbar>\n    )\n}","import React from 'react';\nimport { Offcanvas } from 'react-bootstrap';\n\nfunction SlideinSidebar(props) {\n    return (\n        <Offcanvas show={props.show} onHide={props.onClose} {...props}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>{props.title}</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            {props.children}\n          </Offcanvas.Body>\n        </Offcanvas>\n    );\n  }\n\n  export default SlideinSidebar;","import React, { useState } from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport './Autocomplete.css';\n\nfunction Autocomplete({ suggestions, placeholder, onSubmit }) {\n    const [userInput, setUserInput] = useState(\"\");\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [activeSuggestion, setActiveSuggestion] = useState(-1);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    // useEffect(() => {\n    //     console.group(\"Autocomplete State and Props\");\n    //     console.log(\"User input:\", userInput);\n    //     console.log(\"Filtered suggestions:\", filteredSuggestions);\n    //     console.log(\"Active suggestion:\", activeSuggestion);\n    //     console.log(\"Show:\", showSuggestions);\n    //     console.log(\"Suggestions:\", suggestions);\n    //     console.groupEnd();\n    // }, [userInput, filteredSuggestions, activeSuggestion, showSuggestions, suggestions]);\n\n    const handleSubmit = (submitValue) => {\n        if(!onSubmit) return;\n        if(submitValue) {\n            onSubmit(submitValue);\n        } else {\n            const suggIdx = filteredSuggestions.findIndex(item => item.name.toLowerCase() === userInput.toLowerCase());\n            if(suggIdx > -1) onSubmit(filteredSuggestions[suggIdx]);\n        }\n    }\n\n    const handleChange = e => {\n        const input = e.currentTarget.value;\n\n        const newFilteredSuggestions = suggestions.filter(suggestion =>\n            suggestion.name.toLowerCase().indexOf(input.toLowerCase()) > -1\n        );\n\n        setActiveSuggestion(-1);\n        setFilteredSuggestions(newFilteredSuggestions);\n        \n        //Show suggestions if input has not changed to empty string\n        if(input !== \"\" ) setShowSuggestions(true);\n        else setShowSuggestions(false);\n\n        setUserInput(input);\n    };\n\n    const handleKeyDown = e => {\n        const keyCode = e.keyCode;\n\n        if (keyCode === 13) {\n            e.preventDefault();\n            if(activeSuggestion === -1 && userInput === \"\") return;\n            if(activeSuggestion > -1) {\n                handleSubmit(filteredSuggestions[activeSuggestion])\n            } else handleSubmit();\n            setActiveSuggestion(-1);\n            setShowSuggestions(false);\n            setUserInput(\"\");\n        } else if (keyCode === 38) {\n            if (activeSuggestion === 0 || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion - 1);\n        } else if (keyCode === 40) {\n            if (activeSuggestion + 1 === filteredSuggestions.length || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion + 1);\n        }\n    };\n\n    const handleClick = e => {\n        const clickedSuggestion = { id: e.currentTarget.value, name: e.currentTarget.innerText };\n        setActiveSuggestion(-1);\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n        setUserInput(\"\");\n        handleSubmit(clickedSuggestion);\n    };\n\n    const suggestionsListComponent = (showSuggestions && userInput !== \"\") ?\n        ((filteredSuggestions.length) ? (\n            <ul className=\"suggestions-list\">\n                {filteredSuggestions.map((suggestion, index) => {\n                    let className;\n\n                    // Flag the active suggestion with a class\n                    if (index === activeSuggestion) {\n                        className = \"suggestion-active\";\n                    }\n                    return (\n                        <li className={className} key={suggestion.id} value={suggestion.id} onClick={handleClick}>\n                            {suggestion.name}\n                        </li>\n                    );\n                })}\n            </ul>\n        ) : (\n            <div className=\"no-suggestions\">\n                <em>No suggestions available.</em>\n            </div>\n        )\n        ) : null\n\n    return (\n        <div className=\"autocomplete-container\">\n            <FormControl\n                className=\"autocomplete-input-bar\"\n                type=\"search\"\n                onChange={handleChange}\n                onKeyDown={handleKeyDown}\n                value={userInput}\n                placeholder={placeholder}\n            />\n            {suggestionsListComponent}\n        </div>\n    );\n}\n\nexport default Autocomplete;","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { FieldArray } from 'formik';\nimport { Trash } from 'react-bootstrap-icons';\nimport Autocomplete from '../Autocomplete/Autocomplete';\nimport './AutocompleteList.css';\n\nfunction AutocompleteList({ name, listItems, suggestions, placeholder, onChange }) {\n    const handleSubmit = (values) => {\n        onChange && onChange(values);\n    }\n\n    return (\n        <>\n            <Autocomplete\n                suggestions={suggestions}\n                placeholder={placeholder}\n                onSubmit={handleSubmit}\n            />\n            <FieldArray\n                name={name}\n                render={arrayHelpers => (\n                    <ul className=\"autocomplete-list\">\n                        {listItems.map((item, index) => (\n                            <Row as=\"li\" key={index}>\n                                <Col xs={1}>\n                                    <Trash\n                                        onClick={() => {\n                                            arrayHelpers.remove(index)\n                                        }} \n                                    />\n                                </Col>\n                                <Col>\n                                    {item.name}\n                                </Col>\n                            </Row>\n                        ))}\n                    </ul>\n                )}\n            />\n        </>\n    )\n}\n\nexport default AutocompleteList;","import React from 'react';\nimport { Row, Button } from 'react-bootstrap';\nimport { Formik, Form } from 'formik';\n\nimport AutocompleteList from '../../input/AutocompleteList/AutocompleteList';\nimport './FilterRecipesForm.css';\n\nfunction FilterRecipesForm({ initialFilter, onSubmit, ingredients, categories }) {\n    const handleClearFilters = () => {\n        onSubmit({\n            ingredients: [],\n            categories: []\n        });\n    }\n\n    return (\n        <Formik\n            initialValues={initialFilter}\n            onSubmit={(values) => {\n                onSubmit({\n                    ingredients: values.ingredients,\n                    categories: values.categories\n                });\n            }}\n        >\n            {(form) => (\n                <Form className=\"filter-recipes-form\">\n                    <Row>\n                        <h5>Ingredients</h5>\n                        <AutocompleteList\n                            name=\"ingredients\"\n                            placeholder={\"Enter an ingredient to add to list\"}\n                            suggestions={ingredients}\n                            listItems={form.values.ingredients}\n                            onChange={(value) => {\n                                form.setFieldValue('ingredients', [...form.values.ingredients, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <h5>Categories</h5>\n                        <AutocompleteList\n                            name=\"categories\"\n                            placeholder={\"Enter a category to add to list\"}\n                            suggestions={categories}\n                            listItems={form.values.categories}\n                            onChange={(value) => {\n                                form.setFieldValue('categories', [...form.values.categories, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <Button variant=\"outline-secondary\" className=\"clear-filters-btn\" onClick={handleClearFilters}>Clear</Button>\n                        <Button variant=\"secondary\" className=\"apply-filters-btn\" type=\"submit\">Apply</Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n\n}\n\nexport default FilterRecipesForm;","import React from 'react';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport useResource from '../../../hooks/useResource';\n\nimport SlideinSidebar from '../../display/SlideinSidebar/SlideinSidebar';\nimport FilterRecipesForm from '../../form/FilterRecipesForm/FilterRecipesForm';\n\nfunction FilterControlSidebar({ show, onClose }) {\n    const { filter, updateFilter } = useRecipeContext();\n    const { value: ingredients} = useResource('/api/ingredients');\n    const { value: categories} = useResource('/api/categories');\n\n    const handleApplyFilter = (filter) => {\n        updateFilter(filter);\n        onClose();\n    }\n\n    return (\n        <SlideinSidebar show={show} onClose={onClose} title=\"Select your filters\">\n            <FilterRecipesForm\n                initialFilter={filter}\n                onSubmit={handleApplyFilter}\n                ingredients={ingredients}\n                categories={categories}\n            />\n        </SlideinSidebar>\n    )\n}\n\nexport default FilterControlSidebar;","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { useDialogContext } from '../../../contexts/DialogContext/DialogContext';\n\nexport default function Dialog(props) {\n    const { dialog, show, setShow } = useDialogContext();\n\n    return (\n        <Modal show={show} onHide={() => setShow(false)}>\n            <Modal.Header closeButton>\n                <Modal.Title>{dialog.title}</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body>\n                <p>{dialog.text}</p>\n                {dialog.body}\n            </Modal.Body>\n\n            <Modal.Footer>\n                {dialog.footer}\n            </Modal.Footer>\n        </Modal>\n    )\n}","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport useToggle from './hooks/useToggle';\nimport HomePage from './pages/HomePage/HomePage';\nimport FavoritesPage from './pages/FavoritesPage/FavoritesPage';\nimport NewRecipePage from './pages/NewRecipePage/NewRecipePage';\nimport SettingsPage from './pages/SettingsPage/SettingsPage';\nimport RecipePage from './pages/RecipePage/RecipePage';\nimport EditRecipePage from './pages/EditRecipePage/EditRecipePage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport TopNav from './components/app/TopNav/TopNav';\nimport BottomNav from './components/app/BottomNav/BottomNav';\nimport FilterControlSidebar from './components/app/FilterControlSidebar/FilterControlSidebar';\nimport Dialog from './components/display/Dialog/Dialog';\n\nimport DialogContextProvider from './contexts/DialogContext/DialogContext';\nimport RecipeContextProvider from './contexts/RecipeContext/RecipeContext';\nimport AuthContextProvider, { useAuth } from './contexts/AuthContext/AuthContext';\n\nimport './App.css';\n\nfunction PrivateRoute({ children }) {\n\tconst auth = useAuth();\n\n\tif (auth.loading) return <div>Loading...</div>\n\n\treturn (\n\t\tauth.user ? children : <Navigate to=\"/login\" />\n\t)\n}\n\nfunction App() {\n\tconst [isShown, toggleShow] = useToggle(false);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<AuthContextProvider>\n\t\t\t\t<DialogContextProvider>\n\t\t\t\t\t<RecipeContextProvider>\n\t\t\t\t\t\t<FilterControlSidebar\n\t\t\t\t\t\t\tshow={isShown}\n\t\t\t\t\t\t\tonClose={() => toggleShow(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Dialog />\n\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t<TopNav onShowFilter={() => toggleShow(true)} />\n\n\t\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t\t<Route path=\"/login\" element={<LoginPage />} />\n\t\t\t\t\t\t\t\t<Route path=\"/\" element={<PrivateRoute><HomePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/favorites\" element={<PrivateRoute><FavoritesPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/new\" element={<PrivateRoute><NewRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/settings\" element={<PrivateRoute><SettingsPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId\" element={<PrivateRoute><RecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId/edit\" element={<PrivateRoute><EditRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t</Routes>\n\n\t\t\t\t\t\t\t<BottomNav />\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</RecipeContextProvider>\n\t\t\t\t</DialogContextProvider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { useState } from \"react\"\n\nexport default function useToggle(defaultValue) {\n  const [value, setValue] = useState(defaultValue)\n\n  function toggleValue(value) {\n    setValue(currentValue =>\n      typeof value === \"boolean\" ? value : !currentValue\n    )\n  }\n\n  return [value, toggleValue]\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}