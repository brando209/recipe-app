(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(35),a=n.n(i),s=(n(155),n(7)),o=n(8),l=n(33);var j=n(2),u=n(300),d=n(139),b=n(3),m=n(138),h=(n(156),n(0)),p=["children","className"];function O(e){var t=e.children,n=e.className,c=void 0===n?"":n,r=Object(b.a)(e,p);return Object(h.jsx)(m.a,Object(j.a)(Object(j.a)({className:"page ".concat(c)},r),{},{fluid:!0,children:t}))}var x=n(313),f=n(301),v=n(302);n(158);function g(e){var t=Object(o.g)(),n=e.title,c=e.description,r=e.serves,i=e.prep,a=e.cook,s=e.favorite,l=e.id,j=e.photo,b=function(t){t.stopPropagation(),e.onFavorite(l,s)};return Object(h.jsx)(x.a,{className:"recipe-card",children:Object(h.jsx)(x.a.Body,{className:"recipe-card-body",onClick:function(){return t("/recipe/".concat(l))},children:Object(h.jsxs)(u.a,{children:[Object(h.jsxs)(d.a,{className:"recipe-card-body-left",children:[Object(h.jsxs)(x.a.Title,{className:"recipe-card-title",children:[n," ",Object(h.jsx)("span",{className:"favorite-btn",children:s?Object(h.jsx)(f.a,{onClick:b}):Object(h.jsx)(v.a,{onClick:b})})]}),Object(h.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Serves: ",r]}),Object(h.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Prep time: ",i.time+" "+i.unit]}),Object(h.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:["Cook time: ",a.time+" "+a.unit]}),Object(h.jsx)(x.a.Text,{className:"recipe-card-text",children:c})]}),Object(h.jsx)(d.a,{className:"recipe-card-body-right",children:Object(h.jsx)(x.a.Img,{className:"recipe-card-img",src:j.path?"http://localhost:3005/".concat(j.path):"",alt:""})})]})})})}var y=n(28),N=n.n(y),C=n(15),S=n(45),I=n(24);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.useState)(!0),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)(),l=Object(s.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)(),b=Object(s.a)(d,2),m=b[0],h=b[1],p=Object(c.useCallback)((function(){a(!0),u(null),h(null),e().then(h).catch(u).finally((function(){return a(!1)}))}),t);return Object(c.useEffect)((function(){p()}),[p]),{loading:i,error:j,value:m,setLoading:a,setError:u,setValue:h}}var w=n(46),F=n.n(w),R={headers:{"Content-Type":"application/json"}};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return k((function(){return F.a.get(e,Object(j.a)(Object(j.a)({},R),t)).then((function(e){if(200===e.status)return e.data}))}),n)}var L="http://localhost:3005/api/recipes";var T={createRecipe:function(e,t){return F.a.post(L,e,{headers:t})},updateRecipe:function(e,t,n){return F.a.patch("".concat(L,"/").concat(e),t,{headers:n})},deleteRecipe:function(e,t){return F.a.delete("".concat(L,"/").concat(e),{headers:t})}};var P={login:function(e){return F.a.post("".concat("http://localhost:3005/api/auth","/login"),e)}};var V=Object(c.createContext)({}),D=function(){return Object(c.useContext)(V)},H=localStorage.getItem("recipe_app_0246_auth_token");function z(e){var t=e.children,n=E("http://localhost:3005/api/auth/login",{headers:{authorization:"BEARER ".concat(H)}},[H]),c=n.loading,r=n.error,i=n.value,a=n.setLoading,s=n.setError,o=n.setValue,l=function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),o(null),s(null),e.next=6,P.login(t);case 6:n=e.sent,o(n.data),c=n.data.token,localStorage.setItem("recipe_app_0246_auth_token",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(e.t0);case 14:a(!1);case 15:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(V.Provider,{value:{loading:c,error:r,user:i,login:l,logout:function(){o(null),localStorage.removeItem("recipe_app_0246_auth_token")}},children:t})}var B=Object(c.createContext)({}),_=function(){return Object(c.useContext)(B)},J=function(e){return{Authorization:"BEARER ".concat(e)}};function A(e){var t,n,r=e.children,i=D(),a=E("http://localhost:3005/api/recipes",{headers:{authorization:"BEARER ".concat(null===(t=i.user)||void 0===t?void 0:t.token)}},[null===(n=i.user)||void 0===n?void 0:n.token]),o=a.loading,l=a.error,u=a.value,d=a.setValue,b=Object(c.useState)({ingredients:[],search:""}),m=Object(s.a)(b,2),p=m[0],O=m[1],x=function(){var e=Object(S.a)(N.a.mark((function e(t){var n,c,r=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:function(){},e.prev=1,e.next=4,T.createRecipe(t,J(i.user.token));case 4:c=e.sent,d((function(e){return[].concat(Object(C.a)(e),[c.data])})),n(c.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),n(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(N.a.mark((function e(t,n){var c,r,a=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.length>2&&void 0!==a[2]?a[2]:function(){},e.prev=1,e.next=4,T.updateRecipe(t,n,J(i.user.token));case 4:r=e.sent,d((function(e){var t=Object(C.a)(e),n=t.findIndex((function(e){return e.id===r.data.id}));return n>-1&&t.splice(n,1,r.data),t})),c(r.data,null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error:",e.t0),c(null,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(S.a)(N.a.mark((function e(t){var n,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:function(){},e.prev=1,e.next=4,T.deleteRecipe(t,J(i.user.token));case 4:d((function(e){var n=Object(C.a)(e),c=n.findIndex((function(e){return e.id===t}));return c>-1&&n.splice(c,1),n})),n(!0,null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error:",e.t0),n(null,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.ingredients,n=e.search,c=u;if(t){var r,i=Object(I.a)(t);try{var a=function(){var e,t=r.value;c=null===(e=c)||void 0===e?void 0:e.filter((function(e){return e.ingredients.findIndex((function(e){return e.id===t.id}))>-1}))};for(i.s();!(r=i.n()).done;)a()}catch(l){i.e(l)}finally{i.f()}}if(n){var s,o=n.toLowerCase();c=null===(s=c)||void 0===s?void 0:s.filter((function(e){var t;return e.title.toLowerCase().includes(o)||e.description.toLowerCase().includes(o)||e.ingredients.map((function(e){return e.name})).join(" ").toLowerCase().includes(o)||e.instructions.join(" ").toLowerCase().includes(o)||(null===(t=e.comments)||void 0===t?void 0:t.join(" ").toLowerCase().includes(o))}))}return c}(p);return Object(h.jsx)(B.Provider,{value:{loading:o,error:l,data:g,createRecipe:x,updateRecipe:f,deleteRecipe:v,updateFilter:function(e){O((function(t){return Object(j.a)(Object(j.a)({},t),e)}))},filter:p},children:r})}function q(){var e=_(),t=e.data,n=e.updateRecipe,c=e.loading,r=e.error,i=function(e,t){n(e,{favorite:!t},(function(){return console.log("toggled favorite")}))};return Object(h.jsxs)(O,{children:[Object(h.jsx)("h1",{children:"Home"}),c&&Object(h.jsx)("p",{children:"Loading..."}),r&&Object(h.jsx)("pre",{children:JSON.stringify(r.message,null,2)}),!r&&!c&&t.length>0&&Object(h.jsx)(u.a,{children:t.map((function(e){return Object(h.jsx)(d.a,{sm:"12",md:"6",className:"recipe-card-container",children:Object(h.jsx)(g,Object(j.a)(Object(j.a)({},e),{},{onFavorite:i}))},e.id)}))}),!r&&!c&&0===t.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"You currently have no saved recipes."}),Object(h.jsxs)("p",{children:[Object(h.jsx)(l.b,{to:"/new",children:"Click here"})," to add a new recipe."]})]})]})}function Y(e){var t=_(),n=t.data,c=t.updateRecipe,r=t.loading,i=t.error,a=n&&n.length>0&&(null===n||void 0===n?void 0:n.filter((function(e){return e.favorite}))),s=function(e,t){c(e,{favorite:!t})};return Object(h.jsxs)(O,{children:[Object(h.jsx)("h1",{children:"Favorites"}),r&&Object(h.jsx)("p",{children:"Loading..."}),i&&Object(h.jsx)("pre",{children:JSON.stringify(i.message,null,2)}),!i&&!r&&a.length>0&&Object(h.jsx)(u.a,{children:a.map((function(e){return Object(h.jsx)(d.a,{sm:"12",md:"6",className:"recipe-card-container",children:Object(h.jsx)(g,Object(j.a)(Object(j.a)({},e),{},{onFavorite:s}))},e.id)}))}),!i&&!r&&0===a.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"You currently have no favorited recipes."}),Object(h.jsxs)("p",{children:[Object(h.jsx)(l.b,{to:"/new",children:"Click here"})," to add a new recipe."]})]})]})}var K=n(9),M=n(142),U=["children","options","placeholder"];function G(e){var t=e.children,n=e.options,c=e.placeholder,r=Object(b.a)(e,U);return Object(h.jsxs)(M.a,Object(j.a)(Object(j.a)({as:"select"},r),{},{children:[c&&Object(h.jsx)("option",{value:"",children:c}),n?n.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)})):t]}))}var Q=n(303);n(182);function W(e){var t=e.index,n=e.arrayHelpers;return Object(h.jsxs)(u.a,{className:"ingredient-input",children:[Object(h.jsxs)(d.a,{xs:6,children:[Object(h.jsx)(K.b,{name:"ingredients.".concat(t,".name"),type:"input",placeholder:"Ingredient #".concat(t+1)}),Object(h.jsx)(K.b,{name:"ingredients.".concat(t,".amount"),type:"number",placeholder:"Amount",min:0})]}),Object(h.jsxs)(d.a,{xs:4,children:[Object(h.jsx)(K.b,{as:G,options:["small","medium","large"],name:"ingredients.".concat(t,".size"),placeholder:"size",variant:"secondary"}),Object(h.jsx)(K.b,{as:G,options:["teaspoon","tablespoon","cup","ounce","pound","gram"],name:"ingredients.".concat(t,".measurement"),placeholder:"unit",variant:"secondary"})]}),Object(h.jsx)(d.a,{xs:2,children:Object(h.jsx)(M.a,{className:"add-ingredient-btn",variant:"secondary",onClick:function(){return n.remove(t)},children:Object(h.jsx)(Q.a,{})})})]})}n(183);function X(e){var t=e.name,n=e.index,c=e.arrayHelpers,r=e.placeholder;return Object(h.jsxs)(u.a,{className:"textarea-list-input",children:[Object(h.jsx)(d.a,{xs:10,children:Object(h.jsx)(K.b,{name:"".concat(t,".").concat(n),as:"textarea",placeholder:"".concat(r," #").concat(n+1)})}),Object(h.jsx)(d.a,{xs:2,children:Object(h.jsx)(M.a,{variant:"secondary",onClick:function(){return c.remove(n)},children:Object(h.jsx)(Q.a,{})})})]})}n(184);function Z(e){var t=e.name,n=e.label,c=e.children;return Object(h.jsxs)(u.a,{className:"input-container",children:[Object(h.jsx)(d.a,{xs:3,children:Object(h.jsx)("label",{htmlFor:t,children:n})}),c.length?c.map((function(e,t){return Object(h.jsx)(d.a,{className:"mx-2",children:e},t)})):Object(h.jsx)(d.a,{className:"mx-2",children:c})]})}n(185);function $(e){var t=e.name,n=e.label,c=e.listItems,r=e.renderItem,i=e.initialItemValue;return Object(h.jsx)(K.c,{name:t,render:function(e){return Object(h.jsxs)("div",{className:"input-list",children:[Object(h.jsxs)(u.a,{children:[Object(h.jsx)(d.a,{xs:3,lg:4,children:Object(h.jsx)("label",{htmlFor:t,children:n})}),Object(h.jsx)(d.a,{xs:3,lg:1,children:Object(h.jsx)(M.a,{type:"button",size:"sm",variant:"secondary",onClick:function(){return e.push(i)},children:"Add"})})]}),c.map((function(t,n){return r(t,n,e)}))]})}})}n(186);var ee=function(){return Object(h.jsx)("div",{className:"heart-icon-spinner-container",children:Object(h.jsx)(f.a,{className:"heart-icon-spinner"})})},te=n(29),ne=te.c().shape({title:te.d().min(3,"Too Short!").max(32,"Too Long!").required("Please provide a title."),description:te.d().required("Please provide a description."),prep:te.c({time:te.b().typeError("Please provide a number for prep time").required("Please provide a prep time"),unit:te.d().required("Required.")}),cook:te.c({time:te.b().typeError("Please provide a number for cook time").required("Please provide a cook time"),unit:te.d().required("Required.")}),ingredients:te.a().min(1,"Please provide the ingredients list."),instructions:te.a().min(1,"Please provide the instructions list").required("Please provide the instructions list."),comments:te.a()}),ce=(n(285),{title:"",description:"",serves:"",prep:{time:"",unit:"min"},cook:{time:"",unit:"min"},ingredients:[],instructions:[],comments:[],categories:[],photo:null});function re(e){var t=e.onSubmit;return Object(h.jsx)(K.e,{initialValues:ce,onSubmit:function(e,n){var c=n.setSubmitting,r=new FormData;r.append("title",e.title),r.append("description",e.description),r.append("serves",e.serves),r.append("prep",JSON.stringify(e.prep)),r.append("cook",JSON.stringify(e.cook)),r.append("ingredients",JSON.stringify(e.ingredients)),r.append("instructions",JSON.stringify(e.instructions)),r.append("comments",JSON.stringify(e.comments)),r.append("photo",e.photo||""),c(!0),t(r,(function(){c(!1)}))},validationSchema:ne,children:function(e){var t=e.isSubmitting,n=e.values,c=e.setFieldValue;return Object(h.jsxs)(K.d,{children:[Object(h.jsx)(Z,{name:"title",label:"Title:",children:Object(h.jsx)(K.b,{name:"title",placeholder:"Recipe Title",type:"input"})}),Object(h.jsx)(K.a,{name:"title",component:"div",className:"form-error-message"}),Object(h.jsx)(Z,{name:"description",label:"Description:",children:Object(h.jsx)(K.b,{name:"description",placeholder:"Recipe Description",as:"textarea"})}),Object(h.jsx)(K.a,{name:"description",component:"div",className:"form-error-message"}),Object(h.jsx)(Z,{name:"serves",label:"Serves:",children:Object(h.jsx)(K.b,{name:"serves",placeholder:"Serves",type:"number",min:1})}),Object(h.jsx)(K.a,{name:"serves",component:"div",className:"form-error-message"}),Object(h.jsxs)(Z,{name:"prep",label:"Prep:",children:[Object(h.jsx)(K.b,{name:"prep.time",type:"number",min:1}),Object(h.jsx)(K.b,{name:"prep.unit",as:G,options:["min","hr"],variant:"secondary"})]}),Object(h.jsx)(K.a,{name:"prep.time",component:"div",className:"form-error-message"}),Object(h.jsxs)(Z,{name:"cook",label:"Cook:",children:[Object(h.jsx)(K.b,{name:"cook.time",type:"number",min:1}),Object(h.jsx)(K.b,{name:"cook.unit",as:G,options:["min","hr"],variant:"secondary"})]}),Object(h.jsx)(K.a,{name:"cook.time",component:"div",className:"form-error-message"}),Object(h.jsx)(Z,{name:"photo",label:"Image:",children:Object(h.jsx)(K.b,{type:"file",name:"photo",value:void 0,onChange:function(e){var t=e.target.files[0];c("photo",t)}})}),Object(h.jsx)($,{name:"ingredients",label:"Ingredients:",listItems:n.ingredients,initialItemValue:{name:"",amount:"",measurement:"",size:""},renderItem:function(e,t,n){return Object(h.jsx)(W,{item:e,index:t,arrayHelpers:n},"ingredient-".concat(t))}}),Object(h.jsx)(K.a,{name:"ingredients",component:"div",className:"form-error-message"}),Object(h.jsx)($,{name:"instructions",label:"Instructions:",listItems:n.instructions,initialItemValue:"",renderItem:function(e,t,n){return Object(h.jsx)(X,{name:"instructions",placeholder:"Instruction",item:e,index:t,arrayHelpers:n},"instruction-".concat(t))}}),Object(h.jsx)(K.a,{name:"instructions",component:"div",className:"form-error-message"}),Object(h.jsx)($,{name:"comments",label:"Comments:",listItems:n.comments,initialItemValue:"",renderItem:function(e,t,n){return Object(h.jsx)(X,{name:"comments",placeholder:"Comment",item:e,index:t,arrayHelpers:n},"comment-".concat(t))}}),Object(h.jsx)(M.a,{type:"submit",disabled:t,variant:"secondary",children:t?Object(h.jsxs)("div",{children:[Object(h.jsx)(ee,{}),Object(h.jsx)("div",{children:"Submitting..."})]}):"Submit"})]})}})}function ie(e){var t=_().createRecipe,n=Object(o.g)();return Object(h.jsxs)(O,{children:[Object(h.jsx)("h1",{children:"New Recipe"}),Object(h.jsx)(re,{onSubmit:function(e,c){t(e,(function(e,t){t&&console.error(t),c(),n("/")}))}})]})}function ae(e){var t=Object(o.g)(),n=D().logout;return Object(h.jsxs)(O,{children:[Object(h.jsx)("h1",{children:"Settings"}),Object(h.jsx)(M.a,{onClick:function(){n(),t("/login")},variant:"secondary",children:"Log Out"})]})}var se=Object(c.createContext)({}),oe=function(){return Object(c.useContext)(se)};function le(e){var t=e.children,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)({title:"Dialog Box",text:"Dialog body text",footer:Object(h.jsx)(M.a,{children:"Close"})}),l=Object(s.a)(o,2),j=l[0],u=l[1];return Object(h.jsx)(se.Provider,{value:{dialog:j,setDialog:u,show:i,setShow:a},children:t})}n(286);var je=function(e){var t=e.heading,n=e.listItems,c=e.renderItem,r=e.style,i=e.type,a=void 0===i?"ul":i,s=(e.direction,n&&n.map((function(e,t){return Object(h.jsx)("li",{children:"function"===typeof c?c(e):e},t)})));return Object(h.jsxs)("div",{className:"list-container",children:[Object(h.jsx)("h3",{children:t}),Object(h.jsx)("div",{className:"list",children:n&&n.length>0?"ul"===a?Object(h.jsx)("ul",{style:r,children:s}):Object(h.jsx)("ol",{style:r,children:s}):Object(h.jsx)("p",{children:"This list is currently empty"})})]})};n(287);function ue(e){var t=e.recipe,n=e.onFavorite,c=e.onDelete,r=Object(o.g)(),i=oe(),a=i.setDialog,s=i.setShow,l=t.id,j=t.title,b=t.description,m=t.ingredients,p=t.instructions,O=t.comments,x=t.serves,g=t.prep,y=t.cook,N=t.photo,C=t.favorite,S=function(){return n(l,C)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(h.jsxs)(d.a,{as:"h2",xs:"8",lg:"10",children:[j," ",Object(h.jsx)("span",{className:"favorite-btn",children:C?Object(h.jsx)(f.a,{onClick:S}):Object(h.jsx)(v.a,{onClick:S})})]}),Object(h.jsx)(d.a,{xs:"3",lg:"1",children:Object(h.jsx)(M.a,{variant:"outline-secondary",onClick:function(){r("/recipe/".concat(l,"/edit"))},children:"Edit"})}),Object(h.jsx)(d.a,{xs:"1",className:"delete-btn",children:Object(h.jsx)(Q.a,{onClick:function(){a({title:"Delete Recipe",text:"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?",footer:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),Object(h.jsx)(M.a,{variant:"secondary",onClick:function(){return c(l,(function(){return s(!1)}))},children:"Delete"})]})}),s(!0)}})})]}),Object(h.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(h.jsxs)(d.a,{xs:"5",children:[Object(h.jsx)("p",{children:"Serves: "+x}),Object(h.jsx)("p",{children:"Prep Time: "+g.time+" "+g.unit}),Object(h.jsx)("p",{children:"Cook Time: "+y.time+" "+y.unit}),Object(h.jsx)("p",{children:"Total Time: "+(g.time+y.time)+" "+y.unit})]}),Object(h.jsx)(d.a,{className:"recipe-image-container",children:Object(h.jsx)("img",{src:N.path?"http://localhost:3005/".concat(N.path):"",alt:""})})]}),Object(h.jsx)(u.a,{className:"recipe-detail-row",children:Object(h.jsx)("p",{children:b})}),Object(h.jsx)(u.a,{children:Object(h.jsx)(je,{type:"ul",heading:"Ingredients",listItems:m,renderItem:function(e){return"".concat(e.amount?e.amount:""," ").concat(e.measurement?e.measurement:""," ").concat(e.name).concat(e.size?", "+e.size:"")}})}),Object(h.jsx)(u.a,{children:Object(h.jsx)(je,{type:"ol",heading:"Instructions",listItems:p})}),Object(h.jsx)(u.a,{children:Object(h.jsx)(je,{heading:"Additional Comments",listItems:O})})]})}function de(e){var t=_(),n=t.data,c=t.updateRecipe,r=t.deleteRecipe,i=t.loading,a=t.error,s=Object(o.h)().recipeId,l=n&&(null===n||void 0===n?void 0:n.find((function(e){return e.id===Number(s)})));return l?Object(h.jsxs)(O,{children:[i&&Object(h.jsx)("div",{children:"Loading..."}),a&&Object(h.jsx)("pre",{children:JSON.stringify(a,null,2)}),!i&&!a&&Object(h.jsx)(ue,{recipe:l,onFavorite:function(e,t){c(e,{favorite:!t})},onDelete:function(e,t){r(e,t)}})]}):Object(h.jsx)(o.a,{replace:!0,to:"/"})}var be=n(304),me=["id","favorite"],he=["name"];function pe(e){var t=e.recipe,n=e.onEdit,c=Object(o.g)(),r=t.id,i=(t.favorite,Object(b.a)(t,me)),a=function(){c(-1)};return Object(h.jsx)(K.e,{initialValues:i,onSubmit:function(e){var t,a={},s=Object(I.a)(i.ingredients);try{var o=function(){var n=t.value;-1===e.ingredients.findIndex((function(e){return e.id===n.id}))&&(a[n.name]=null)};for(s.s();!(t=s.n()).done;)o()}catch(p){s.e(p)}finally{s.f()}var l,u=Object(I.a)(e.ingredients);try{for(u.s();!(l=u.n()).done;){var d=l.value;d.id&&delete d.id;var m=d.name,h=Object(b.a)(d,he);a[m]=h}}catch(p){u.e(p)}finally{u.f()}n(r,Object(j.a)(Object(j.a)({},e),{},{ingredients:a}),(function(){return c(-1)}))},children:function(e){var t=e.isSubmitting,n=e.values;return Object(h.jsxs)(K.d,{children:[Object(h.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(h.jsx)(d.a,{as:"h2",xs:"7",children:Object(h.jsx)(K.b,{name:"title",placeholder:"Recipe Title",type:"input"})}),Object(h.jsx)(d.a,{xs:"4",children:Object(h.jsxs)(be.a,{children:[Object(h.jsx)(M.a,{variant:"outline-secondary",onClick:a,children:"Cancel"}),Object(h.jsx)(M.a,{variant:"secondary",type:"submit",disabled:t,children:"Save"})]})})]}),Object(h.jsxs)(u.a,{className:"recipe-detail-row",children:[Object(h.jsxs)(d.a,{xs:"5",children:[Object(h.jsxs)("p",{children:["Serves: ",Object(h.jsx)(K.b,{name:"serves",placeholder:"Serves",type:"number",min:1})]}),Object(h.jsxs)("p",{children:["Prep Time:",Object(h.jsx)(K.b,{name:"prep.time",type:"number",min:1}),Object(h.jsx)(K.b,{name:"prep.unit",as:G,options:["min","hr"],variant:"secondary"})]}),Object(h.jsxs)("p",{children:["Cook Time:",Object(h.jsx)(K.b,{name:"cook.time",type:"number",min:1}),Object(h.jsx)(K.b,{name:"cook.unit",as:G,options:["min","hr"],variant:"secondary"})]})]}),Object(h.jsx)(d.a,{className:"recipe-image-container",children:Object(h.jsx)("img",{src:i.photo.path?"http://localhost:3005/".concat(i.photo.path):"",alt:""})})]}),Object(h.jsx)(u.a,{className:"recipe-detail-row",children:Object(h.jsx)(K.b,{name:"description",placeholder:"Recipe Description",as:"textarea"})}),Object(h.jsx)(u.a,{children:Object(h.jsx)($,{name:"ingredients",label:"Ingredients",listItems:n.ingredients,initialItemValue:{name:"",amount:"",measurement:"",size:""},renderItem:function(e,t,n){return Object(h.jsx)(W,{item:e,index:t,arrayHelpers:n},"ingredient-".concat(t))}})}),Object(h.jsx)(u.a,{children:Object(h.jsx)($,{name:"instructions",label:"Instructions",listItems:n.instructions,initialItemValue:"",renderItem:function(e,t,n){return Object(h.jsx)(X,{name:"instructions",placeholder:"Instruction",item:e,index:t,arrayHelpers:n},"instruction-".concat(t))}})}),Object(h.jsx)(u.a,{children:Object(h.jsx)($,{name:"comments",label:"Comments:",listItems:n.comments||[],initialItemValue:"",renderItem:function(e,t,n){return Object(h.jsx)(X,{name:"comments",placeholder:"Comment",item:e,index:t,arrayHelpers:n},"comment-".concat(t))}})})]})}})}function Oe(e){var t=_(),n=t.data,c=t.updateRecipe,r=t.loading,i=t.error,a=Object(o.h)().recipeId,s=n&&(null===n||void 0===n?void 0:n.find((function(e){return e.id===Number(a)})));return s?Object(h.jsxs)(O,{children:[r&&Object(h.jsx)("div",{children:"Loading..."}),i&&Object(h.jsx)("pre",{children:JSON.stringify(i,null,2)}),!r&&!i&&Object(h.jsx)(pe,{recipe:s,onEdit:function(e,t,n){c(e,t,n)}})]}):Object(h.jsx)(o.a,{replace:!0,to:"/"})}n(288);var xe=["onSubmit"];var fe=function(e){var t=e.onSubmit,n=Object(b.a)(e,xe);return Object(h.jsx)(K.e,{initialValues:{userName:"",password:""},onSubmit:function(e,n){var c=n.setSubmitting;c(!0),t(e,(function(){return c(!1)}))},children:function(e){var t=e.isSubmitting;return Object(h.jsxs)(K.d,{className:"login-form",children:[Object(h.jsx)(Z,{name:"userName",label:"Username",children:Object(h.jsx)(K.b,{name:"userName",type:"input",placeholder:"Enter your username"})}),Object(h.jsx)(Z,{name:"password",label:"Password",children:Object(h.jsx)(K.b,{name:"password",type:"password",placeholder:"Enter your password",autoComplete:"off"})}),n.error&&Object(h.jsx)("div",{className:"form-error",children:n.error}),Object(h.jsx)(M.a,{type:"submit",variant:"secondary",disabled:t,children:"Submit"})]})}})};function ve(e){var t,n,c=D(),r=function(){var e=Object(S.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.login(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return!c.loading&&c.user?Object(h.jsx)(o.a,{to:"/"}):Object(h.jsxs)(O,{children:[Object(h.jsx)("h3",{children:"Log In"}),Object(h.jsx)(fe,{onSubmit:r,error:null===(t=c.error)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.data})]})}var ge=n(148),ye=n(88);function Ne(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(null),o=Object(s.a)(a,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){var t=window.matchMedia(e);j(t),i(t.matches)}),[e]),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(c.useRef)(t);Object(c.useEffect)((function(){r.current=t}),[t]),Object(c.useEffect)((function(){if(null!=n){var t=function(e){return r.current(e)};return n.addEventListener(e,t),function(){return n.removeEventListener(e,t)}}}),[e,n])}("change",(function(e){return i(e.matches)}),l),r}var Ce=n(311),Se=n(146);n(289);var Ie=function(e){var t=e.onSubmit,n=e.initialValue,r=Object(c.useRef)(null),i=Object(c.useState)(n&&n.length>0),a=Object(s.a)(i,2),o=a[0],l=a[1];return Object(c.useEffect)((function(){r.current.value=n}),[n]),Object(h.jsxs)(Ce.a,{className:"search-form",onSubmit:function(e){e.preventDefault(),"function"===typeof t&&t(r.current.value)},children:[Object(h.jsx)(Se.a,{type:"search",placeholder:"Search","aria-label":"Search",className:"search-bar",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),r.current.blur(),"function"===typeof t&&t(r.current.value))},onChange:function(e){e.target.value.length>0?l(!0):l(!1)},ref:r}),Object(h.jsx)(M.a,{className:"clear-btn ".concat(o?"show":"hide"),variant:"outline-secondary",onClick:function(){r.current.value="",l(!1),"function"===typeof t&&t("")},children:"x"}),Object(h.jsx)(M.a,{variant:"secondary",type:"submit",className:"mx-2",children:"Search"})]})},ke=n(305),we=n(306),Fe=n(307),Re=n(308),Ee=n(309),Le=n(310);function Te(e){var t=e.to,n=e.text,c=void 0===n?"":n,r=e.IconComponent,i=e.IconFillComponent,a=Object(o.f)().pathname;return Object(h.jsxs)(ye.a.Item,{as:l.b,to:t,className:"nav-link",children:[a===t?Object(h.jsx)(i,{size:40,className:"mx-2"}):Object(h.jsx)(r,{size:40,className:"mx-2"})," ",c]})}function Pe(){return Object(h.jsxs)(ye.a,{className:"nav-links",children:[Object(h.jsx)(Te,{to:"/",text:"Home",IconComponent:ke.a,IconFillComponent:we.a}),Object(h.jsx)(Te,{to:"/favorites",text:"Favorites",IconComponent:v.a,IconFillComponent:f.a}),Object(h.jsx)(Te,{to:"/new",text:"New",IconComponent:Fe.a,IconFillComponent:Re.a}),Object(h.jsx)(Te,{to:"/settings",text:"Settings",IconComponent:Ee.a,IconFillComponent:Le.a})]})}n(292);function Ve(e){var t=e.onShowFilter,n=_(),c=n.filter,r=n.updateFilter,i=Ne("(min-width: 1081px)"),a=Object(o.f)().pathname,s=Object(o.g)();return D().user?Object(h.jsxs)(h.Fragment,{children:[i&&Object(h.jsx)(ge.a,{className:"top-bar",children:Object(h.jsx)(ye.a,{className:"top-bar-nav",children:Object(h.jsx)(Pe,{})})}),Object(h.jsx)(ge.a,{className:"top-bar",sticky:"top",children:Object(h.jsxs)(ye.a,{className:"top-bar-nav",children:[Object(h.jsx)(ye.a.Item,{children:Object(h.jsx)(M.a,{variant:"outline-secondary",onClick:function(){return s(-1)},children:"Back"})}),("/"===a||"/favorites"===a)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ye.a.Item,{children:Object(h.jsx)(M.a,{variant:"secondary",className:"show-filters-btn",onClick:t,children:"Filters"})}),Object(h.jsx)(ye.a.Item,{children:Object(h.jsx)(Ie,{onSubmit:function(e){return r({search:e})},initialValue:c.search})})]})]})})]}):null}n(293);function De(e){var t=Ne("(max-width: 1080px)");return D().user?Object(h.jsx)(ge.a,{className:"bottom-bar ".concat(t?"":"hide"),fixed:"bottom",children:Object(h.jsx)(Pe,{})}):null}var He=n(149);var ze=function(e){return Object(h.jsxs)(He.a,Object(j.a)(Object(j.a)({show:e.show,onHide:e.onClose},e),{},{children:[Object(h.jsx)(He.a.Header,{closeButton:!0,children:Object(h.jsx)(He.a.Title,{children:e.title})}),Object(h.jsx)(He.a.Body,{children:e.children})]}))};n(294);var Be=function(e){var t=e.suggestions,n=e.placeholder,r=e.onSubmit,i=Object(c.useState)(""),a=Object(s.a)(i,2),o=a[0],l=a[1],j=Object(c.useState)([]),u=Object(s.a)(j,2),d=u[0],b=u[1],m=Object(c.useState)(-1),p=Object(s.a)(m,2),O=p[0],x=p[1],f=Object(c.useState)(!1),v=Object(s.a)(f,2),g=v[0],y=v[1],N=function(e){if(r)if(e)r(e);else{var t=d.findIndex((function(e){return e.name.toLowerCase()===o.toLowerCase()}));t>-1&&r(d[t])}},C=function(e){var t={id:e.currentTarget.value,name:e.currentTarget.innerText};x(-1),b([]),y(!1),l(""),N(t)},S=g&&""!==o?d.length?Object(h.jsx)("ul",{className:"suggestions-list",children:d.map((function(e,t){var n;return t===O&&(n="suggestion-active"),Object(h.jsx)("li",{className:n,value:e.id,onClick:C,children:e.name},e.id)}))}):Object(h.jsx)("div",{className:"no-suggestions",children:Object(h.jsx)("em",{children:"No suggestions available."})}):null;return Object(h.jsxs)("div",{className:"autocomplete-container",children:[Object(h.jsx)(Se.a,{className:"autocomplete-input-bar",type:"search",onChange:function(e){var n=e.currentTarget.value,c=t.filter((function(e){return e.name.toLowerCase().indexOf(n.toLowerCase())>-1}));x(-1),b(c),y(""!==n),l(n)},onKeyDown:function(e){var t=e.keyCode;if(13===t){if(e.preventDefault(),-1===O&&""===o)return;O>-1?N(d[O]):N(),x(-1),y(!1),l("")}else if(38===t){if(0===O||!g)return;x((function(e){return e-1}))}else if(40===t){if(O+1===d.length||!g)return;x((function(e){return e+1}))}},value:o,placeholder:n}),S]})};n(295);var _e=function(e){var t=e.name,n=e.listItems,c=e.suggestions,r=e.onChange;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Be,{suggestions:c,placeholder:"Enter an ingredient to add to list",onSubmit:function(e){r&&r(e)}}),Object(h.jsx)(K.c,{name:t,render:function(e){return Object(h.jsx)("ul",{className:"autocomplete-list",children:n.map((function(t,n){return Object(h.jsxs)(u.a,{as:"li",children:[Object(h.jsx)(d.a,{xs:1,children:Object(h.jsx)(Q.a,{onClick:function(){e.remove(n)}})}),Object(h.jsx)(d.a,{children:t.name})]},n)}))})}})]})};n(296);var Je=function(e){var t=e.initialFilter,n=e.onSubmit,c=e.ingredients,r=function(){n({ingredients:[]})};return Object(h.jsx)(K.e,{initialValues:t,onSubmit:function(e){n({ingredients:e.ingredients})},children:function(e){return Object(h.jsxs)(K.d,{className:"filter-recipes-form",children:[Object(h.jsxs)(u.a,{children:[Object(h.jsx)("h5",{children:"Ingredients"}),Object(h.jsx)(_e,{name:"ingredients",suggestions:c,listItems:e.values.ingredients,onChange:function(t){e.setFieldValue("ingredients",[].concat(Object(C.a)(e.values.ingredients),[t]))}})]}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(M.a,{variant:"outline-secondary",className:"clear-filters-btn",onClick:r,children:"Clear"}),Object(h.jsx)(M.a,{variant:"secondary",className:"apply-filters-btn",type:"submit",children:"Apply"})]})]})}})};var Ae=function(e){var t=e.show,n=e.onClose,c=_(),r=c.filter,i=c.updateFilter,a=E("http://localhost:3005/api/ingredients").value;return Object(h.jsx)(ze,{show:t,onClose:n,title:"Select your filters",children:Object(h.jsx)(Je,{initialFilter:r,onSubmit:function(e){i(e),n()},ingredients:a})})},qe=n(312);function Ye(e){var t=oe(),n=t.dialog,c=t.show,r=t.setShow;return Object(h.jsxs)(qe.a,{show:c,onHide:function(){return r(!1)},children:[Object(h.jsx)(qe.a.Header,{closeButton:!0,children:Object(h.jsx)(qe.a.Title,{children:n.title})}),Object(h.jsx)(qe.a.Body,{children:Object(h.jsx)("p",{children:n.text})}),Object(h.jsx)(qe.a.Footer,{children:n.footer})]})}n(297);function Ke(e){var t=e.children,n=D();return n.loading?Object(h.jsx)("div",{children:"Loading..."}):n.user?t:Object(h.jsx)(o.a,{to:"/login"})}var Me=function(){var e=function(e){var t=Object(c.useState)(e),n=Object(s.a)(t,2),r=n[0],i=n[1];return[r,function(e){i((function(t){return"boolean"===typeof e?e:!t}))}]}(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(z,{children:Object(h.jsx)(le,{children:Object(h.jsxs)(A,{children:[Object(h.jsx)(Ae,{show:n,onClose:function(){return r(!1)}}),Object(h.jsx)(Ye,{}),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(Ve,{onShowFilter:function(){return r(!0)}}),Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/login",element:Object(h.jsx)(ve,{})}),Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(q,{})})}),Object(h.jsx)(o.b,{path:"/favorites",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(Y,{})})}),Object(h.jsx)(o.b,{path:"/new",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(ie,{})})}),Object(h.jsx)(o.b,{path:"/settings",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(ae,{})})}),Object(h.jsx)(o.b,{path:"/recipe/:recipeId",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(de,{})})}),Object(h.jsx)(o.b,{path:"/recipe/:recipeId/edit",element:Object(h.jsx)(Ke,{children:Object(h.jsx)(Oe,{})})})]}),Object(h.jsx)(De,{})]})]})})})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,314)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Me,{})}),document.getElementById("root")),Ue()}},[[298,1,2]]]);
//# sourceMappingURL=main.35167397.chunk.js.map