{"version":3,"sources":["pages/Page/Page.js","components/app/RecipeCard/RecipeCard.js","hooks/useAsync.js","hooks/useResource.js","api/recipes.js","api/auth.js","contexts/AuthContext/AuthContext.js","utility/localStorage/authStorage.js","contexts/RecipeContext/RecipeContext.js","pages/HomePage/HomePage.js","pages/FavoritesPage/FavoritesPage.js","components/input/SelectInput/SelectInput.js","components/input/IngredientInput/IngredientInput.js","components/input/TextareaListInput/TextareaListInput.js","components/input/InputContainer/InputContainer.js","components/input/InputList/InputList.js","components/input/CategoryInput/CategoryInput.js","components/display/spinners/Heart/Heart.js","utility/validationSchema/recipeSchema.js","components/form/NewRecipeForm/NewRecipeForm.js","pages/NewRecipePage/NewRecipePage.js","pages/SettingsPage/SettingsPage.js","contexts/DialogContext/DialogContext.js","components/display/List/List.js","components/app/RecipeDetails/RecipeDetails.js","pages/RecipePage/RecipePage.js","components/form/EditRecipeForm/EditRecipeForm.js","pages/EditRecipePage/EditRecipePage.js","components/form/LoginForm/LoginForm.js","pages/LoginPage/LoginPage.js","hooks/useMediaQuery.js","hooks/useEventListener.js","components/input/Search/Search.js","components/display/NavIconLink/NavIconLink.js","components/app/NavLinks/NavLinks.js","components/app/TopNav/TopNav.js","components/app/BottomNav/BottomNav.js","components/display/SlideinSidebar/SlideinSidebar.js","components/input/Autocomplete/Autocomplete.js","components/input/AutocompleteList/AutocompleteList.js","components/form/FilterRecipesForm/FilterRecipesForm.js","components/app/FilterControlSidebar/FilterControlSidebar.js","components/display/Dialog/Dialog.js","App.js","hooks/useToggle.js","reportWebVitals.js","index.js"],"names":["Page","children","className","props","Container","fluid","RecipeCard","navigate","useNavigate","title","description","serves","prep","cook","favorite","id","photo","handleFavoriteClick","e","stopPropagation","onFavorite","Card","Body","onClick","Row","Col","Title","Subtitle","time","unit","Text","Img","src","path","alt","useAsync","callback","dependencies","useState","loading","setLoading","error","setError","value","setValue","callbackMemoized","useCallback","then","catch","finally","useEffect","DEFAULT_OPTIONS","headers","useResource","options","isProtected","token","authorization","split","undefined","axios","get","res","status","data","Promise","reject","createRecipe","recipeInfo","post","updateRecipe","recipeId","updates","patch","deleteRecipe","delete","login","credentials","authContext","createContext","useAuth","useContext","currentToken","localStorage","getItem","AuthContextProvider","a","authApi","user","setItem","Provider","logout","removeItem","recipeContext","useRecipeContext","authHeader","Authorization","RecipeContextProvider","auth","ingredients","categories","search","filter","setFilter","recipeApi","recipe","prevValue","console","newValue","updatedIndex","findIndex","splice","deletedIndex","filteredValue","result","ingredient","ing","category","cat","searchText","toLowerCase","includes","map","name","join","instructions","comments","applyFilter","updateFilter","prev","HomePage","recipes","handleFavorite","isFavorite","log","JSON","stringify","message","length","sm","md","to","FavoritesPage","favoritedRecipes","SelectInput","placeholder","Button","as","option","IngredientInput","index","arrayHelpers","xs","type","min","step","variant","remove","TextareaListInput","InputContainer","label","htmlFor","child","InputList","listItems","renderItem","initialItemValue","render","lg","size","push","item","CategoryInput","Heart","recipeSchema","Yup","shape","max","required","typeError","initialValues","NewRecipeForm","onSubmit","values","setSubmitting","formData","FormData","append","validationSchema","isSubmitting","setFieldValue","component","Inputs","onChange","file","target","files","amount","measurement","disabled","NewRecipePage","err","SettingsPage","dialogContext","useDialogContext","DialogContextProvider","show","setShow","text","footer","dialog","setDialog","List","heading","listStyle","direction","listItemComponents","style","display","flexDirection","RecipeDetails","onDelete","listStyleType","padding","margin","Badge","RecipePage","useParams","find","rec","Number","replace","EditRecipeForm","onEdit","handleCancel","ingredientsObject","categoriesObject","ingredientValues","ButtonGroup","EditRecipePage","newValues","LoginForm","userName","password","autoComplete","LoginPage","handleLogin","response","useMediaQuery","mediaQuery","isMatch","setIsMatch","mediaQueryList","setMediaQueryList","list","window","matchMedia","matches","eventType","element","callbackRef","useRef","current","handler","addEventListener","removeEventListener","useEventListener","Search","initialValue","inputRef","showClearBtn","setShowClearBtn","Form","preventDefault","FormControl","onKeyPress","key","blur","ref","NavIconLink","IconComponent","IconFillComponent","pathname","useLocation","Nav","Item","Link","NavLinks","House","HouseFill","HeartFill","PlusCircle","PlusCircleFill","Gear","GearFill","TopNav","onShowFilter","isLargeScreen","Navbar","sticky","BottomNav","shouldDisplay","fixed","SlideinSidebar","Offcanvas","onHide","onClose","Header","closeButton","Autocomplete","suggestions","userInput","setUserInput","filteredSuggestions","setFilteredSuggestions","activeSuggestion","setActiveSuggestion","showSuggestions","setShowSuggestions","handleSubmit","submitValue","suggIdx","handleClick","clickedSuggestion","currentTarget","innerText","suggestionsListComponent","suggestion","input","newFilteredSuggestions","indexOf","onKeyDown","keyCode","prevActiveSuggestion","AutocompleteList","FilterRecipesForm","initialFilter","handleClearFilters","form","FilterControlSidebar","Dialog","Modal","Footer","PrivateRoute","App","defaultValue","currentValue","useToggle","isShown","toggleShow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef3d5846.chunk.js","sourcesContent":["import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport './Page.css';\n\nexport default function Page({ children, className = \"\", ...props }) {\n    return (\n        <Container className={`page ${className}`} {...props} fluid >\n            { children }\n        </Container>\n    );\n}","import React from 'react';\nimport { Card, Row, Col } from 'react-bootstrap';\nimport { Heart, HeartFill } from 'react-bootstrap-icons';\nimport { useNavigate } from 'react-router';\n\nimport './RecipeCard.css';\n\nexport default function RecipeCard(props) {\n    const navigate = useNavigate();\n    const { title, description, serves, prep, cook, favorite, id, photo } = props;\n\n    const handleFavoriteClick = (e) => {\n        e.stopPropagation();\n        props.onFavorite(id, favorite);\n    }\n\n    return (\n        <Card className=\"recipe-card\">\n            <Card.Body className=\"recipe-card-body\" onClick={() => navigate(`/recipe/${id}`)}>\n                <Row>\n                    <Col className=\"recipe-card-body-left\">\n                        <Card.Title className=\"recipe-card-title\">\n                            {title}{\" \"}\n                            <span className=\"favorite-btn\">\n                                {favorite ?\n                                    <HeartFill onClick={handleFavoriteClick} /> :\n                                    <Heart onClick={handleFavoriteClick} />\n                                }\n                            </span>\n                        </Card.Title>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Serves: {serves}</Card.Subtitle>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Prep time: {prep.time + \" \" + prep.unit}</Card.Subtitle>\n                        <Card.Subtitle className=\"mb-2 text-muted\">Cook time: {cook.time + \" \" + cook.unit}</Card.Subtitle>\n                        <Card.Text className=\"recipe-card-text\">\n                            {description}\n                        </Card.Text>\n                    </Col>\n                    <Col className=\"recipe-card-body-right\">\n                        <Card.Img className=\"recipe-card-img\" src={photo.path ? `http://localhost:3005/${photo.path}` : \"\"} alt=\"\" />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    )\n\n}\n","import { useCallback, useEffect, useState } from \"react\";\n\nexport default function useAsync(callback, dependencies = []) {\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState()\n  const [value, setValue] = useState()\n\n  const callbackMemoized = useCallback(() => {\n    setLoading(true);\n    setError(null);\n    setValue(null);\n    callback && typeof callback === \"function\" && callback()\n      .then(setValue) \n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, dependencies);\n\n  useEffect(() => {\n    callbackMemoized();\n  }, [callbackMemoized]);\n\n  return { loading, error, value, setLoading, setError, setValue }\n}","import useAsync from \"./useAsync\";\nimport axios from \"axios\";\n\nconst DEFAULT_OPTIONS = {\n    headers: { \"Content-Type\": \"application/json\" },\n}\n\nexport default function useResource(path, options = {}, isProtected = false, dependencies = []) {\n    return useAsync(() => {\n        const token = options.headers?.authorization?.split(\" \")[1];\n        if(isProtected && (token === null || token === \"null\" || token === undefined || token === \"undefined\")) {\n            return Promise.reject(\"No valid auth token\");\n        }\n        return axios.get(path, { ...DEFAULT_OPTIONS, ...options }).then(res => {\n            if(res.status === 200) return res.data;\n        })\n    }, dependencies);\n}","import axios from 'axios';\n\nfunction createRecipe(recipeInfo, headers) {\n    return axios.post(\"/api/recipes\", recipeInfo, { headers });\n}\n\nfunction updateRecipe(recipeId, updates, headers) {\n    return axios.patch(`/api/recipes/${recipeId}`, updates, { headers });\n}\n\nfunction deleteRecipe(recipeId, headers) {\n    return axios.delete(`/api/recipes/${recipeId}`, { headers });\n}\n\nexport default {\n    createRecipe, updateRecipe, deleteRecipe\n}","import axios from 'axios';\n\nfunction login(credentials) {\n    return axios.post(`/api/auth/login`, credentials);\n}\n\nexport default { login };","import React, { createContext, useContext } from 'react';\nimport useResource from '../../hooks/useResource';\nimport authApi from '../../api/auth';\nimport { getLocalAuthToken, setLocalAuthToken, removeLocalAuthToken } from '../../utility/localStorage/authStorage';\n\nexport const authContext = createContext({});\n\nexport const useAuth = () => useContext(authContext);\n\nconst currentToken = getLocalAuthToken();\n\nexport default function AuthContextProvider({ children }) {\n    const { loading, error, value, setLoading, setError, setValue } = useResource(\n        '/api/auth/login',\n        { headers: { authorization: `BEARER ${currentToken}` } },\n        true,\n        [currentToken]\n    );\n\n    const login = async (credentials) => {\n        try {\n            setLoading(true);\n            setValue(null);\n            setError(null);\n            const user = await authApi.login(credentials);\n            setValue(user.data);\n            setLocalAuthToken(user.data.token);\n        } catch(err) {\n            setError(err);\n        }\n        setLoading(false);\n    }\n\n    const logout = () => {\n        setValue(null);\n        removeLocalAuthToken();\n    }\n\n    return (\n        <authContext.Provider value={{ loading, error, user: value, login, logout }}>\n            {children}\n        </authContext.Provider>\n    )\n}","export function setLocalAuthToken(token) {\n    localStorage.setItem(\"recipe_app_0246_auth_token\", token);\n}\n\nexport function getLocalAuthToken() {\n    return localStorage.getItem(\"recipe_app_0246_auth_token\");\n}\n\nexport function removeLocalAuthToken() {\n    localStorage.removeItem(\"recipe_app_0246_auth_token\");\n}","import React, { createContext, useContext, useState } from 'react';\nimport useResource from '../../hooks/useResource';\nimport recipeApi from '../../api/recipes';\nimport { useAuth } from '../AuthContext/AuthContext';\n\nexport const recipeContext = createContext({});\n\nexport const useRecipeContext = () => useContext(recipeContext);\n\nconst authHeader = (token) => ({ Authorization: `BEARER ${token}`});\n\nexport default function RecipeContextProvider({ children }) {\n    const auth = useAuth();\n    const { loading, error, value, setValue } = useResource(\n        '/api/recipes',\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [auth.user?.token]\n    );\n    const [filter, setFilter] = useState({ ingredients: [], categories: [], search: \"\" });\n\n    const applyFilter = (filter) => {\n        const { ingredients, categories, search } = filter;\n\n        let result = value;\n\n        //Filter by ingredients, result will include recipes that have all ingredients\n        if(ingredients) {\n            for(let ingredient of ingredients) {\n                result = result?.filter(recipe => {\n                    const index = recipe.ingredients.findIndex(ing => ing.id === ingredient.id)\n                    return index > -1;\n                });\n            }\n        }\n\n        //Filter by categories, result will include recipes that have all categories\n        if(categories) {\n            for(let category of categories) {\n                result = result?.filter(recipe => {\n                    const index = recipe.categories.findIndex(cat => cat.id === category.id)\n                    return index > -1;\n                });\n            }\n        }\n\n        //Filter out recipes that do not contain the search text\n        if(search) {\n            const searchText = search.toLowerCase();\n            result = result?.filter(recipe => (\n                recipe.title.toLowerCase().includes(searchText)\n                || recipe.description.toLowerCase().includes(searchText)\n                || recipe.ingredients.map(ing => ing.name).join(\" \").toLowerCase().includes(searchText)\n                || recipe.instructions.join(\" \").toLowerCase().includes(searchText)\n                || recipe.comments?.join(\" \").toLowerCase().includes(searchText)\n                || recipe.categories.map(cat => cat.name).join(\" \").toLowerCase().includes(searchText)\n            ));\n        }\n\n        return result;\n    }\n\n    const updateFilter = (filter) => {\n        setFilter(prev => ({ ...prev, ...filter}));\n    }\n    \n    const createRecipe = async (recipeInfo, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.createRecipe(recipeInfo, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => ([...prevValue, recipe.data]));\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const updateRecipe = async (recipeId, updates, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.updateRecipe(recipeId, updates, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const updatedIndex = newValue.findIndex(value => value.id === recipe.data.id);\n                if(updatedIndex > -1) newValue.splice(updatedIndex, 1, recipe.data);\n                return newValue;\n            })\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const deleteRecipe = async (recipeId, callback = () => {}) => {\n        try {\n            //Make api call\n            await recipeApi.deleteRecipe(recipeId, authHeader(auth.user.token));\n            //Remove recipe from state\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const deletedIndex = newValue.findIndex(value => value.id === recipeId);\n                if(deletedIndex > -1) newValue.splice(deletedIndex, 1);\n                return newValue;\n            })\n            callback(true, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const filteredValue = applyFilter(filter);\n    \n    return (\n        <recipeContext.Provider value={{ loading, error, data: filteredValue, createRecipe, updateRecipe, deleteRecipe, updateFilter, filter }}>\n            {children}\n        </recipeContext.Provider>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col } from 'react-bootstrap';\n\nimport Page from '../Page/Page';\nimport RecipeCard from '../../components/app/RecipeCard/RecipeCard';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function HomePage() {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite }, () => console.log(\"toggled favorite\"));\n    }\n\n    return (\n        <Page>\n            <h1>Home</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && recipes.length > 0 && \n                <Row>\n                    {recipes.map(recipe => (\n                        <Col sm=\"12\" md=\"6\" className=\"recipe-card-container\" key={recipe.id}><RecipeCard {...recipe} onFavorite={handleFavorite} /></Col>\n                    ))}\n                </Row>\n            }\n            {!error && !loading && recipes.length === 0 && \n                <>\n                    <p>You currently have no saved recipes.</p>\n                    <p><Link to=\"/new\">Click here</Link> to add a new recipe.</p>\n                </>\n            }\n        </Page>\n    )   \n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col } from 'react-bootstrap';\n\nimport Page from '../Page/Page';\nimport RecipeCard from '../../components/app/RecipeCard/RecipeCard';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function FavoritesPage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    //console.log(recipes) //TODO: Fix: logs <empty string> when no recipes (reason for extra check of length)\n    const favoritedRecipes = recipes && recipes.length > 0 && recipes?.filter(recipe => recipe.favorite);\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    return (\n        <Page>\n            <h1>Favorites</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && favoritedRecipes.length > 0 && \n                <Row>\n                    {favoritedRecipes.map(recipe => (\n                        <Col sm=\"12\" md=\"6\" key={recipe.id} className=\"recipe-card-container\"><RecipeCard {...recipe} onFavorite={handleFavorite} /></Col>\n                    ))}\n                </Row>\n            }\n            {!error && !loading && favoritedRecipes.length === 0 && \n                <>\n                    <p>You currently have no favorited recipes.</p>\n                    <p><Link to=\"/new\">Click here</Link> to add a new recipe.</p>\n                </>\n            }\n        </Page>\n    )   \n}","import React from 'react';\nimport Button from 'react-bootstrap/Button'\n\nexport default function SelectInput({ children, options, placeholder, ...props }) {\n    return (\n        <Button as=\"select\" {...props} >\n            { placeholder && <option value=\"\">{placeholder}</option>}\n            { options ? options.map(option => (<option key={option} value={option}>{option}</option>)) : children }\n        </Button>\n    )\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nimport './IngredientInput.css';\n\nexport default function IngredientInput({ index, arrayHelpers }) {\n    return (\n        <Row className=\"ingredient-input\">\n            <Col xs={6}>    \n                <Field \n                    name={`ingredients.${index}.name`} type=\"input\" placeholder={`Ingredient #${index+1}`}\n                />\n                <Field \n                    name={`ingredients.${index}.amount`} type=\"number\" placeholder=\"Amount\" min={0} step={0.01}\n                />\n            </Col>\n            <Col xs={4}>\n                <Field\n                    as={SelectInput} options={['small', 'medium', 'large']}\n                    name={`ingredients.${index}.size`} placeholder=\"size\"\n                    variant=\"secondary\"\n                />\n                <Field\n                    as={SelectInput} options={['teaspoon','tablespoon','cup','ounce','pound','gram']}\n                    name={`ingredients.${index}.measurement`} placeholder=\"unit\"\n                    variant=\"secondary\"\n                />\n            </Col>\n            <Col xs={2}>\n                <Button className=\"add-ingredient-btn\" variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\n\nimport './TextareaListInput.css';\n\nexport default function TextareaListInput({ name, index, arrayHelpers, placeholder }) {\n    return (\n        <Row className=\"textarea-list-input\">\n            <Col xs={10}>    \n                <Field \n                    name={`${name}.${index}`} as=\"textarea\" placeholder={`${placeholder} #${index+1}`} \n                />\n            </Col>\n            <Col xs={2}>\n                <Button variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport './InputContainer.css';\n\nexport default function InputContainer({ name, label, children }) {\n    return (\n        <Row className=\"input-container\">\n            <Col xs={3}>\n                <label htmlFor={name}>{label}</label>\n            </Col>\n            { children.length ? \n                children.map((child, index) => <Col key={index} className=\"mx-2\">{child}</Col>) : \n                <Col className=\"mx-2\">{children}</Col>\n            }\n        </Row>\n    );\n}","import React from 'react';\nimport { FieldArray } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nimport \"./InputList.css\";\n\nexport default function InputList({ name, label, listItems, renderItem, initialItemValue }) {\n    return (\n        <FieldArray\n            name={name}\n            render={arrayHelpers => (\n                <div className=\"input-list\">\n                    <Row>\n                        <Col xs={3} lg={4}>\n                            <label htmlFor={name}>{label}</label>\n                        </Col>\n                        <Col xs={3} lg={1}>\n                            <Button\n                                type=\"button\"\n                                size=\"sm\"\n                                variant=\"secondary\"\n                                onClick={() => arrayHelpers.push(initialItemValue)}\n                            >\n                                Add\n                            </Button>\n                        </Col>\n                    </Row>\n                    {listItems.map((item, index) => (\n                        renderItem(item, index, arrayHelpers)\n                    ))}\n                </div>\n            )}\n        />\n    );\n}","import React from 'react';\nimport { Field } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nimport './CategoryInput.css';\n\nexport default function CategoryInput({ index, arrayHelpers }) {\n    return (\n        <Row className=\"category-input\">\n            <Col xs={6}>\n                <Field\n                    name={`categories.${index}.name`} type=\"input\" placeholder={`Category #${index + 1}`}\n                />\n            </Col>\n            <Col xs={4}>\n                <Field\n                    as={SelectInput} options={['other', 'flavor', 'meal', 'dish', 'cuisine']}\n                    name={`categories.${index}.type`}\n                    variant=\"secondary\"\n                />\n            </Col>\n            <Col xs={2}>\n                <Button className=\"remove-category-btn\" variant=\"secondary\" onClick={() => arrayHelpers.remove(index)}>\n                    <Trash />\n                </Button>\n            </Col>\n        </Row>\n    )\n}","import React from 'react';\nimport { HeartFill } from 'react-bootstrap-icons';\nimport './Heart.css';\n\nfunction Heart() {\n    return (\n        <div className=\"heart-icon-spinner-container\">\n            <HeartFill className='heart-icon-spinner'/>\n        </div>\n    )\n}\n\nexport default Heart;","import * as Yup from 'yup';\n\nconst recipeSchema = Yup.object().shape({\n    title: Yup.string()\n        .min(3, 'Too Short!')\n        .max(32, 'Too Long!')\n        .required('Please provide a title.'),\n    description: Yup.string().required(\"Please provide a description.\"),\n    prep: Yup.object({\n        time: Yup.number().typeError(\"Please provide a number for prep time\").required(\"Please provide a prep time\"),\n        unit: Yup.string().required(\"Required.\")\n    }),\n    cook: Yup.object({\n        time: Yup.number().typeError(\"Please provide a number for cook time\").required(\"Please provide a cook time\"),\n        unit: Yup.string().required(\"Required.\")\n    }),\n    ingredients: Yup.array().min(1, \"Please provide the ingredients list.\"),\n    instructions: Yup.array().min(1, \"Please provide the instructions list\").required(\"Please provide the instructions list.\"),\n    comments: Yup.array(),\n});\n\nexport default recipeSchema;","import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport * as Inputs from '../../input';\nimport Heart from '../../display/spinners/Heart/Heart';\nimport recipeSchema from '../../../utility/validationSchema/recipeSchema';\n\nimport './NewRecipeForm.css';\n\nconst initialValues = {\n    title: \"\",\n    description: \"\",\n    serves: \"\",\n    prep: {\n        time: \"\",\n        unit: \"min\"\n    },\n    cook: {\n        time: \"\",\n        unit: \"min\"\n    },\n    ingredients: [],\n    instructions: [],\n    comments: [],\n    categories: [],\n    photo: null\n}\n\nexport default function NewRecipeForm({ onSubmit }) {\n    return (\n        <Formik\n            initialValues={initialValues}\n            onSubmit={(values, { setSubmitting }) => {\n                const formData = new FormData();\n                formData.append(\"title\", values.title);\n                formData.append(\"description\", values.description);\n                formData.append(\"serves\", values.serves);\n                formData.append(\"prep\", JSON.stringify(values.prep));\n                formData.append(\"cook\", JSON.stringify(values.cook));\n                formData.append(\"ingredients\", JSON.stringify(values.ingredients));\n                formData.append(\"instructions\", JSON.stringify(values.instructions));\n                formData.append(\"comments\", JSON.stringify(values.comments));\n                formData.append(\"categories\", JSON.stringify(values.categories));\n                formData.append(\"photo\", values.photo || \"\");\n                setSubmitting(true);\n                onSubmit(formData, () => {\n                    setSubmitting(false);\n                });\n            }}\n            validationSchema={recipeSchema}\n        >\n            {({ isSubmitting, values, setFieldValue }) => (\n                <Form>\n                    <Inputs.InputContainer name=\"title\" label=\"Title:\">\n                        <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"title\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"description\" label=\"Description:\">\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"description\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputContainer name=\"serves\" label=\"Serves:\">\n                        <Field name=\"serves\" placeholder=\"Serves\" type=\"number\" min={1} />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"serves\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputContainer name=\"prep\" label=\"Prep:\">\n                        <Field name=\"prep.time\" type=\"number\" min={1}/>\n                        <Field name=\"prep.unit\" as={Inputs.SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"prep.time\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"cook\" label=\"Cook:\">\n                        <Field name=\"cook.time\" type=\"number\" min={1}/>\n                        <Field name=\"cook.unit\" as={Inputs.SelectInput} options={['min', 'hr']} variant=\"secondary\"/>\n                    </Inputs.InputContainer>\n                    <ErrorMessage name=\"cook.time\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputContainer name=\"photo\" label=\"Image:\">\n                        <Field\n                            type=\"file\"\n                            name=\"photo\"\n                            value={undefined}\n                            onChange={e => {\n                                const file = e.target.files[0];\n                                setFieldValue('photo', file);\n                            }}\n                        />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputList\n                        name=\"categories\" label=\"Categories:\"\n                        listItems={values.categories}\n                        initialItemValue={{ name: \"\", type: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <ErrorMessage name=\"categories\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"ingredients\" label=\"Ingredients:\"\n                        listItems={values.ingredients}\n                        initialItemValue={{ name: \"\", amount: \"\", measurement: \"\", size: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <ErrorMessage name=\"ingredients\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"instructions\" label=\"Instructions:\"\n                        listItems={values.instructions}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`instruction-${index}`}\n                                name=\"instructions\"\n                                placeholder=\"Instruction\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n                    <ErrorMessage name=\"instructions\" component=\"div\" className=\"form-error-message\" />\n\n\n                    <Inputs.InputList\n                        name=\"comments\" label=\"Comments:\"\n                        listItems={values.comments}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`comment-${index}`}\n                                name=\"comments\"\n                                placeholder=\"Comment\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n\n                    <Button type=\"submit\" disabled={isSubmitting} variant=\"secondary\">\n                        {isSubmitting ? \n                            <div>\n                                <Heart />\n                                <div>Submitting...</div>\n                            </div>\n                        : \"Submit\"\n                        }\n                    </Button>\n                </Form>\n            )}\n        </Formik>\n    )\n}","import React from 'react';\nimport Page from '../Page/Page';\nimport NewRecipeForm from '../../components/form/NewRecipeForm/NewRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\nimport { useNavigate } from 'react-router';\n\nexport default function NewRecipePage(props) {\n    const { createRecipe } = useRecipeContext();\n    const navigate = useNavigate();\n\n    const handleCreateRecipe = (recipeInfo, callback) => {\n        createRecipe(recipeInfo, (recipe, err) => {\n            if(err) console.error(err);\n            callback();\n            navigate('/');\n        });\n    }\n\n    return (\n        <Page>\n            <h1>New Recipe</h1>\n            <NewRecipeForm onSubmit={handleCreateRecipe}/>    \n        </Page>\n        \n    );\n}","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport Page from '../Page/Page';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function SettingsPage(props) {\n    const navigate = useNavigate();\n    const { logout } = useAuth();\n\n    const handleLogout = () => {\n        logout();\n        navigate('/login');\n    }\n    \n    return (\n        <Page>\n            <h1>Settings</h1>\n\n            <Button onClick={handleLogout} variant=\"secondary\">Log Out</Button>\n        </Page>\n    );\n}","import React, { createContext, useContext, useState } from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport const dialogContext = createContext({});\n\nexport const useDialogContext = () => useContext(dialogContext);\n\nexport default function DialogContextProvider({ children }) {\n    const [show, setShow] = useState(false);\n    const [dialog, setDialog] = useState({\n        title: \"Dialog Box\",\n        text: \"Dialog body text\",\n        footer: <Button>Close</Button>,\n    })\n\n    return (\n        <dialogContext.Provider value={{ dialog, setDialog, show, setShow }}>\n            {children}\n        </dialogContext.Provider>\n    )\n}","import React from 'react';\nimport './List.css';\n\nfunction List({ \n    heading,\n    listItems,\n    renderItem,\n    listStyle,\n    type = \"ul\",\n    direction = \"vertical\"\n}) {\n    const listItemComponents = listItems && listItems.map((item, index) => (\n        <li key={index}>{typeof renderItem === \"function\" ? renderItem(item) : item}</li>\n    ));\n\n    const style = {\n        ...listStyle,\n        display: \"flex\",\n        flexDirection: `${direction === \"horizontal\" ? \"row\" : \"column\"}`\n    }\n\n    return (\n        <div className=\"list-container\">\n            <h3>{heading}</h3>\n            <div className=\"list\">\n                {(listItems && listItems.length > 0) ?\n                    (type === \"ul\") ?\n                        <ul style={style}>\n                            {listItemComponents}\n                        </ul> :\n                        <ol style={style}>\n                            {listItemComponents}\n                        </ol>\n                    :\n                    <p>This list is currently empty</p>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default List;","import React from 'react';\nimport { useNavigate } from 'react-router';\nimport { Row, Col, Button, Badge } from 'react-bootstrap';\nimport { Heart, HeartFill, Trash } from 'react-bootstrap-icons';\nimport { useDialogContext } from '../../../contexts/DialogContext/DialogContext';\nimport List from '../../display/List/List';\n\nimport './RecipeDetails.css';\n\nexport default function RecipeDetails({ recipe, onFavorite, onDelete }) {\n    const navigate = useNavigate();\n    const { setDialog, setShow } = useDialogContext();\n    const { id, title, description, ingredients, instructions, comments, categories, serves, prep, cook, photo, favorite } = recipe;\n\n    const handleFavoriteClick = () => onFavorite(id, favorite);\n\n    const handleDeleteClick = () => {\n        setDialog({\n            title: \"Delete Recipe\",\n            text: \"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?\",\n            footer: (\n                <>\n                    <Button variant=\"secondary\" onClick={() => setShow(false)}>Cancel</Button>\n                    <Button variant=\"secondary\" onClick={() => onDelete(id, () => setShow(false))}>Delete</Button>\n                </>\n            )\n        });\n        setShow(true);\n    }\n\n    const handleEditClick = () => {\n        navigate(`/recipe/${id}/edit`);\n    }\n\n    return (\n        <>\n            <Row className=\"recipe-detail-row\">\n                <Col as=\"h2\" xs=\"8\" lg=\"10\">\n                    {title}{\" \"}\n                    <span className=\"favorite-btn\">\n                        {favorite ?\n                            <HeartFill onClick={handleFavoriteClick} /> :\n                            <Heart onClick={handleFavoriteClick} />\n                        }\n                    </span>\n                </Col>\n                <Col xs=\"3\" lg=\"1\">\n                    <Button variant=\"outline-secondary\" onClick={handleEditClick}>\n                        Edit\n                    </Button>\n                </Col>\n                <Col xs=\"1\" className=\"delete-btn\">\n                    <Trash onClick={handleDeleteClick} />\n                </Col>\n            </Row>\n\n            <Row className=\"recipe-detail-row\">\n                <Col xs=\"5\">\n                    <p>{\"Serves: \" + serves}</p>\n                    <p>{\"Prep Time: \" + prep.time + \" \" + prep.unit}</p>\n                    <p>{\"Cook Time: \" + cook.time + \" \" + cook.unit}</p>\n                    <p>{\"Total Time: \" + (prep.time + cook.time) + \" \" + cook.unit}</p>\n                </Col>\n                <Col className=\"recipe-image-container\">\n                    <img src={photo.path ? `http://localhost:3005/${photo.path}` : \"\"} alt=\"\" />\n                </Col>\n            </Row>\n\n            <Row className=\"recipe-detail-row\">\n                <p>{description}</p>\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ul\"\n                    heading=\"Categories\"\n                    listStyle={{ listStyleType: \"none\", padding: \"0\", margin: \"0 0 5px 0\" }}\n                    direction=\"horizontal\"\n                    listItems={categories}\n                    renderItem={(category) => <Badge className=\"m-1\">{category.name}</Badge>}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ul\"\n                    heading=\"Ingredients\"\n                    listItems={ingredients}\n                    renderItem={(ingredient) => `${ingredient.amount ? ingredient.amount : \"\"} ${ingredient.measurement ? ingredient.measurement : \"\"} ${ingredient.name}${(ingredient.size ? \", \" + ingredient.size : \"\")}`}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    type=\"ol\"\n                    heading=\"Instructions\"\n                    listItems={instructions}\n                />\n            </Row>\n\n            <Row>\n                <List\n                    heading=\"Additional Comments\"\n                    listItems={comments}\n                />\n            </Row>\n        </>\n    )\n}","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport RecipeDetails from '../../components/app/RecipeDetails/RecipeDetails';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function RecipePage(props) {\n    const { data: recipes, updateRecipe, deleteRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    const handleDelete = (recipeId, callback) => {\n        deleteRecipe(recipeId, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <RecipeDetails recipe={recipe} onFavorite={handleFavorite} onDelete={handleDelete} />}\n        </Page>\n    )\n}","import React from 'react';\nimport { useNavigate } from 'react-router';\nimport { Row, Col, Button, ButtonGroup } from 'react-bootstrap';\nimport { Formik, Form, Field } from 'formik';\nimport { SelectInput, InputList, IngredientInput, TextareaListInput, CategoryInput } from '../../input';\n\nexport default function EditRecipeForm({ recipe, onEdit }) {\n    const navigate = useNavigate();\n    const { id, favorite, ...initialValues } = recipe;\n\n    const handleCancel = () => {\n        navigate(-1);\n    }\n\n    const handleSubmit = (values) => {\n        //Convert ingredients array to object before submitting\n        //TODO: This would best be done within context to keep business logic seperate from components.\n        //however we need initial values for ingredients and categories to determine if any have been removed\n        const ingredientsObject = {};\n        const categoriesObject = {};\n\n        //Look thru initialValues.ingredients to determine which ingredients have been removed\n        for(let ingredient of initialValues.ingredients) {\n            //If ingredient is removed set to null\n            if(values.ingredients.findIndex(ing => ing.id === ingredient.id) === -1) {\n                ingredientsObject[ingredient.name] = null;\n            }\n        }\n\n        for(let ingredient of values.ingredients) {\n            if(ingredient.id) delete ingredient.id;\n            const { name, ...ingredientValues } = ingredient;\n            ingredientsObject[name] = ingredientValues;\n        }\n\n        //Look thru initialValues.categories to determine which categories have been removed\n        for (let category of initialValues.categories) {\n            //If category is removed set to null\n            if (values.categories.findIndex(cat => cat.name === category.name) === -1) {\n                categoriesObject[category.name] = null;\n            }\n        }\n\n        for (let category of values.categories) {\n            if (category.id) delete category.id;\n            const { name, type } = category;\n            categoriesObject[name] = { type };\n        }\n\n        onEdit(id, { ...values, ingredients: ingredientsObject, categories: categoriesObject }, () => navigate(-1));\n    }\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n        >\n            {({ isSubmitting, values }) => (\n                <Form>\n                    <Row className=\"recipe-detail-row\">\n                        <Col as=\"h2\" xs=\"7\">\n                            <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" />\n                        </Col>\n                        <Col xs=\"4\">\n                            <ButtonGroup>\n                                <Button variant=\"outline-secondary\" onClick={handleCancel}>Cancel</Button>\n                                <Button variant=\"secondary\" type=\"submit\" disabled={isSubmitting}>Save</Button>\n                            </ButtonGroup>\n                        </Col>\n                    </Row>\n\n                    <Row className=\"recipe-detail-row\">\n                        <Col xs=\"5\">\n                            <p>Serves: <Field name=\"serves\" placeholder=\"Serves\" type=\"number\"  min={1} /></p>\n                            <p>Prep Time:\n                                <Field name=\"prep.time\" type=\"number\"  min={1} />\n                                <Field name=\"prep.unit\" as={SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                            </p>\n                            <p>Cook Time:\n                                <Field name=\"cook.time\" type=\"number\"  min={1} />\n                                <Field name=\"cook.unit\" as={SelectInput} options={['min', 'hr']} variant=\"secondary\" />\n                            </p>\n                        </Col>\n                        <Col className=\"recipe-image-container\">\n                            <img src={initialValues.photo.path ? `http://localhost:3005/${initialValues.photo.path}` : \"\"} alt=\"\" />\n                        </Col>\n                    </Row>\n\n                    <Row className=\"recipe-detail-row\">\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"categories\" label=\"Categories:\"\n                            listItems={values.categories}\n                            initialItemValue={{ name: \"\", type: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"ingredients\" label=\"Ingredients\"\n                            listItems={values.ingredients}\n                            initialItemValue={{ name: \"\", amount: \"\", measurement: \"\", size: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"instructions\" label=\"Instructions\"\n                            listItems={values.instructions}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`instruction-${index}`}\n                                    name=\"instructions\"\n                                    placeholder=\"Instruction\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n                    </Row>\n\n                    <Row>\n                        <InputList\n                            name=\"comments\" label=\"Comments:\"\n                            listItems={values.comments || []}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`comment-${index}`}\n                                    name=\"comments\"\n                                    placeholder=\"Comment\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n                    </Row>\n                </Form>\n            )}\n        </Formik>\n    )\n}","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport EditRecipeForm from '../../components/form/EditRecipeForm/EditRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function EditRecipePage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleEdit = (recipeId, newValues, callback) => {\n        updateRecipe(recipeId, newValues, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <EditRecipeForm recipe={recipe} onEdit={handleEdit} />}\n        </Page>\n    )\n}","import React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport * as Inputs from '../../input';\n\nimport './LoginForm.css';\n\nfunction LoginForm({ onSubmit, ...props }) {\n    return (\n        <Formik\n            initialValues={{ userName: \"\", password: \"\" }}\n            onSubmit={(values, { setSubmitting }) => {\n                setSubmitting(true);\n                onSubmit(values, () => setSubmitting(false));\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"login-form\">\n                    <Inputs.InputContainer name=\"userName\" label=\"Username\">\n                        <Field name=\"userName\" type=\"input\" placeholder=\"Enter your username\" />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputContainer name=\"password\" label=\"Password\">\n                        <Field name=\"password\" type=\"password\" placeholder=\"Enter your password\" autoComplete=\"off\"/>\n                    </Inputs.InputContainer>\n\n                    {props.error && <div className=\"form-error\">{props.error}</div>}\n\n                    <Button type=\"submit\" variant=\"secondary\" disabled={isSubmitting}>\n                        Submit\n                    </Button>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default LoginForm;","import React from 'react';\nimport LoginForm from '../../components/form/LoginForm/LoginForm';\nimport Page from '../Page/Page';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { Navigate } from 'react-router-dom';\n\nexport default function LoginPage(props) {\n    const auth = useAuth();\n    \n    const handleLogin = async (credentials, callback) => {\n        await auth.login(credentials);\n        callback();\n    }\n\n    if(!auth.loading && auth.user) return <Navigate to=\"/\" />\n\n    return (\n        <Page>\n            <h3>Log In</h3>\n            <LoginForm onSubmit={handleLogin} error={auth.error?.response?.data}/>\n        </Page>\n    )\n}","import { useState, useEffect } from \"react\";\nimport useEventListener from \"./useEventListener\";\n\nexport default function useMediaQuery(mediaQuery) {\n    const [isMatch, setIsMatch] = useState(false);\n    const [mediaQueryList, setMediaQueryList] = useState(null);\n\n    useEffect(() => {\n        const list = window.matchMedia(mediaQuery);\n        setMediaQueryList(list);\n        setIsMatch(list.matches);\n    }, [mediaQuery]);\n\n    useEventListener(\"change\", e => setIsMatch(e.matches), mediaQueryList);\n\n    return isMatch;\n}","import { useEffect, useRef } from \"react\";\n\nexport default function useEventListener(eventType, callback, element = window) {\n    const callbackRef = useRef(callback);\n\n    useEffect(() => {\n        callbackRef.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        if (element == null) return;\n        const handler = e => callbackRef.current(e);\n        element.addEventListener(eventType, handler);\n\n        return () => element.removeEventListener(eventType, handler);\n    }, [eventType, element]);\n}","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Form, FormControl } from 'react-bootstrap';\nimport './Search.css';\n\nfunction Search({ onSubmit, initialValue }) {\n    const inputRef = useRef(null);\n    const [showClearBtn, setShowClearBtn] = useState(initialValue && initialValue.length > 0);\n\n    useEffect(() => {\n        inputRef.current.value = initialValue;\n    }, [initialValue]);\n\n    const handleKeyPress = (e) => {\n        if(e.key === \"Enter\") {\n            e.preventDefault();\n            inputRef.current.blur();\n            typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n        }\n    }\n\n    const handleInputChange = (e) => {\n        if(e.target.value.length > 0) setShowClearBtn(true);\n        else setShowClearBtn(false);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n    }\n\n    const handleClear = () => {\n        inputRef.current.value = \"\";\n        setShowClearBtn(false);\n        typeof onSubmit === \"function\" && onSubmit(\"\");\n    }\n\n    return (\n        <Form className=\"search-form\" onSubmit={handleSubmit}>\n            <FormControl\n                type=\"search\"\n                placeholder=\"Search\"\n                aria-label=\"Search\"\n                className=\"search-bar\"\n                onKeyPress={handleKeyPress}\n                onChange={handleInputChange}\n                ref={inputRef}\n            />\n            <Button className={`clear-btn ${showClearBtn ? \"show\" : \"hide\"}`} variant=\"outline-secondary\" onClick={handleClear}>x</Button>\n            <Button variant=\"secondary\" type=\"submit\" className=\"mx-2\">Search</Button>\n        </Form>\n    )\n}\n\nexport default Search;","import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport default function NavIconLink({ to, text = \"\", IconComponent, IconFillComponent }) {\n    const { pathname } = useLocation();\n\n    return (\n        <Nav.Item as={Link} to={to} className=\"nav-link\">\n            {pathname === to ?\n                <IconFillComponent size={40} className=\"mx-2\" /> :\n                <IconComponent size={40} className=\"mx-2\" />\n            } {text}\n        </Nav.Item>\n    );\n}","import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport { \n    House, HouseFill, \n    PlusCircle, PlusCircleFill, \n    Heart, HeartFill, \n    Gear, GearFill \n} from 'react-bootstrap-icons';\n\nimport NavIconLink from '../../display/NavIconLink/NavIconLink';\n\nexport default function NavLinks() {\n    return (\n        <Nav className=\"nav-links\">\n            <NavIconLink to=\"/\" text=\"Home\" IconComponent={House} IconFillComponent={HouseFill} />\n            <NavIconLink to=\"/favorites\" text=\"Favorites\" IconComponent={Heart} IconFillComponent={HeartFill} />\n            <NavIconLink to=\"/new\" text=\"New\" IconComponent={PlusCircle} IconFillComponent={PlusCircleFill} />\n            <NavIconLink to=\"/settings\" text=\"Settings\" IconComponent={Gear} IconFillComponent={GearFill} />\n        </Nav>\n    )\n}","import React from 'react';\nimport { Button, Navbar, Nav } from 'react-bootstrap';\nimport { useLocation, useNavigate } from 'react-router';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport useMediaQuery from '../../../hooks/useMediaQuery';\nimport Search from '../../input/Search/Search';\nimport NavLinks from '../NavLinks/NavLinks';\n\nimport './TopNav.css';\n\nexport default function TopNav({ onShowFilter }) {\n    const { filter, updateFilter } = useRecipeContext();\n    const isLargeScreen = useMediaQuery(\"(min-width: 1081px)\");\n    const { pathname } = useLocation();\n    const navigate = useNavigate();\n    const auth = useAuth();\n\n    if(!auth.user) return null;\n\n    return (\n        <>\n            {(isLargeScreen) && <Navbar className=\"top-bar\">\n                <Nav className=\"top-bar-nav\">\n                    <NavLinks />\n                </Nav>\n            </Navbar>}\n            <Navbar className=\"top-bar\" sticky=\"top\">\n                <Nav className=\"top-bar-nav\">\n                    <Nav.Item>\n                        <Button\n                            variant=\"outline-secondary\"\n                            onClick={() => navigate(-1)}\n                        >\n                            Back\n                        </Button>\n                    </Nav.Item>\n\n                    {(pathname === '/' || pathname === '/favorites') &&\n                        <>\n                            <Nav.Item>\n                                <Button\n                                    variant=\"secondary\"\n                                    className=\"show-filters-btn\"\n                                    onClick={onShowFilter}\n                                >\n                                    Filters\n                                </Button>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Search\n                                    onSubmit={(value) => updateFilter({ search: value })}\n                                    initialValue={filter.search}\n                                />\n\n                            </Nav.Item>\n                        </>\n                    }\n                </Nav>\n            </Navbar>\n        </>\n    )\n}","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavLinks from '../NavLinks/NavLinks';\nimport useMediaQuery from '../../../hooks/useMediaQuery';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\n\nimport './BottomNav.css';\n\nexport default function BottomNav(props) {\n    const shouldDisplay = useMediaQuery(\"(max-width: 1080px)\");\n    const auth = useAuth();\n\n    if(!auth.user) return null;\n\n    return (\n        <Navbar className={`bottom-bar ${shouldDisplay ? \"\" : \"hide\"}`} fixed=\"bottom\">\n            <NavLinks />\n        </Navbar>\n    )\n}","import React from 'react';\nimport { Offcanvas } from 'react-bootstrap';\n\nfunction SlideinSidebar(props) {\n    return (\n        <Offcanvas show={props.show} onHide={props.onClose} {...props}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>{props.title}</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            {props.children}\n          </Offcanvas.Body>\n        </Offcanvas>\n    );\n  }\n\n  export default SlideinSidebar;","import React, { useState } from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport './Autocomplete.css';\n\nfunction Autocomplete({ suggestions, placeholder, onSubmit }) {\n    const [userInput, setUserInput] = useState(\"\");\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [activeSuggestion, setActiveSuggestion] = useState(-1);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    // useEffect(() => {\n    //     console.group(\"Autocomplete State and Props\");\n    //     console.log(\"User input:\", userInput);\n    //     console.log(\"Filtered suggestions:\", filteredSuggestions);\n    //     console.log(\"Active suggestion:\", activeSuggestion);\n    //     console.log(\"Show:\", showSuggestions);\n    //     console.log(\"Suggestions:\", suggestions);\n    //     console.groupEnd();\n    // }, [userInput, filteredSuggestions, activeSuggestion, showSuggestions, suggestions]);\n\n    const handleSubmit = (submitValue) => {\n        if(!onSubmit) return;\n        if(submitValue) {\n            onSubmit(submitValue);\n        } else {\n            const suggIdx = filteredSuggestions.findIndex(item => item.name.toLowerCase() === userInput.toLowerCase());\n            if(suggIdx > -1) onSubmit(filteredSuggestions[suggIdx]);\n        }\n    }\n\n    const handleChange = e => {\n        const input = e.currentTarget.value;\n\n        const newFilteredSuggestions = suggestions.filter(suggestion =>\n            suggestion.name.toLowerCase().indexOf(input.toLowerCase()) > -1\n        );\n\n        setActiveSuggestion(-1);\n        setFilteredSuggestions(newFilteredSuggestions);\n        \n        //Show suggestions if input has not changed to empty string\n        if(input !== \"\" ) setShowSuggestions(true);\n        else setShowSuggestions(false);\n\n        setUserInput(input);\n    };\n\n    const handleKeyDown = e => {\n        const keyCode = e.keyCode;\n\n        if (keyCode === 13) {\n            e.preventDefault();\n            if(activeSuggestion === -1 && userInput === \"\") return;\n            if(activeSuggestion > -1) {\n                handleSubmit(filteredSuggestions[activeSuggestion])\n            } else handleSubmit();\n            setActiveSuggestion(-1);\n            setShowSuggestions(false);\n            setUserInput(\"\");\n        } else if (keyCode === 38) {\n            if (activeSuggestion === 0 || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion - 1);\n        } else if (keyCode === 40) {\n            if (activeSuggestion + 1 === filteredSuggestions.length || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion + 1);\n        }\n    };\n\n    const handleClick = e => {\n        const clickedSuggestion = { id: e.currentTarget.value, name: e.currentTarget.innerText };\n        setActiveSuggestion(-1);\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n        setUserInput(\"\");\n        handleSubmit(clickedSuggestion);\n    };\n\n    const suggestionsListComponent = (showSuggestions && userInput !== \"\") ?\n        ((filteredSuggestions.length) ? (\n            <ul className=\"suggestions-list\">\n                {filteredSuggestions.map((suggestion, index) => {\n                    let className;\n\n                    // Flag the active suggestion with a class\n                    if (index === activeSuggestion) {\n                        className = \"suggestion-active\";\n                    }\n                    return (\n                        <li className={className} key={suggestion.id} value={suggestion.id} onClick={handleClick}>\n                            {suggestion.name}\n                        </li>\n                    );\n                })}\n            </ul>\n        ) : (\n            <div className=\"no-suggestions\">\n                <em>No suggestions available.</em>\n            </div>\n        )\n        ) : null\n\n    return (\n        <div className=\"autocomplete-container\">\n            <FormControl\n                className=\"autocomplete-input-bar\"\n                type=\"search\"\n                onChange={handleChange}\n                onKeyDown={handleKeyDown}\n                value={userInput}\n                placeholder={placeholder}\n            />\n            {suggestionsListComponent}\n        </div>\n    );\n}\n\nexport default Autocomplete;","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { FieldArray } from 'formik';\nimport { Trash } from 'react-bootstrap-icons';\nimport Autocomplete from '../Autocomplete/Autocomplete';\nimport './AutocompleteList.css';\n\nfunction AutocompleteList({ name, listItems, suggestions, placeholder, onChange }) {\n    const handleSubmit = (values) => {\n        onChange && onChange(values);\n    }\n\n    return (\n        <>\n            <Autocomplete\n                suggestions={suggestions}\n                placeholder={placeholder}\n                onSubmit={handleSubmit}\n            />\n            <FieldArray\n                name={name}\n                render={arrayHelpers => (\n                    <ul className=\"autocomplete-list\">\n                        {listItems.map((item, index) => (\n                            <Row as=\"li\" key={index}>\n                                <Col xs={1}>\n                                    <Trash\n                                        onClick={() => {\n                                            arrayHelpers.remove(index)\n                                        }} \n                                    />\n                                </Col>\n                                <Col>\n                                    {item.name}\n                                </Col>\n                            </Row>\n                        ))}\n                    </ul>\n                )}\n            />\n        </>\n    )\n}\n\nexport default AutocompleteList;","import React from 'react';\nimport { Row, Button } from 'react-bootstrap';\nimport { Formik, Form } from 'formik';\n\nimport AutocompleteList from '../../input/AutocompleteList/AutocompleteList';\nimport './FilterRecipesForm.css';\n\nfunction FilterRecipesForm({ initialFilter, onSubmit, ingredients, categories }) {\n    const handleClearFilters = () => {\n        onSubmit({\n            ingredients: [],\n            categories: []\n        });\n    }\n\n    return (\n        <Formik\n            initialValues={initialFilter}\n            onSubmit={(values) => {\n                onSubmit({\n                    ingredients: values.ingredients,\n                    categories: values.categories\n                });\n            }}\n        >\n            {(form) => (\n                <Form className=\"filter-recipes-form\">\n                    <Row>\n                        <h5>Ingredients</h5>\n                        <AutocompleteList\n                            name=\"ingredients\"\n                            placeholder={\"Enter an ingredient to add to list\"}\n                            suggestions={ingredients}\n                            listItems={form.values.ingredients}\n                            onChange={(value) => {\n                                form.setFieldValue('ingredients', [...form.values.ingredients, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <h5>Categories</h5>\n                        <AutocompleteList\n                            name=\"categories\"\n                            placeholder={\"Enter a category to add to list\"}\n                            suggestions={categories}\n                            listItems={form.values.categories}\n                            onChange={(value) => {\n                                form.setFieldValue('categories', [...form.values.categories, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <Button variant=\"outline-secondary\" className=\"clear-filters-btn\" onClick={handleClearFilters}>Clear</Button>\n                        <Button variant=\"secondary\" className=\"apply-filters-btn\" type=\"submit\">Apply</Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n\n}\n\nexport default FilterRecipesForm;","import React from 'react';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport useResource from '../../../hooks/useResource';\n\nimport SlideinSidebar from '../../display/SlideinSidebar/SlideinSidebar';\nimport FilterRecipesForm from '../../form/FilterRecipesForm/FilterRecipesForm';\n\nfunction FilterControlSidebar({ show, onClose }) {\n    const { filter, updateFilter } = useRecipeContext();\n    const { value: ingredients} = useResource('/api/ingredients');\n    const { value: categories} = useResource('/api/categories');\n\n    const handleApplyFilter = (filter) => {\n        updateFilter(filter);\n        onClose();\n    }\n\n    return (\n        <SlideinSidebar show={show} onClose={onClose} title=\"Select your filters\">\n            <FilterRecipesForm\n                initialFilter={filter}\n                onSubmit={handleApplyFilter}\n                ingredients={ingredients}\n                categories={categories}\n            />\n        </SlideinSidebar>\n    )\n}\n\nexport default FilterControlSidebar;","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { useDialogContext } from '../../../contexts/DialogContext/DialogContext';\n\nexport default function Dialog(props) {\n    const { dialog, show, setShow } = useDialogContext();\n\n    return (\n        <Modal show={show} onHide={() => setShow(false)}>\n            <Modal.Header closeButton>\n                <Modal.Title>{dialog.title}</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body>\n                <p>{dialog.text}</p>\n            </Modal.Body>\n\n            <Modal.Footer>\n                {dialog.footer}\n            </Modal.Footer>\n        </Modal>\n    )\n}","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport useToggle from './hooks/useToggle';\nimport HomePage from './pages/HomePage/HomePage';\nimport FavoritesPage from './pages/FavoritesPage/FavoritesPage';\nimport NewRecipePage from './pages/NewRecipePage/NewRecipePage';\nimport SettingsPage from './pages/SettingsPage/SettingsPage';\nimport RecipePage from './pages/RecipePage/RecipePage';\nimport EditRecipePage from './pages/EditRecipePage/EditRecipePage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport TopNav from './components/app/TopNav/TopNav';\nimport BottomNav from './components/app/BottomNav/BottomNav';\nimport FilterControlSidebar from './components/app/FilterControlSidebar/FilterControlSidebar';\nimport Dialog from './components/display/Dialog/Dialog';\n\nimport DialogContextProvider from './contexts/DialogContext/DialogContext';\nimport RecipeContextProvider from './contexts/RecipeContext/RecipeContext';\nimport AuthContextProvider, { useAuth } from './contexts/AuthContext/AuthContext';\n\nimport './App.css';\n\nfunction PrivateRoute({ children }) {\n\tconst auth = useAuth();\n\n\tif (auth.loading) return <div>Loading...</div>\n\n\treturn (\n\t\tauth.user ? children : <Navigate to=\"/login\" />\n\t)\n}\n\nfunction App() {\n\tconst [isShown, toggleShow] = useToggle(false);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<AuthContextProvider>\n\t\t\t\t<DialogContextProvider>\n\t\t\t\t\t<RecipeContextProvider>\n\t\t\t\t\t\t<FilterControlSidebar\n\t\t\t\t\t\t\tshow={isShown}\n\t\t\t\t\t\t\tonClose={() => toggleShow(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Dialog />\n\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t<TopNav onShowFilter={() => toggleShow(true)} />\n\n\t\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t\t<Route path=\"/login\" element={<LoginPage />} />\n\t\t\t\t\t\t\t\t<Route path=\"/\" element={<PrivateRoute><HomePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/favorites\" element={<PrivateRoute><FavoritesPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/new\" element={<PrivateRoute><NewRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/settings\" element={<PrivateRoute><SettingsPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId\" element={<PrivateRoute><RecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId/edit\" element={<PrivateRoute><EditRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t</Routes>\n\n\t\t\t\t\t\t\t<BottomNav />\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</RecipeContextProvider>\n\t\t\t\t</DialogContextProvider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { useState } from \"react\"\n\nexport default function useToggle(defaultValue) {\n  const [value, setValue] = useState(defaultValue)\n\n  function toggleValue(value) {\n    setValue(currentValue =>\n      typeof value === \"boolean\" ? value : !currentValue\n    )\n  }\n\n  return [value, toggleValue]\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}