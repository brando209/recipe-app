{"version":3,"sources":["hooks/useAsync.js","hooks/useResource.js","api/utils.js","api/auth.js","utility/localStorage/authStorage.js","contexts/AuthContext/AuthContext.js","components/input/Button/Button.js","contexts/AppContext/AppContext.js","pages/Page/Page.js","api/recipes.js","contexts/RecipeContext/RecipeContext.js","components/app/utils.js","components/app/RecipeCard/RecipeCard.js","components/app/RecipeCards/RecipeCards.js","pages/HomePage/HomePage.js","pages/FavoritesPage/FavoritesPage.js","components/display/spinners/Heart/Heart.js","components/display/buttons/LoadingHeart/LoadingHeart.js","components/input/SelectInput/SelectInput.js","components/input/IngredientInput/IngredientInput.js","components/input/TextareaListInput/TextareaListInput.js","components/input/InputContainer/InputContainer.js","components/input/InputList/InputList.js","components/input/CategoryInput/CategoryInput.js","components/input/TimeInput/TimeInput.js","utility/validationSchema/recipeSchema.js","components/form/NewRecipeForm/NewRecipeForm.js","pages/NewRecipePage/NewRecipePage.js","pages/SettingsPage/SettingsPage.js","components/display/List/List.js","components/app/IngredientDisplay/IngredientDisplay.js","components/app/RecipeDetails/RecipeDetails.js","pages/RecipePage/RecipePage.js","components/form/EditRecipeForm/EditRecipeForm.js","pages/EditRecipePage/EditRecipePage.js","components/form/LoginForm/LoginForm.js","pages/LoginPage/LoginPage.js","components/form/GroceryListForm/GroceryListForm.js","api/planner.js","pages/GroceryListPage/GroceryListPage.js","components/input/ButtonGroup/ButtonGroup.js","components/app/Calendar/Calendar.js","pages/MealPlannerPage/MealPlannerPage.js","components/input/Search/Search.js","components/display/NavIconLink/NavIconLink.js","components/app/NavLinks/NavLinks.js","components/app/TopNav/TopNav.js","components/app/BottomNav/BottomNav.js","components/display/SlideinSidebar/SlideinSidebar.js","components/input/Autocomplete/Autocomplete.js","components/input/AutocompleteList/AutocompleteList.js","components/form/FilterRecipesForm/FilterRecipesForm.js","components/app/FilterControlSidebar/FilterControlSidebar.js","components/display/Dialog/Dialog.js","App.js","reportWebVitals.js","index.js"],"names":["useAsync","callback","dependencies","useState","loading","setLoading","error","setError","value","setValue","callbackMemoized","useCallback","then","catch","finally","useEffect","DEFAULT_OPTIONS","headers","useResource","path","options","isProtected","Promise","reject","token","authorization","split","undefined","axios","get","res","status","data","authHeader","authApi","login","credentials","post","guestLogin","logout","authToken","updateAccount","updates","patch","setLocalAuthToken","localStorage","setItem","authContext","createContext","useAuth","useContext","currentToken","getItem","AuthContextProvider","children","a","user","guest","type","removeItem","updateTheme","name","prev","theme","contextValue","useMemo","Provider","Button","forwardRef","props","ref","variant","active","otherProps","StyledButton","styled","button","main","accent","contrast","secondary","appContext","themes","light","dark","red","pink","useAppContext","AppContextProvider","show","title","text","body","footer","dialog","setDialog","sidebar","setSidebar","navbar","setNavbar","initialTheme","auth","setTheme","useTheme","showDialog","hideDialog","showSidebar","hideSidebar","showNavbar","hideNavbar","Page","PageContainer","className","div","recipesApi","createRecipe","recipeInfo","updateRecipe","recipeId","deleteRecipe","delete","recipeContext","useRecipeContext","Authorization","RecipeContextProvider","ingredients","categories","search","filter","setFilter","recipeApi","recipe","prevValue","console","newValue","updatedIndex","findIndex","id","splice","deletedIndex","filteredValue","isFiltering","length","result","map","val","_score","ingredientName","toLowerCase","includes","description","categoryName","searchText","ing","join","instructions","comments","cat","sort","b","applyFilter","updateFilter","formatDuration","duration","durationString","days","hours","minutes","toMinutes","RecipeCard","navigate","useNavigate","serves","prepTime","cookTime","totalTime","favorite","photo","handleFavoriteClick","e","stopPropagation","onFavorite","showTotal","StyledRecipeCard","CardBody","onClick","CardBodyLeft","Card","Title","Subtitle","Text","CardBodyRight","Img","src","alt","Body","RecipeCards","recipes","RecipeCardContainer","to","HomePage","JSON","stringify","message","isFavorite","FavoritesPage","favoritedRecipes","Heart","StyledHeart","LoadingHeart","isLoading","defaultText","loadingText","StyledLoadingHeart","disabled","SelectInput","selected","placeholder","as","defaultValue","option","IngredientInput","index","arrayHelpers","StyledIngredientInput","IngredientInputLeft","min","step","IngredientInputMiddle","size","IngredientInputRight","remove","IngredientInputBottom","TextareaListInput","StyledTextareaListInput","rows","InputContainer","label","StyledInputContainer","numElements","htmlFor","InputList","listItems","renderItem","initialItemValue","buttonPlacement","buttonText","buttonVariant","renderButton","render","StyledInputList","push","ListContainer","item","CategoryInput","StyledCategoryInput","NameInputContainer","TypeInputContainer","TimeInput","array","StyledTimeInput","StyledField","max","recipeDuration","Yup","recipeSchema","shape","required","NewRecipeForm","onSubmit","initialValues","isImporting","selectedFile","setSelectedFile","selectedImage","setSelectedImage","fileReader","FileReader","handleShowImage","evt","target","addEventListener","readAsDataURL","removeEventListener","enableReinitialize","values","setSubmitting","formData","FormData","append","url","validationSchema","isSubmitting","setFieldValue","StyledNewRecipeForm","FormError","component","Inputs","ImageContainer","handleRemoveImage","StyledImage","onChange","file","files","quantity","unit","comment","img","Form","ErrorMessage","NewRecipePage","importUrl","setImportUrl","importing","importedRecipe","showErrorDialog","err","response","handleImport","preventDefault","lastChild","StyledHeader","form","SettingsPage","userName","List","heading","listStyle","direction","listItemComponents","style","display","flexDirection","StyledList","quantityFractionMap","StyledIngredientDisplay","IngredientDisplay","ingredient","formatQuantity","Number","Math","floor","parseFloat","toFixed","trim","replace","match","RecipeDetails","onDelete","StyledRecipeDetails","RecipeDetailsTop","RecipeDetailsMiddle","RecipeImage","RecipeDetailsBottom","listStyleType","padding","margin","category","Badge","RecipePage","useParams","find","rec","EditRecipeForm","onEdit","handleCancel","ingredientsObject","categoriesObject","ingredientValues","handleSubmit","StyledEditRecipeForm","EditRecipeFormTop","EditRecipeFormMiddle","EditRecipeFormBottom","EditRecipePage","newValues","LoginForm","password","autoComplete","LoginPage","handleLogin","handleGuestLogin","LoginPageContainer","LinkButton","GroceryListForm","groceryItems","onItemAdd","onItemCheck","onItemEdit","onItemRemove","original","editing","setEditing","inputRef","useRef","buttonRef","handleFieldBlur","current","click","editedItem","items","newItem","focus","handleNewItem","addNewItem","setTimeout","handleItemRemove","itemId","complete","GroceryListItem","originalValue","innerRef","input","plannerApi","createMealPlanItem","itemInfo","updateMealPlanItem","deleteMealPlanItem","createGroceryItem","updateGroceryItem","deleteGroceryItem","GroceryListPage","setGroceryItems","handleItemAdd","cb","slice","handleItemEdit","newName","updatedItems","updatedItem","handleItemCheck","StyledButtonGroup","ButtonGroup","monthNames","large","medium","small","daysOfWeek","calendar","cal","Calendar","now","Date","today","getFullYear","getMonth","getDate","CalendarDay","dayNumber","ISODate","date","inCurrentMonth","outOfView","events","eventRender","eventContainerClass","StyledCalendarDay","currentTarget","dateTime","event","draggable","StyledCalendar","CalendarHeader","CalendarDaysOfWeek","view","CalendarDates","year","month","selectedDate","onDayClick","onEventPickup","onEventMove","onEventAdd","onEventPickupEnd","week","day","getDay","numWeeks","prevNumWeeks","setDate","monthData","setMonthData","currentYear","currentMonth","monthDates","d","toString","toISOString","monthDays","prevMonthInfo","prevMonthDays","firstDay","lastDay","dates","ceil","dayElements","document","querySelectorAll","handleDragEnter","classList","add","handleDragOver","handleDragLeave","handleDrop","dataTransfer","effectAllowed","eventId","getData","dropType","dropDate","childNodes","attributes","forEach","element","pointerEvents","eventElements","handleDragStart","dropEffect","setData","handleDragEnd","showNext","showPrev","buttons","weekIdx","dayIdx","MealPlannerPage","plannedMeals","setPlannedMeals","showMealOptions","setShowMealOptions","setCalendar","handleRecipePickup","querySelector","handleRecipePickupEnd","handleAddPlannedRecipe","newPlannedMeal","handleMovePlannedRecipe","mealIndex","meal","changedMeal","newPlannedMeals","handleDeletePlannedRecipe","meals","recipeItemElements","container","trash","handleChangeCalendarView","newView","StyledMealPlannerPage","SelectViewContainer","RecipeSearchContainer","clickedDay","StyledPlannedRecipe","StyledTrash","Trash","p","StyledSearch","Search","initialValue","showClearBtn","setShowClearBtn","FormControl","onKeyPress","key","blur","width","height","NavIconLink","IconComponent","IconFillComponent","textOnHover","pathname","useLocation","StyledNavIconLink","Link","$textOnHover","Nav","Item","NavLinks","StyledNavLinks","House","HouseFill","HeartFill","PlusCircle","PlusCircleFill","Bag","BagFill","Calendar3","Calendar3Fill","Gear","GearFill","minWidth","maxWidth","TopNav","onShowFilter","showSearchAndFilter","StyledTopNav","sticky","Navbar","BottomNav","StyledBottomNav","fixed","$show","StyledOffcanvas","Offcanvas","SlideinSidebar","onHide","onClose","Header","closeButton","Autocomplete","suggestions","userInput","setUserInput","filteredSuggestions","setFilteredSuggestions","activeSuggestion","setActiveSuggestion","showSuggestions","setShowSuggestions","submitValue","suggIdx","handleClick","clickedSuggestion","innerText","suggestionsListComponent","suggestion","newFilteredSuggestions","indexOf","onKeyDown","keyCode","prevActiveSuggestion","AutocompleteList","Row","Col","xs","FilterRecipesForm","initialFilter","handleClearFilters","log","FilterControlSidebar","Dialog","Modal","Footer","PrivateRoute","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.073ee4bb.chunk.js","sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\n\nexport default function useAsync(callback, dependencies = []) {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [value, setValue] = useState(null);\n\n  //TODO: Create custom hook which accepts dependencies array for useCallback which avoids exhaustive-deps warning\n  /* eslint-disable react-hooks/exhaustive-deps */\n  const callbackMemoized = useCallback(() => {\n    setLoading(true);\n    setError(null);\n    setValue(null);\n    callback && typeof callback === \"function\" && callback()\n      .then(setValue) \n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, dependencies);\n\n  useEffect(() => {\n    callbackMemoized();\n  }, [callbackMemoized]);\n\n  return { loading, error, value, setLoading, setError, setValue }\n}","import useAsync from \"./useAsync\";\nimport axios from \"axios\";\n\nconst DEFAULT_OPTIONS = {\n    headers: { \"Content-Type\": \"application/json\" },\n}\n\nexport default function useResource(path, options = {}, isProtected = false, dependencies = []) {\n    return useAsync(() => {\n        if(!path) return Promise.reject(null);\n        const token = options.headers?.authorization?.split(\" \")[1];\n        if(isProtected && (token === null || token === \"null\" || token === undefined || token === \"undefined\")) {\n            return Promise.reject(\"No valid auth token\");\n        }\n        return axios.get(path, { ...DEFAULT_OPTIONS, ...options }).then(res => {\n            if(res.status === 200) return res.data;\n        })\n    }, dependencies);\n}","export function authHeader(token) {\n    return { authorization: `BEARER ${token}` }\n}","import axios from 'axios';\nimport { authHeader } from './utils';\n\nfunction login(credentials) {\n    return axios.post('/api/auth/login', credentials);\n}\n\nfunction guestLogin() {\n    return axios.get('/api/auth/guest');\n}\n\nfunction logout(authToken) {\n    return axios.get('/api/auth/logout', { headers: authHeader(authToken) });\n}\n\nfunction updateAccount(updates, authToken) {\n    return axios.patch('/api/user', updates, { headers: authHeader(authToken) });\n}\n\nconst authApi = { login, guestLogin, logout, updateAccount };\nexport default authApi","export function setLocalAuthToken(token) {\n    localStorage.setItem(\"recipe_app_0246_auth_token\", token);\n}\n\nexport function getLocalAuthToken() {\n    return localStorage.getItem(\"recipe_app_0246_auth_token\");\n}\n\nexport function removeLocalAuthToken() {\n    localStorage.removeItem(\"recipe_app_0246_auth_token\");\n}","import { createContext, useContext, useMemo, useCallback } from 'react';\nimport useResource from '../../hooks/useResource';\nimport authApi from '../../api/auth';\nimport { getLocalAuthToken, setLocalAuthToken, removeLocalAuthToken } from '../../utility/localStorage/authStorage';\n\nexport const authContext = createContext({});\n\nexport const useAuth = () => useContext(authContext);\n\nconst currentToken = getLocalAuthToken();\n\nexport default function AuthContextProvider({ children }) {\n    const { loading, error, value, setLoading, setError, setValue } = useResource(\n        '/api/auth/login',\n        { headers: { authorization: `BEARER ${currentToken}` } },\n        true,\n        [currentToken]\n    );\n\n    const login = useCallback(async (credentials) => {\n        try {\n            setLoading(true);\n            setValue(null);\n            setError(null);\n            const user = await authApi.login(credentials);\n            setValue(user.data);\n            setLocalAuthToken(user.data.token);\n        } catch(err) {\n            setError(err);\n        }\n        setLoading(false);\n    }, [setLoading, setValue, setError]);\n\n    const guestLogin = useCallback(async function () {\n        try {\n            setLoading(true);\n            setValue(null);\n            setError(null);\n            const guest = await authApi.guestLogin();\n            setValue(guest.data);\n            setLocalAuthToken(guest.data.token);\n        } catch(err) {\n            setError(err);\n        }\n        setLoading(false);\n    }, [setLoading, setValue, setError]);\n\n    const logout = useCallback(async () => {\n        try{\n            if(value.type === \"guest\") await authApi.logout(value.token);\n        } catch(err) {\n            setError(err);\n        }\n        setValue(null);\n        removeLocalAuthToken();\n    }, [value, setValue, setError]);\n\n    const updateTheme = useCallback((name) => {\n        setValue(prev => ({...prev, theme: name }));\n        authApi.updateAccount({ theme: name }, value.token);\n    }, [value, setValue]);\n\n    const contextValue = useMemo(() => ({ \n        loading, error, user: value, login, guestLogin, logout, updateTheme \n    }), [loading, error, value, login, guestLogin, logout, updateTheme]);\n\n    return (\n        <authContext.Provider value={contextValue}>\n            {children}\n        </authContext.Provider>\n    )\n}","import { forwardRef } from 'react';\nimport styled from 'styled-components';\n\nconst Button = forwardRef((props, ref) => {\n    const { children, variant=\"primary\", active=false, type=\"button\", ...otherProps } = props;\n    return <StyledButton ref={ref} variant={variant} active={active} type={type} {...otherProps}>{children}</StyledButton>\n});\n\nconst getColor = (theme, active, variant) => {\n    if(active) return variant === \"secondary\" ? theme.contrast : theme.main;\n    return variant === \"secondary\" ? theme.main : theme.contrast;\n}\n\nconst getBackgroundColor = (theme, active, variant) => {\n    if(active) return variant === \"secondary\" ? theme.main : theme.accent;\n    return variant === \"secondary\" ? theme.accent : theme.main;\n}\n\nconst StyledButton = styled.button`\n    font-size: 1rem;\n    padding: 0.25rem 1rem;\n    border-radius: 4px;\n\n    background-color: ${props => getBackgroundColor(props.theme, props.active, props.variant)};\n    color: ${props => getColor(props.theme, props.active, props.variant)};\n    border: 1px solid ${props => props.theme.main};\n\n    :hover {\n        background-color: ${props => props.variant === \"secondary\" ? props.theme.main : props.theme.accent};\n        color: ${props => props.variant === \"secondary\" ? props.theme.contrast : props.theme.main};\n        cursor: pointer;\n    }\n\n    :active {\n        background-color: ${props => props.variant === \"secondary\" ? props.theme.secondary : props.theme.contrast};\n        color: ${props => props.variant === \"secondary\" ? props.theme.contrast : props.theme.main};\n    }\n`\nexport default Button;","import { createContext, useContext, useState, useEffect, useCallback, useMemo } from 'react';\nimport { ThemeProvider } from 'styled-components';\nimport { useAuth } from '../AuthContext/AuthContext';\nimport Button from '../../components/input/Button/Button';\n\nexport const appContext = createContext({});\n\nconst themes = {\n    light: {\n        main: '#5d5d5d',\n        secondary: '#9e9e9e',\n        accent: '#dedede',\n        contrast: '#fffefc',\n    },\n    dark: {\n        main: '#121212',\n        secondary: '#1f1f1f',\n        accent: '#353432',\n        contrast: '#a8a8a8',\n    },\n    red: {\n        main: '#8b0000',\n        secondary: '#ba0000',\n        accent: '#d00000',\n        contrast: '#e50000',\n    },\n    pink: {\n        main: '#ff084a',\n        secondary: '#ff6289',\n        accent: '#ff93ac',\n        contrast: '#ffc2cd',\n    },\n}\nconst useTheme = (initialTheme) => {\n    const auth = useAuth();\n    const [theme, setTheme] = useState(themes[initialTheme]);\n\n    useEffect(() => {\n        setTheme(themes[auth.user?.theme] || themes[initialTheme]);\n    }, [auth, setTheme, initialTheme]);\n\n    const updateTheme = useCallback((name) => {\n        switch(name) {\n            case 'red':\n                setTheme(themes.red);\n                auth.updateTheme(name);\n                break;\n            case 'pink':\n                setTheme(themes.pink);\n                auth.updateTheme(name);\n                break;\n            case 'dark':\n                setTheme(themes.dark);\n                auth.updateTheme(name);\n                break;\n            case 'light':\n            default:\n                setTheme(themes.light);\n                auth.updateTheme('light');\n                break;\n        }\n    }, [auth, setTheme]);\n\n    return [theme, updateTheme];\n}\n\nexport const useAppContext = () => useContext(appContext);\n\nexport default function AppContextProvider({ children }) {\n    const [dialog, setDialog] = useState({\n        show: false,\n        title: \"Dialog Box\",\n        text: \"Dialog body text\",\n        body: <div>Body component</div>,\n        footer: <Button>Close</Button>,\n    });\n    const [sidebar, setSidebar] = useState({ show: false });\n    const [navbar, setNavbar] = useState({ show: true });\n    const [theme, updateTheme] = useTheme('light');\n\n    const showDialog = useCallback(() => setDialog(prev => ({ ...prev, show: true })), []);\n    const hideDialog = useCallback(() => setDialog(prev => ({ ...prev, show: false })), []);\n\n    const showSidebar = useCallback(() => setSidebar(prev => ({ ...prev, show: true })), []);\n    const hideSidebar = useCallback(() => setSidebar(prev => ({ ...prev, show: false })), []);\n\n    const showNavbar = useCallback(() => setNavbar(prev => ({ ...prev, show: true })), []);\n    const hideNavbar = useCallback(() => setNavbar(prev => ({ ...prev, show: false })), []);\n\n    const contextValue = useMemo(() => ({ \n        dialog, setDialog, showDialog, hideDialog,\n        sidebar, showSidebar, hideSidebar,\n        navbar, showNavbar, hideNavbar,\n        theme, updateTheme\n    }), [\n        dialog, setDialog, showDialog, hideDialog, \n        sidebar, showSidebar, hideSidebar, \n        navbar, showNavbar, hideNavbar, \n        theme, updateTheme\n    ]);\n\n    return (\n        <appContext.Provider value={contextValue}>\n            <ThemeProvider theme={theme}>\n                {children}\n            </ThemeProvider>\n        </appContext.Provider>\n    )\n}","import styled from 'styled-components';\nimport { useAppContext } from '../../contexts/AppContext/AppContext';\n\nexport default function Page({ children, ...props }) {\n    const { theme } = useAppContext();\n\n    return (\n        <PageContainer theme={theme} {...props}>\n            { children }\n            <div className=\"footer\"></div>\n        </PageContainer>\n    );\n}\n\nconst PageContainer = styled.div`\n    background: ${props => props.theme.contrast};\n    width: 100%;\n    margin: 0 auto;\n    padding: 0.5rem;\n    min-height: 86vh;\n\n    .footer {\n        height: 5rem;\n        width: 100%;\n        background: transparent;\n    }\n`","import axios from 'axios';\n\nfunction createRecipe(recipeInfo, headers) {\n    return axios.post(\"/api/recipes\", recipeInfo, { headers });\n}\n\nfunction updateRecipe(recipeId, updates, headers) {\n    return axios.patch(`/api/recipes/${recipeId}`, updates, { headers });\n}\n\nfunction deleteRecipe(recipeId, headers) {\n    return axios.delete(`/api/recipes/${recipeId}`, { headers });\n}\n\nconst recipesApi = {\n    createRecipe, updateRecipe, deleteRecipe\n}\nexport default recipesApi;","import React, { createContext, useContext, useState } from 'react';\nimport useResource from '../../hooks/useResource';\nimport recipeApi from '../../api/recipes';\nimport { useAuth } from '../AuthContext/AuthContext';\n\nexport const recipeContext = createContext({});\n\nexport const useRecipeContext = () => useContext(recipeContext);\n\nconst authHeader = (token) => ({ Authorization: `BEARER ${token}`});\n\nexport default function RecipeContextProvider({ children }) {\n    const auth = useAuth();\n    const { loading, error, value, setValue } = useResource(\n        '/api/recipes',\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [auth.user?.token]\n    );\n    const [filter, setFilter] = useState({ ingredients: [], categories: [], search: \"\" });\n\n    const applyFilter = (filter) => {\n        const { ingredients, categories, search } = filter;\n        const isFiltering = ingredients.length > 0 || categories.length > 0;\n        //Attach a score variable to each recipe\n        let result = value?.map(val => ({ ...val, _score: 0 }));\n\n        //Filter by ingredients. For every inredient in filter, add 1 to recipe score if recipe contains this ingredient\n        for(let ingredient of ingredients) {\n            const ingredientName = ingredient.name.toLowerCase();\n            result = result?.map(recipe => {\n                for(let ing of recipe.ingredients) {\n                    if(ing.name.toLowerCase().includes(ingredientName)) recipe._score += 2;\n                }\n                if(recipe.title.toLowerCase().includes(ingredientName)) recipe._score += 3;\n                if(recipe.description.toLowerCase().includes(ingredientName)) recipe._score += 2;\n                return recipe;\n            });\n        }\n\n        //Filter by categories, For every category in filter, add 1 to recipe score if recipe contains this category\n        for(let category of categories) {\n            const categoryName = category.name.toLowerCase();\n            result = result?.map(recipe => {\n                for(let cat of recipe.categories) {\n                    if(cat.name.toLowerCase().includes(categoryName)) recipe._score += 3;\n                }\n                if(recipe.title.toLowerCase().includes(categoryName)) recipe._score += 5;\n                if(recipe.description.toLowerCase().includes(categoryName)) recipe._score += 4;\n\n                return recipe;\n            });\n        }        \n\n        //Filter out recipes that do not contain the search text\n        if(search) {\n            const searchText = search.toLowerCase();\n            result = result?.filter(recipe => (\n                recipe.title.toLowerCase().includes(searchText)\n                || recipe.description.toLowerCase().includes(searchText)\n                || recipe.ingredients.map(ing => ing.name).join(\" \").toLowerCase().includes(searchText)\n                || recipe.instructions.join(\" \").toLowerCase().includes(searchText)\n                || recipe.comments?.join(\" \").toLowerCase().includes(searchText)\n                || recipe.categories.map(cat => cat.name).join(\" \").toLowerCase().includes(searchText)\n            ));\n        }\n\n        //Filter out recipes which still have a score of 0\n        if(isFiltering) {\n            result = result?.filter(recipe => recipe._score > 0);\n            result = result?.sort((a, b) => b._score - a._score);\n        }\n\n        return result;\n    }\n\n    const updateFilter = (filter) => {\n        setFilter(prev => ({ ...prev, ...filter}));\n    }\n    \n    const createRecipe = async (recipeInfo, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.createRecipe(recipeInfo, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => ([...prevValue, recipe.data]));\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const updateRecipe = async (recipeId, updates, callback = () => {}) => {\n        try {\n            //Make api call\n            const recipe = await recipeApi.updateRecipe(recipeId, updates, authHeader(auth.user.token));\n            //Update state with returned data\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const updatedIndex = newValue.findIndex(value => value.id === recipe.data.id);\n                if(updatedIndex > -1) newValue.splice(updatedIndex, 1, recipe.data);\n                return newValue;\n            })\n            callback(recipe.data, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const deleteRecipe = async (recipeId, callback = () => {}) => {\n        try {\n            //Make api call\n            await recipeApi.deleteRecipe(recipeId, authHeader(auth.user.token));\n            //Remove recipe from state\n            setValue(prevValue => {\n                const newValue = [...prevValue];\n                const deletedIndex = newValue.findIndex(value => value.id === recipeId);\n                if(deletedIndex > -1) newValue.splice(deletedIndex, 1);\n                return newValue;\n            })\n            callback(true, null);\n        } catch(err) {\n            console.error(\"Error:\", err);\n            callback(null, err);\n        }\n    }\n\n    const filteredValue = applyFilter(filter);\n    \n    return (\n        <recipeContext.Provider value={{ loading, error, data: filteredValue, createRecipe, updateRecipe, deleteRecipe, updateFilter, filter }}>\n            {children}\n        </recipeContext.Provider>\n    )\n}","export const formatDuration = (duration) => {\n    let durationString = '';\n    if(duration?.days > 0) durationString += `${duration.days} days `;\n    if(duration?.hours > 0) durationString += `${duration.hours} hour `;\n    if(duration?.minutes > 0) durationString += `${duration.minutes} minute `;\n    return durationString;\n}\n\nexport const toMinutes = (duration) => {\n    let minutes = 0;\n    if(duration?.minutes > 0) minutes += duration.minutes;\n    if(duration?.hours > 0) minutes += duration.hours * 60;\n    if(duration?.days > 0) minutes += duration.days * 60 * 24;\n    return minutes;\n}","import styled from 'styled-components';\nimport Card from 'react-bootstrap/Card';\nimport { Heart, HeartFill } from 'react-bootstrap-icons';\nimport { useNavigate } from 'react-router';\nimport { formatDuration, toMinutes } from '../utils';\n\nexport default function RecipeCard(props) {\n    const navigate = useNavigate();\n    const { title, description, serves, prepTime, cookTime, totalTime, favorite, id, photo } = props;\n\n    const handleFavoriteClick = (e) => {\n        e.stopPropagation();\n        props.onFavorite(id, favorite);\n    }\n\n    //Assume, for now, that if there is no prep or cook time then only display the total time\n    const showTotal = toMinutes(prepTime) === 0 && toMinutes(cookTime) === 0;\n\n    return (\n        <StyledRecipeCard>\n            <CardBody onClick={() => navigate(`/recipe/${id}`)}>\n                <CardBodyLeft>\n                    <Card.Title className=\"recipe-card-title\">\n                        {title}{\" \"}\n                        <span className=\"favorite-btn\">\n                            {favorite ?\n                                <HeartFill onClick={handleFavoriteClick} /> :\n                                <Heart onClick={handleFavoriteClick} />\n                            }\n                        </span>\n                    </Card.Title>\n                    <Card.Subtitle className=\"recipe-info\">Serves: {serves}</Card.Subtitle>\n                    {toMinutes(prepTime) > 0 &&\n                        <Card.Subtitle className=\"recipe-info\">Prep: {formatDuration(prepTime)}</Card.Subtitle>\n                    }\n                    {toMinutes(cookTime) > 0 &&\n                        <Card.Subtitle className=\"recipe-info\">Cook: {formatDuration(cookTime)}</Card.Subtitle>\n                    }\n                    {showTotal &&\n                        <Card.Subtitle className=\"recipe-info\">Total: {formatDuration(totalTime)}</Card.Subtitle>\n                    }\n                    <Card.Text className=\"recipe-card-text\">\n                        {description}\n                    </Card.Text>\n                </CardBodyLeft>\n                <CardBodyRight>\n                    <Card.Img className=\"recipe-card-img\" src={photo.path ? `/${photo.path}` : \"\"} alt=\"\" />\n                </CardBodyRight>\n            </CardBody>\n        </StyledRecipeCard>\n    )\n}\n\nconst StyledRecipeCard = styled(Card)`\n    height: 15rem;\n    width: 90%;\n    max-width: 30rem;\n    margin: 0;\n    margin-bottom: 0.5rem;\n    background: ${props => props.theme.contrast};\n    overflow: hidden;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2);\n\n    @media (min-width: 768px) {\n        width: 100%;\n        margin: 0.5rem;\n    }\n`\n\nconst CardBody = styled(Card.Body)`\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n`\n\nconst CardBodyLeft = styled.div`\n    text-align: left;\n    flex: 0.5;\n    min-width: 100px;\n    height: 100%;\n\n    .recipe-info {\n        margin: 0.5rem auto;\n        color: grey;\n        font-size: small;\n    }\n\n    .recipe-card-title {\n        font-size: medium;\n        min-height: 3.5rem;\n        \n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        line-clamp: 3; \n    }\n\n    .recipe-card-text {\n        position: absolute;\n        bottom: 0;\n        width: 90%;\n        margin: 1rem auto;\n        font-size: small;\n        \n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        line-clamp: 2; \n    }\n\n    .favorite-btn {\n        color: var(--color-red);\n    }\n\n    @media (min-width: 375px) {\n        .recipe-info {\n            font-size: medium;\n        }\n        .recipe-card-title {\n            font-size: large;\n        }\n    }\n\n    @media (min-width: 425px) {\n        .recipe-card-text {\n            position: relative;\n            width: 100%;\n            margin: 0.5rem auto;\n            \n            -webkit-line-clamp: 3;\n            line-clamp: 3; \n        }\n    }\n`\nconst CardBodyRight = styled.div`\n    text-align: right;\n    flex: 0.5;\n    padding-left: 1rem;\n    padding-bottom: 1rem;\n\n    > img {\n        width: 100%;\n        min-height: 150px;\n        max-height: 12rem;\n        aspect-ratio: 1 / 1;\n        object-fit: cover;\n        object-position: center;\n    }\n`","import styled from \"styled-components\"\nimport { Link } from 'react-router-dom'\nimport RecipeCard from \"../RecipeCard/RecipeCard\";\n\nfunction RecipeCards({ recipes, onFavorite }) {\n    if(!recipes || recipes.length === 0) return (\n        <>\n            <p>You currently have no saved recipes.</p>\n            <p><Link to=\"/new\">Click here</Link> to add a new recipe.</p>\n        </>\n    );\n\n    return (\n        <RecipeCardContainer>\n            {recipes?.map(recipe => (\n                <RecipeCard key={recipe.id} {...recipe} onFavorite={onFavorite} />\n            ))}\n        </RecipeCardContainer>\n    )\n}\n\nexport default RecipeCards\n\nconst RecipeCardContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 0 auto;\n`","import Page from '../Page/Page';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\nimport RecipeCards from '../../components/app/RecipeCards/RecipeCards';\n\nexport default function HomePage() {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    return (\n        <Page>\n            <h1>Home</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && <RecipeCards onFavorite={handleFavorite} recipes={recipes} />}\n        </Page>\n    )   \n}\n","import Page from '../Page/Page';\nimport RecipeCards from '../../components/app/RecipeCards/RecipeCards';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function FavoritesPage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n\n    const favoritedRecipes = recipes && recipes?.filter(recipe => recipe.favorite);\n    \n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    return (\n        <Page>\n            <h1>Favorites</h1>\n            {loading && <p>Loading...</p>}\n            {error && <pre>{JSON.stringify(error.message, null, 2)}</pre>}\n            {!error && !loading && <RecipeCards onFavorite={handleFavorite} recipes={favoritedRecipes || []} />}\n        </Page>\n    )\n}","import styled from 'styled-components';\nimport { HeartFill } from 'react-bootstrap-icons';\n\nfunction Heart() {\n    return (\n        <StyledHeart>\n            <HeartFill className='heart-icon-spinner'/>\n        </StyledHeart>\n    )\n}\n\nexport default Heart;\n\nconst StyledHeart = styled.div`\n    width: 50px;\n\n    .heart-icon-spinner {\n        animation-name: heartbeat;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        color: red;\n    }\n\n    @keyframes heartbeat {\n        from {\n            height: 1rem;\n            width: 1rem;\n        }\n\n        20% {\n            height: 1rem;\n            width: 1rem;\n        }\n\n        80% {\n            height: 1.2rem; \n            width: 1.2rem;\n        }\n\n        to {\n            height: 1.2rem; \n            width: 1.2rem;\n        }\n    }\n`","import styled from 'styled-components';\nimport Button from '../../../input/Button/Button';\nimport Heart from '../../spinners/Heart/Heart';\n\nfunction LoadingHeart({ isLoading, defaultText, loadingText, ...props }) {\n    return (\n        <StyledLoadingHeart disabled={isLoading} {...props}>\n            {isLoading ? \n                <div>\n                    <Heart /> {\" \"}\n                    {loadingText || \"Loading...\"}\n                </div>\n            :\n                defaultText || \"Load\"\n            }\n        </StyledLoadingHeart>\n    )\n}\n\nexport default LoadingHeart\n\nconst StyledLoadingHeart = styled(Button)`\n    > div {\n        display: flex;\n        flex-direction: row;\n        width: 150px;\n        margin: 0;\n        padding: 0;\n    }\n`","import Button from '../Button/Button';\n\nexport default function SelectInput({ children, options, selected, placeholder, ...props }) {\n    return (\n        <Button as=\"select\" defaultValue={selected} {...props} >\n            { placeholder && <option value=\"\">{placeholder}</option>}\n            { options ? options.map(option => (<option key={option} value={option}>{option}</option>)) : children }\n        </Button>\n    )\n}","import styled from 'styled-components';\nimport { Field } from 'formik';\nimport { XSquare } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nexport default function IngredientInput({ index, arrayHelpers }) {\n    return (\n        <StyledIngredientInput>\n            <IngredientInputLeft>\n                <Field\n                    name={`ingredients.${index}.name`} type=\"input\" placeholder={`Ingredient #${index + 1}`}\n                />\n                <Field\n                    name={`ingredients.${index}.quantity`} type=\"number\" placeholder=\"Amount\" min={0} step={0.001}\n                />\n            </IngredientInputLeft>\n            <IngredientInputMiddle>\n                <Field\n                    as={SelectInput} size=\"sm\" options={['small', 'medium', 'large']}\n                    name={`ingredients.${index}.size`} placeholder=\"size\"\n                    variant=\"secondary\"\n                />\n                <Field\n                    as={SelectInput} size=\"sm\" options={[\n                        'teaspoon', 'tablespoon', 'cup',\n                        'ounce', 'pound', 'milligram', 'gram', 'kilogram',\n                        'liter', 'milliliter', 'quart', 'pint', 'gallon',\n                        'pinch', 'piece',\n                        'slice', 'stick', 'clove',\n                        'can', 'box', 'bag', 'package'\n                    ]}\n                    name={`ingredients.${index}.unit`} placeholder=\"unit\"\n                    variant=\"secondary\"\n                />\n            </IngredientInputMiddle>\n            <IngredientInputRight>\n                <XSquare onClick={() => arrayHelpers.remove(index)}/>\n            </IngredientInputRight>\n            <IngredientInputBottom>\n                <Field name={`ingredients.${index}.comment`} type=\"input\" placeholder={\"Additional info\"}/>\n            </IngredientInputBottom>\n        </StyledIngredientInput>\n    )\n}\n\nconst StyledIngredientInput =styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 5px;\n    margin: 0.25rem auto;\n    border: 2px solid ${props => props.theme.main};\n    border-radius: 5px;\n    padding: 0.5rem;\n    background-color: ${props => props.theme.accent};    \n    max-width: 450px;\n    width: 100%;\n`\n\nconst IngredientInputLeft =styled.div`\n    display: flex;\n    flex-direction: column;\n    flex: 0.5;\n    > input {\n        width: 100%;\n        margin: 0.25rem auto;\n    }\n`\nconst IngredientInputMiddle =styled.div`\n    flex: 0.3;\n    > select {\n        width: 100%;\n        margin: 0.25rem auto;\n        height: 30px;\n    }\n`\nconst IngredientInputRight =styled.div`\n    flex: 0.1;\n    > svg {\n        line-height: 1rem;\n        color: var(--color-red)\n    }\n    > svg:hover {\n        cursor: pointer;\n    }\n`\nconst IngredientInputBottom =styled.div`\n    flex-basis: 100%;\n    > input {\n        width: 100%;\n        margin-top: 0.25rem;\n    }\n`","import styled from 'styled-components';\nimport { Field } from 'formik';\nimport { XSquare } from 'react-bootstrap-icons';\n\nexport default function TextareaListInput({ name, index, arrayHelpers, placeholder }) {\n    return (\n        <StyledTextareaListInput>\n            <div>    \n                <Field \n                    name={`${name}.${index}`} as=\"textarea\" placeholder={`${placeholder} #${index+1}`} rows=\"3\"\n                />\n            </div>\n            <div>\n                <XSquare onClick={() => arrayHelpers.remove(index)}/>\n            </div>\n        </StyledTextareaListInput>\n    )\n}\n\nconst StyledTextareaListInput = styled.div`\n    display: flex;\n    justify-content: space-around;\n    gap: 5px;\n    max-width: 450px;\n    width: 100%;\n    padding: 0.5rem;\n    margin: 0.25rem auto;\n\n    > div > svg {\n        color: var(--color-red);\n    }\n\n    > div > svg:hover {\n        cursor: pointer;\n    }\n\n    > div:first-child {\n        flex: 0.9;\n    }\n\n    > div:nth-child(2) {\n        flex: 0.1;\n    }\n\n    @media (min-width: 428px) {\n        width: 90%;\n    }\n\n    @media (min-width: 768px) {\n        width: 80%;\n    }\n\n    > div > textarea {\n        width: 100%;\n    }\n`","import styled from 'styled-components';\n\nexport default function InputContainer({ name, label, children }) {\n    return (\n        <StyledInputContainer numElements={children?.length}>\n            {label && <span>\n                <label htmlFor={name}>{label}</label>{\": \"}\n            </span>}\n            <div>\n                {children}\n            </div>\n        </StyledInputContainer>\n    );\n}\n\nconst StyledInputContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: 0.5rem auto;\n    > span {\n        font-weight: bold;\n        display: flex;\n        justify-content: flex-start;\n    }\n    > div {\n        text-align: left;\n        > input, > select, > textarea {\n            width: 100%;\n        }\n    }\n\n    @media (min-width: 428px) {\n        flex-direction: row;\n        > span {\n            flex: 0.3;\n            justify-content: flex-end;\n        }\n        > div {\n            flex: 1;\n            margin-left: 2rem;\n        }\n    }\n\n    @media (min-width: 1024px) {\n        > span {\n            flex: 0.4;\n        }\n    }\n`\n","import { FieldArray } from 'formik';\nimport Button from '../Button/Button';\nimport styled from 'styled-components';\n\nexport default function InputList({ name, label, listItems, renderItem, initialItemValue, buttonPlacement=\"top left\", buttonText=\"Add\", buttonVariant=\"primary\", renderButton = null }) {\n    return (\n        <FieldArray\n            name={name}\n            render={arrayHelpers => (\n                <StyledInputList buttonPlacement={buttonPlacement}>\n                    {label && <span className=\"label-container\">\n                        <label htmlFor={name}>{label}</label>{\": \"}\n                    </span>}\n                    <div className=\"add-btn-container\">\n                        {renderButton === false ? null :\n                            renderButton ?\n                                renderButton(() => arrayHelpers.push(initialItemValue)) \n                            :\n                                <Button\n                                    type=\"button\"\n                                    size=\"sm\"\n                                    variant={buttonVariant}\n                                    onClick={() => arrayHelpers.push(initialItemValue)}\n                                >\n                                    {buttonText}\n                                </Button>\n                        }\n                    </div>\n                    <ListContainer>\n                        {listItems.map((item, index) => (\n                            renderItem(item, index, arrayHelpers)\n                        ))}\n                    </ListContainer>\n                </StyledInputList>\n            )}\n        />\n    );\n}\n\nconst StyledInputList = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    margin: 0.5rem auto;\n\n    .label-container {\n        display: flex;\n        justify-content: flex-start;\n        font-weight: bold;\n        flex: 0.4;\n        order: 0;\n    }\n    \n    .add-btn-container {\n        flex: 1;\n        text-align: ${({ buttonPlacement }) => (['left', 'center', 'right'].includes(buttonPlacement.split(\" \")[1]) ? buttonPlacement.split(\" \")[1] : \"left\")};\n        order: ${({ buttonPlacement }) => (buttonPlacement.split(\" \")[0] === \"bottom\" ? 3 : 1)};\n    }\n\n    .label-container + .add-btn-container {\n        margin-left: 2rem;\n    }\n\n    @media (min-width: 428px) {\n        .label-container {\n            justify-content: flex-end;\n            flex: 0.3;\n        }\n    }\n\n    @media (min-width: 1024px) {\n        .label-container {\n            flex: 0.4;\n        }\n    }\n`\n\nconst ListContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    flex-basis: 100%;\n    order: 2;\n`","import styled from 'styled-components';\nimport { Field } from 'formik';\nimport { XSquare } from 'react-bootstrap-icons';\nimport { SelectInput } from '..';\n\nexport default function CategoryInput({ index, arrayHelpers }) {\n    return (\n        <StyledCategoryInput>\n            <NameInputContainer>\n                <Field\n                    name={`categories.${index}.name`} type=\"input\" placeholder={`Category #${index + 1}`}\n                />\n            </NameInputContainer>\n            <TypeInputContainer>\n                <Field\n                    as={SelectInput} options={['other', 'flavor', 'meal', 'dish', 'cuisine']}\n                    size=\"sm\"\n                    name={`categories.${index}.type`}\n                    variant=\"secondary\"\n                />\n            </TypeInputContainer>\n            <XSquare onClick={() => arrayHelpers.remove(index)} />\n        </StyledCategoryInput>\n    )\n}\n\nconst StyledCategoryInput = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    gap: 5px;\n    width: 100%;\n    max-width: 450px;\n    margin: 0.25rem auto;\n\n    > svg {\n        flex: 1;\n        color: var(--color-red)\n    }\n\n    > svg:hover {\n        cursor: pointer;\n    }\n\n    @media (min-width: 428px) {\n        justify-content: flex-end;\n        width: 90%;\n    }\n`\n\nconst NameInputContainer = styled.div`\n    flex: 6;\n    > input {\n        width: 100%;\n    }\n`\n\nconst TypeInputContainer = styled.div`\n    flex: 4;\n    > select {\n        width: 100%;\n        max-width: 100px;\n    }\n`","import styled from 'styled-components';\nimport { FieldArray, Field } from 'formik';\n\nexport default function TimeInput({ name, id, ...props }) {\n    return (\n        <FieldArray\n            name={name}\n            render={array => (\n                <StyledTimeInput id={id}>\n                    <StyledField>\n                        <label>Days:</label>\n                        <Field type=\"number\" {...props} value={props.value?.days} name={`${name}.days`} min=\"0\" max=\"30\" step=\"1\" placeholder=\"Days\" />\n                    </StyledField>\n                    <StyledField>\n                        <label>Hours:</label>\n                        <Field type=\"number\" {...props} value={props.value?.hours} name={`${name}.hours`} min=\"0\" max=\"24\" step=\"1\" placeholder=\"Hours\" />\n                    </StyledField>\n                    <StyledField>\n                        <label>Minutes:</label>\n                        <Field type=\"number\" {...props} value={props.value?.minutes} name={`${name}.minutes`} min=\"0\" max=\"480\" step=\"1\" placeholder=\"Minutes\" />\n                    </StyledField>\n                </StyledTimeInput>\n            )}\n        />\n    )\n}\n\nconst StyledField = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    \n    >input {\n        margin-left: 0.25rem;\n        min-width: 4rem;\n        max-width: 5rem;\n    };\n    `\n\nconst StyledTimeInput = styled.div`\n    justify-content: center;\n    display: flex;\n    gap: 0.75rem;\n`","import * as Yup from 'yup';\n\nconst recipeDuration = Yup.object({\n    days: Yup.number(),\n    hours: Yup.number(),\n    minutes: Yup.number(),\n});\n\nconst recipeSchema = Yup.object().shape({\n    title: Yup.string()\n        .min(3, 'Too Short!')\n        .max(96, 'Too Long!')\n        .required('Please provide a title.'),\n    description: Yup.string().required(\"Please provide a description.\"),\n    prepTime: recipeDuration, cookTime: recipeDuration, totalTime: recipeDuration,\n    ingredients: Yup.array().min(1, \"Please provide the ingredients list.\"),\n    instructions: Yup.array().min(1, \"Please provide the instructions list\").required(\"Please provide the instructions list.\"),\n    comments: Yup.array(),\n});\n\nexport default recipeSchema;","import React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Inputs from '../../input';\nimport recipeSchema from '../../../utility/validationSchema/recipeSchema';\n\nimport LoadingHeart from '../../display/buttons/LoadingHeart/LoadingHeart';\nimport styled from 'styled-components';\n\nexport default function NewRecipeForm({ onSubmit, initialValues, isImporting }) {\n    //This state is used when the user selects an image file from device\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [selectedImage, setSelectedImage] = useState(null);\n\n    //When a file is selected, convert file to dataurl for display\n    useEffect(() => {\n        const fileReader = new FileReader();\n        const handleShowImage = (evt) => {\n            setSelectedImage(evt.target.result);\n        }\n        fileReader.addEventListener(\"load\", handleShowImage, false);\n\n        if (selectedFile) fileReader.readAsDataURL(selectedFile);\n        else setSelectedImage(null);\n\n        return () => fileReader.removeEventListener(\"load\", handleShowImage);\n    }, [selectedFile]);\n\n    const handleRemoveImage = (setFieldValue) => {\n        setFieldValue('photo', null);\n        setSelectedFile(null);\n    }\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            enableReinitialize={true}\n            onSubmit={(values, { setSubmitting }) => {\n                const formData = new FormData();\n                formData.append(\"title\", values.title);\n                formData.append(\"description\", values.description);\n                formData.append(\"serves\", values.serves ?? 1);\n                formData.append(\"prepTime\", JSON.stringify(values.prepTime));\n                formData.append(\"cookTime\", JSON.stringify(values.cookTime));\n                formData.append(\"totalTime\", JSON.stringify(values.totalTime));\n                formData.append(\"ingredients\", JSON.stringify(values.ingredients));\n                formData.append(\"instructions\", JSON.stringify(values.instructions));\n                formData.append(\"comments\", JSON.stringify(values.comments));\n                formData.append(\"categories\", JSON.stringify(values.categories));\n                formData.append(\"photo\", (values.photo?.url ?? values.photo) || \"\");\n                setSubmitting(true);\n                onSubmit(formData, () => {\n                    setSubmitting(false);\n                });\n            }}\n            validationSchema={recipeSchema}\n        >\n            {({ isSubmitting, values, setFieldValue }) => (\n                <StyledNewRecipeForm>\n                    <StyledLoadingHeart\n                        type=\"submit\"\n                        variant=\"secondary\"\n                        isLoading={isSubmitting}\n                        disabled={isSubmitting || isImporting}\n                        defaultText=\"Submit\" loadingText=\"Submitting...\" \n                    />\n                    <Inputs.InputContainer name=\"title\" label=\"Title\">\n                        <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" className=\"title-input\" />\n                    </Inputs.InputContainer>\n                    <FormError name=\"title\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"description\" label=\"Description\">\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" className=\"description-input\" />\n                    </Inputs.InputContainer>\n                    <FormError name=\"description\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"prepTime\" label=\"Prep Time\">\n                        <Field as={Inputs.TimeInput} name=\"prepTime\" id=\"time-input\"/>\n                    </Inputs.InputContainer>\n                    <FormError name=\"prepTime\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"cookTime\" label=\"Cook Time\">\n                        <Field as={Inputs.TimeInput} name=\"cookTime\" id=\"time-input\" />\n                    </Inputs.InputContainer>\n                    <FormError name=\"cookTime\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"totalTime\" label=\"Total Time\">\n                        <Field as={Inputs.TimeInput} name=\"totalTime\" id=\"time-input\" />\n                    </Inputs.InputContainer>\n                    <FormError name=\"totalTime\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputContainer name=\"serves\" label=\"Serves\">\n                        <Field name=\"serves\" placeholder=\"Serves\" type=\"number\" min={1} className=\"serving-input\" />\n                    </Inputs.InputContainer>\n                    <FormError name=\"serves\" component=\"div\" className=\"form-error-message\" />\n\n                    {values.photo && <ImageContainer>\n                        <span onClick={() => handleRemoveImage(setFieldValue)}>&times;</span>\n                        {<StyledImage src={values.photo && typeof values.photo === \"string\" ? values.photo : (values.photo?.url && typeof values.photo?.url === \"string\" ? values.photo.url : selectedImage)} alt=\"\" />}\n                    </ImageContainer>}\n\n                    <Inputs.InputContainer name=\"photo\" label=\"Image\">\n                        <Field\n                            type=\"file\"\n                            name=\"photo\"\n                            value={undefined}\n                            onChange={e => {\n                                const file = e.target.files[0];\n                                setFieldValue('photo', file);\n                                setSelectedFile(file);\n                            }}\n                        />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputList\n                        name=\"categories\" label=\"Categories\"\n                        listItems={values.categories}\n                        initialItemValue={{ name: \"\", type: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <FormError name=\"categories\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"ingredients\" label=\"Ingredients\"\n                        listItems={values.ingredients}\n                        initialItemValue={{ name: \"\", quantity: \"\", unit: \"\", size: \"\", comment: \"\" }}\n                        renderItem={(item, index, arrayHelpers) => <Inputs.IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                    />\n                    <FormError name=\"ingredients\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"instructions\" label=\"Instructions\"\n                        listItems={values.instructions}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`instruction-${index}`}\n                                name=\"instructions\"\n                                placeholder=\"Instruction\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n                    <FormError name=\"instructions\" component=\"div\" className=\"form-error-message\" />\n\n                    <Inputs.InputList\n                        name=\"comments\" label=\"Comments\"\n                        listItems={values.comments}\n                        initialItemValue=\"\"\n                        renderItem={(item, index, arrayHelpers) => (\n                            <Inputs.TextareaListInput\n                                key={`comment-${index}`}\n                                name=\"comments\"\n                                placeholder=\"Comment\"\n                                item={item} index={index} arrayHelpers={arrayHelpers}\n                            />\n                        )}\n                    />\n\n                    <StyledLoadingHeart\n                        type=\"submit\"\n                        variant=\"secondary\"\n                        isLoading={isSubmitting}\n                        disabled={isSubmitting || isImporting}\n                        defaultText=\"Submit\" loadingText=\"Submitting...\" \n                    />\n                </StyledNewRecipeForm>\n            )}\n        </Formik>\n    )\n}\n\nconst StyledLoadingHeart = styled(LoadingHeart)``;\n\nconst ImageContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    span {\n        color: red;\n        position: absolute;\n        right: 10px;\n    }\n    span:hover {\n        cursor: pointer;\n    }\n`\n\nconst StyledImage = styled.img`\n    width: 100%;\n    min-height: 150px;\n    max-height: 12rem;\n    aspect-ratio: 1 / 1;\n    object-fit: cover;\n    object-position: center;\n    border-radius: 5px;\n    border: 2px solid ${(props) => props.theme.main};\n    margin: 0 auto;\n`\n\nconst StyledNewRecipeForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 0 auto;\n    width: 100%;\n\n    >:nth-child(n) {\n        width: 100%;\n    }\n\n    .title-input, .description-input {\n        max-width: 500px;\n    }\n    .serving-input {\n        max-width: 350px;\n    }\n\n    @media (min-width: 428px) {\n        width: 95%; \n\n        #time-input {\n            justify-content: flex-start;\n        }\n\n        ${StyledImage} {\n            margin: 0;\n            margin-left: auto;\n            width: 70%;\n        }\n    }\n\n    @media (min-width: 768px) {\n        width: 90%; \n    }\n\n    @media (min-width: 1024px) {\n        width: 70%;\n    }\n\n    ${StyledLoadingHeart} {\n        margin: 0.25rem auto;\n        width: initial;\n    }\n`\nconst FormError = styled(ErrorMessage)`\n    color: red;\n`","import { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router';\nimport Page from '../Page/Page';\nimport Button from '../../components/input/Button/Button';\nimport LoadingHeart from '../../components/display/buttons/LoadingHeart/LoadingHeart';\nimport NewRecipeForm from '../../components/form/NewRecipeForm/NewRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\nimport { useAppContext } from '../../contexts/AppContext/AppContext';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport useResource from '../../hooks/useResource';\n\nconst initialValues = {\n    title: \"\",\n    description: \"\",\n    serves: 0,\n    prepTime: { days: 0, hours: 0, minutes: 0},\n    cookTime: { days: 0, hours: 0, minutes: 0},\n    totalTime: { days: 0, hours: 0, minutes: 0},\n    ingredients: [],\n    instructions: [],\n    comments: [],\n    categories: [],\n    photo: null\n}\n\nexport default function NewRecipePage(props) {\n    const auth = useAuth();\n    const [importUrl, setImportUrl] = useState(null);\n    const { loading: importing, error, value: importedRecipe } = useResource(\n        importUrl || \"\",\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [importUrl]\n    );\n    const { setDialog, showDialog, hideDialog } = useAppContext();\n    const { createRecipe } = useRecipeContext();\n    const navigate = useNavigate();\n\n    const showErrorDialog = useCallback((err) => {\n        setDialog({\n            title: \"Error\",\n            text: err?.response?.data,\n            footer: <Button onClick={hideDialog}>OK</Button>\n        });\n        showDialog();\n    }, [setDialog, showDialog, hideDialog]);\n\n    useEffect(() => {\n        if(error) showErrorDialog(error);\n    }, [error, showErrorDialog]);\n\n    const handleCreateRecipe = (recipeInfo, callback) => {\n        createRecipe(recipeInfo, (recipe, err) => {\n            if (err) {\n                showErrorDialog(err)\n                return callback();\n            }\n            callback();\n            navigate('/');\n        });\n    }\n\n    const handleImport = (e) => {\n        e.preventDefault();\n        setImportUrl(`/api/recipes/import?importUrl=${e.target.lastChild.value}`);\n        hideDialog();\n    }\n\n    const handleImportClick = () => {\n        setDialog({\n            title: \"Import Recipe\",\n            text: \"Please enter the URL for the webpage containing the recipe you want to import.\",\n            body: (\n                <form onSubmit={handleImport} id=\"import-form\">\n                    <input type=\"text\" />\n                </form>\n            ),\n            footer: (\n                <>\n                    <Button variant=\"secondary\" onClick={() => hideDialog()}>Cancel</Button>\n                    <Button type=\"submit\" form=\"import-form\">Import</Button>\n                </>\n            )\n        });\n        showDialog();\n    }\n\n    return (\n        <Page>\n            <StyledHeader>\n                <h1>New Recipe</h1>\n                <LoadingHeart\n                    id=\"import-btn\"\n                    isLoading={importing}\n                    defaultText=\"Import\"\n                    loadingText=\"Importing...\"\n                    onClick={handleImportClick} \n                />\n            </StyledHeader>\n            <NewRecipeForm \n                onSubmit={handleCreateRecipe} \n                initialValues={{ ...initialValues, ...importedRecipe }} \n                isImporting={importing} \n                error={error} \n            />\n        </Page>\n    );\n}\n\nconst StyledHeader = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 2rem;\n\n    & #import-btn {\n        max-height: 2.25rem;\n    }\n`","import React from 'react';\nimport Button from '../../components/input/Button/Button'\nimport Page from '../Page/Page';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { useAppContext } from '../../contexts/AppContext/AppContext';\nimport { useNavigate } from 'react-router-dom';\nimport { SelectInput } from '../../components/input';\n\nexport default function SettingsPage(props) {\n    const navigate = useNavigate();\n    const { user, logout } = useAuth();\n    const { updateTheme } = useAppContext();\n\n    const handleLogout = () => {\n        logout();\n        navigate('/login');\n    }\n    \n    return (\n        <Page>\n            <h1>Account</h1>\n            <h2>Details</h2>\n            <p>Username: {user?.userName}</p>\n            <hr/>\n            <h2>Settings</h2>\n            <label>Theme:&nbsp;&nbsp;</label>\n            <SelectInput options={['dark', 'red', 'light', 'pink']} selected={user.theme} onChange={e => updateTheme(e.target.value)}/>\n            <hr/>\n            <Button onClick={handleLogout} variant=\"secondary\">Log Out</Button>\n        </Page>\n    );\n}   ","import styled from 'styled-components';\n\nfunction List({ \n    heading,\n    listItems,\n    renderItem,\n    listStyle,\n    type = \"ul\",\n    direction = \"vertical\"\n}) {\n    const listItemComponents = listItems && listItems.map((item, index) => (\n        <li key={index}>{typeof renderItem === \"function\" ? renderItem(item) : item}</li>\n    ));\n\n    const style = {\n        ...listStyle,\n        display: \"flex\",\n        flexDirection: `${direction === \"horizontal\" ? \"row\" : \"column\"}`\n    }\n\n    return (\n        <StyledList>\n            <h3>{heading}</h3>\n            {(listItems && listItems.length > 0) ?\n                (type === \"ul\") ?\n                    <ul style={style}>\n                        {listItemComponents}\n                    </ul> :\n                    <ol style={style}>\n                        {listItemComponents}\n                    </ol>\n                :\n                <p>This list is currently empty</p>\n            }\n        </StyledList>\n    )\n}\n\nexport default List;\n\nconst StyledList = styled.div`\n    > h3, > ul, > ol {\n        text-align: left;\n    }\n\n    > ul, > ol {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n    }\n`","import styled from 'styled-components';\n\nconst quantityFractionMap = {\n    '0.125':  \"1/8\",\n    '0.250':  \"1/4\",\n    '0.330':  \"1/3\",\n    '0.375':  \"3/8\",\n    '0.500':  \"1/2\",\n    '0.625':  \"5/8\",\n    '0.660':  \"2/3\",\n    '0.750':  \"3/4\",\n    '0.875':  \"7/8\",\n}\n\nfunction IngredientDisplay({ ingredient }) {\n    const { name, quantity, unit, size, comment } = ingredient;\n\n    const formatQuantity = (quantity) => {\n        if(!quantity) return \"\";\n        if(Number(quantity) % 1 === 0) return `${quantity} `;\n\n        return `${Math.floor(quantity) > 0 ? Math.floor(quantity) + \" \" : \"\"}${quantityFractionMap[parseFloat(quantity % 1).toFixed(3)]} `;\n    }\n    \n    const formatUnit = () => {\n        if(!unit) return \"\";\n        if(Number(quantity) > 1) return `${unit}s `\n        return `${unit} `;\n    }\n    const formatName = () => name.trim();\n    const formatSize = () => size ? `, ${size} ` : \" \";\n    const formatComment = () => comment ? `(${comment.replace(/(\\d+)\\.(\\d+)/, (match) => formatQuantity(match))})` : \"\";\n\n    return (\n        <StyledIngredientDisplay>\n            <span id=\"display-quantity\">{formatQuantity(quantity)}</span>\n            <span id=\"display-unit\">{formatUnit()}</span>\n            <span id=\"display-name\">{formatName()}</span>\n            <span id=\"display-size\">{formatSize()}</span>\n            <span id=\"display-comment\">{formatComment()}</span>\n        </StyledIngredientDisplay>\n    )\n}\n\nconst StyledIngredientDisplay = styled.div`\n    width: 100%;\n    text-align: left;\n    margin-bottom: 0.5rem;\n\n    #display-quantity, #display-unit {\n        font-weight: 500;\n    }\n\n    #display-name, #display-size, #display-comment {\n        font-style: italic;\n    }\n\n    #display-comment {\n        color: #6f6f6f;\n    }\n\n`\n\nexport default IngredientDisplay;","import styled from 'styled-components';\nimport { useNavigate } from 'react-router';\nimport { Badge } from 'react-bootstrap';\nimport { Heart, HeartFill, Trash, PencilSquare } from 'react-bootstrap-icons';\nimport Button from '../../input/Button/Button';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\nimport List from '../../display/List/List';\nimport { formatDuration, toMinutes } from '../utils';\nimport IngredientDisplay from '../IngredientDisplay/IngredientDisplay';\n\nexport default function RecipeDetails({ recipe, onFavorite, onDelete }) {\n    const navigate = useNavigate();\n    const { setDialog, showDialog, hideDialog } = useAppContext();\n    const { id, title, description, ingredients, instructions, comments, categories, serves, prepTime, cookTime, totalTime, photo, favorite } = recipe;\n    \n    const handleFavoriteClick = () => onFavorite(id, favorite);\n\n    const handleDeleteClick = () => {\n        setDialog({\n            title: \"Delete Recipe\",\n            text: \"You are about to delete this recipe. This action cannot be undone. Are you sure you would like to delete this recipe?\",\n            footer: (\n                <>\n                    <Button variant=\"secondary\" onClick={() => hideDialog()}>Cancel</Button>\n                    <Button onClick={() => onDelete(id, () => hideDialog())}>Delete</Button>\n                </>\n            )\n        });\n        showDialog();\n    }\n\n    const handleEditClick = () => {\n        navigate(`/recipe/${id}/edit`);\n    }\n\n    return (\n        <StyledRecipeDetails>\n            <RecipeDetailsTop>\n                <div>\n                    <h1>{title}</h1>\n                    {favorite ?\n                        <HeartFill onClick={handleFavoriteClick} /> :\n                        <Heart onClick={handleFavoriteClick} />\n                    }\n                </div>\n                <div>\n                    <PencilSquare onClick={handleEditClick} />\n                    <Trash onClick={handleDeleteClick} />\n                </div>\n            </RecipeDetailsTop>\n\n            <RecipeDetailsMiddle>\n                <RecipeImage src={photo.path ? `/${photo.path}` : \"\"} alt=\"\" />\n                <div>\n                    <p>\n                        <label>Serves:&nbsp;</label>\n                        {serves}\n                    </p>\n                    {toMinutes(prepTime) > 0 &&\n                        <p>\n                            <label>Prep&nbsp;Time:&nbsp;</label>\n                            {formatDuration(prepTime)}\n                        </p>\n                    }\n                    {toMinutes(cookTime) > 0 &&\n                        <p>\n                            <label>Cook&nbsp;Time:&nbsp;</label>\n                            {formatDuration(cookTime)}\n                        </p>\n                    }\n                    {toMinutes(totalTime) > 0 &&\n                        <p>\n                            <label>Total&nbsp;Time:&nbsp;</label>\n                            {formatDuration(totalTime)}\n                        </p>\n                    }\n                </div>\n                <p>{description}</p>\n            </RecipeDetailsMiddle>\n\n            <RecipeDetailsBottom>\n                {categories &&\n                    <List\n                        type=\"ul\"\n                        heading=\"Categories\"\n                        listStyle={{ listStyleType: \"none\", padding: \"0\", margin: \"0 0 5px 0\" }}\n                        direction=\"horizontal\"\n                        listItems={categories}\n                        renderItem={(category) => <Badge className=\"m-1\">{category.name}</Badge>}\n                    />\n                }   \n\n                <List\n                    type=\"ul\"\n                    heading=\"Ingredients\"\n                    listItems={ingredients}\n                    renderItem={(ingredient) => <IngredientDisplay ingredient={ingredient} />}\n                />\n\n                <List\n                    type=\"ol\"\n                    heading=\"Instructions\"\n                    listItems={instructions}\n                />\n\n                {comments &&\n                    <List\n                        heading=\"Additional Comments\"\n                        listItems={comments}\n                    />\n                }\n            </RecipeDetailsBottom>\n        </StyledRecipeDetails>\n    )\n}\n\nconst StyledRecipeDetails = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: 1rem auto;\n`\n\nconst RecipeDetailsTop = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end; \n        align-items: flex-start;\n        margin-right: 1rem;\n        gap: 1rem;\n\n        > svg {\n            min-height: 1.5rem;\n            min-width: 1.5rem;\n        }\n\n        > svg:hover {\n            cursor: pointer;\n        }\n    }\n\n    > div:first-child {\n        > svg {\n            color: var(--color-red);\n        }\n    }\n    \n    @media (min-width: 428px) {\n        > div:first-child {\n            flex: 0.8;\n        }   \n    }\n`\n\nconst RecipeDetailsMiddle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        flex-wrap: wrap;\n        width: 100%;\n        \n        > p {\n            flex: 1;\n            margin: 0.25rem;\n            padding: 0.125rem;\n            border: 2px solid ${props => props.theme.main};\n            border-radius: 5px;\n            font-weight: 200;\n            background-color: ${props => props.theme.contrast};\n\n            > label {\n                font-weight: 400;\n                display: inline;\n            }\n        }\n    }\n\n    > p {\n        text-align: left;\n        padding: 0.5rem;\n        order: 3;\n    }\n`\n\nconst RecipeImage = styled.img`\n    width: 100%;\n    min-height: 150px;\n    max-height: 12rem;\n    aspect-ratio: 1 / 1;\n    object-fit: cover;\n    object-position: center;\n    border-radius: 5px;\n    margin: 0.25rem;\n    border: 2px solid ${props => props.theme.main};\n`\n\nconst RecipeDetailsBottom = styled.div`\n    & ol > li::marker {\n        font-weight: 700;\n    }\n\n`","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport RecipeDetails from '../../components/app/RecipeDetails/RecipeDetails';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function RecipePage(props) {\n    const { data: recipes, updateRecipe, deleteRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleFavorite = (recipeId, isFavorite) => {\n        updateRecipe(recipeId, { favorite: !isFavorite });\n    }\n\n    const handleDelete = (recipeId, callback) => {\n        deleteRecipe(recipeId, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <RecipeDetails recipe={recipe} onFavorite={handleFavorite} onDelete={handleDelete} />}\n        </Page>\n    )\n}","import styled from 'styled-components';\nimport { useNavigate } from 'react-router';\nimport { Save, XSquare } from 'react-bootstrap-icons';\n\nimport { Formik, Form, Field } from 'formik';\nimport { TimeInput, InputList, IngredientInput, TextareaListInput, CategoryInput } from '../../input';\n\nexport default function EditRecipeForm({ recipe, onEdit }) {\n    const navigate = useNavigate();\n    const { id, favorite, ...initialValues } = recipe;\n\n    const handleCancel = () => {\n        navigate(-1);\n    }\n\n    const handleSubmit = (values) => {\n        //Convert ingredients array to object before submitting\n        //TODO: This would best be done within context to keep business logic seperate from components.\n        //however we need initial values for ingredients and categories to determine if any have been removed\n        const ingredientsObject = {};\n        const categoriesObject = {};\n\n        //Look thru initialValues.ingredients to determine which ingredients have been removed\n        for (let ingredient of initialValues.ingredients) {\n            //If ingredient is removed set to null\n            if (values.ingredients.findIndex(ing => ing.id === ingredient.id) === -1) {\n                ingredientsObject[ingredient.name] = null;\n            }\n        }\n\n        for (let ingredient of values.ingredients) {\n            if (ingredient.id) delete ingredient.id;\n            const { name, ...ingredientValues } = ingredient;\n            ingredientsObject[name] = ingredientValues;\n        }\n\n        //Look thru initialValues.categories to determine which categories have been removed\n        for (let category of initialValues.categories) {\n            //If category is removed set to null\n            if (values.categories.findIndex(cat => cat.name === category.name) === -1) {\n                categoriesObject[category.name] = null;\n            }\n        }\n\n        for (let category of values.categories) {\n            if (category.id) delete category.id;\n            const { name, type } = category;\n            categoriesObject[name] = { type };\n        }\n\n        onEdit(id, { ...values, ingredients: ingredientsObject, categories: categoriesObject }, () => navigate(-1));\n    }\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n        >\n            {({ isSubmitting, values, handleSubmit }) => (\n                <StyledEditRecipeForm>\n                    <EditRecipeFormTop>\n                        <div>\n                            <Field name=\"title\" placeholder=\"Recipe Title\" type=\"input\" />\n                        </div>\n                        <div>\n                            <Save onClick={isSubmitting ? null : handleSubmit} />\n                            <XSquare onClick={handleCancel} />\n                        </div>\n                    </EditRecipeFormTop>\n\n                    <EditRecipeFormMiddle>\n                        <img src={values.photo.path ? `/${values.photo.path}` : \"\"} alt=\"\" />\n                        <div>\n                            <p>\n                                <label>Serves:&nbsp;</label>\n                                <Field name=\"serves\" placeholder=\"Serves\" type=\"number\" min={1} />\n                            </p>\n                            <p>\n                                <label>Prep&nbsp;Time:&nbsp;</label>\n                                <Field as={TimeInput} name=\"prepTime\" />\n                            </p>\n                            <p>\n                                <label>Cook&nbsp;Time:&nbsp;</label>\n                                <Field as={TimeInput} name=\"cookTime\" />\n                            </p>\n                            <p>\n                                <label>Total&nbsp;Time:&nbsp;</label>\n                                <Field as={TimeInput} name=\"totalTime\" />\n                            </p>\n                        </div>\n                        <Field name=\"description\" placeholder=\"Recipe Description\" as=\"textarea\" rows=\"4\" />\n                    </EditRecipeFormMiddle>\n\n                    <EditRecipeFormBottom>\n                        <InputList\n                            name=\"categories\" label=\"Categories\"\n                            listItems={values.categories}\n                            initialItemValue={{ name: \"\", type: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <CategoryInput key={`category-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n\n                        <InputList\n                            name=\"ingredients\" label=\"Ingredients\"\n                            listItems={values.ingredients}\n                            initialItemValue={{ name: \"\", quantity: \"\", unit: \"\", size: \"\", comment: \"\" }}\n                            renderItem={(item, index, arrayHelpers) => <IngredientInput key={`ingredient-${index}`} item={item} index={index} arrayHelpers={arrayHelpers} />}\n                        />\n\n                        <InputList\n                            name=\"instructions\" label=\"Instructions\"\n                            listItems={values.instructions}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`instruction-${index}`}\n                                    name=\"instructions\"\n                                    placeholder=\"Instruction\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n\n                        <InputList\n                            name=\"comments\" label=\"Comments\"\n                            listItems={values.comments || []}\n                            initialItemValue=\"\"\n                            renderItem={(item, index, arrayHelpers) => (\n                                <TextareaListInput\n                                    key={`comment-${index}`}\n                                    name=\"comments\"\n                                    placeholder=\"Comment\"\n                                    item={item} index={index} arrayHelpers={arrayHelpers}\n                                />\n                            )}\n                        />\n                    </EditRecipeFormBottom>\n                </StyledEditRecipeForm>\n            )}\n        </Formik>\n    )\n}\n\nconst StyledEditRecipeForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    margin: 1rem auto;\n`\n\nconst EditRecipeFormTop = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end; \n        align-items: flex-start;\n        margin-right: 1rem;\n        gap: 1rem;\n\n        > input {\n            width: 100%;\n        }\n\n        > svg {\n            min-height: 1.5rem;\n            min-width: 1.5rem;\n        }\n\n        > svg:hover {\n            cursor: pointer;\n        }\n\n        > svg:first-child {\n            color: green;\n        }\n\n        > svg:last-child {\n            color: var(--color-red);\n        }\n    }\n    \n    @media (min-width: 428px) {\n        > div:first-child {\n            flex: 0.7;\n        }   \n    }\n`\n\nconst EditRecipeFormMiddle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    input, select {\n        width: 80%;\n    }\n\n    textarea {\n        width: 95%;\n        margin: 0.25rem auto;\n    }\n\n    > img {\n        width: 100%;\n        min-height: 150px;\n        max-height: 12rem;\n        aspect-ratio: 1 / 1;\n        object-fit: cover;\n        object-position: center;\n        border-radius: 5px;\n        margin: 0.25rem;\n        border: 2px solid ${props => props.theme.main};\n    }\n\n    > div {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        flex-wrap: wrap;\n        width: 100%;\n        \n        > p {\n            flex: 1;\n            margin: 0.25rem;\n            padding: 0.25rem;\n            border: 2px solid ${props => props.theme.main};\n            border-radius: 5px;\n            font-weight: 200;\n            background-color: ${props => props.theme.contrast};\n\n            > label {\n                font-weight: 400;\n                display: inline;\n            }\n        }\n    }\n`\nconst EditRecipeFormBottom = styled.div`\n\n`","import React from 'react';\nimport { Navigate, useParams } from 'react-router';\nimport Page from '../Page/Page';\nimport EditRecipeForm from '../../components/form/EditRecipeForm/EditRecipeForm';\nimport { useRecipeContext } from '../../contexts/RecipeContext/RecipeContext';\n\nexport default function EditRecipePage(props) {\n    const { data: recipes, updateRecipe, loading, error } = useRecipeContext();\n    const { recipeId } = useParams();\n\n    const recipe = recipes && recipes?.find(rec => rec.id === Number(recipeId));\n\n    const handleEdit = (recipeId, newValues, callback) => {\n        updateRecipe(recipeId, newValues, callback);\n    }\n\n    if(!recipe) {\n        return <Navigate replace to=\"/\" />\n    }\n\n    return (\n        <Page>\n            {loading && <div>Loading...</div>}\n            {error && <pre>{JSON.stringify(error, null, 2)}</pre>}\n            {!loading && !error && <EditRecipeForm recipe={recipe} onEdit={handleEdit} />}\n        </Page>\n    )\n}","import { Formik, Field, Form } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport * as Inputs from '../../input';\n\nfunction LoginForm({ onSubmit, ...props }) {\n    return (\n        <Formik\n            initialValues={{ userName: \"\", password: \"\" }}\n            onSubmit={(values, { setSubmitting }) => {\n                setSubmitting(true);\n                onSubmit(values, () => setSubmitting(false));\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form>\n                    <Inputs.InputContainer name=\"userName\" label=\"Username\">\n                        <Field name=\"userName\" type=\"input\" placeholder=\"Enter your username\" />\n                    </Inputs.InputContainer>\n\n                    <Inputs.InputContainer name=\"password\" label=\"Password\">\n                        <Field name=\"password\" type=\"password\" placeholder=\"Enter your password\" autoComplete=\"off\"/>\n                    </Inputs.InputContainer>\n\n                    {props.error && <div className=\"form-error\">{props.error}</div>}\n\n                    <Button type=\"submit\" variant=\"secondary\" disabled={isSubmitting}>\n                        Submit\n                    </Button>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default LoginForm;","import styled from 'styled-components';\nimport { Navigate } from 'react-router-dom';\n\nimport Page from '../Page/Page';\nimport LoginForm from '../../components/form/LoginForm/LoginForm';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\n\nexport default function LoginPage(props) {\n    const auth = useAuth();\n    \n    const handleLogin = async (credentials, callback) => {\n        await auth.login(credentials);\n        callback();\n    }\n\n    const handleGuestLogin = async (e) => {\n        e.preventDefault();\n        await auth.guestLogin();\n    }\n\n    if(!auth.loading && auth.user) return <Navigate to=\"/\" />\n\n    return (\n        <LoginPageContainer>\n            <h1>Log In</h1>\n            {auth.loading ?\n                <p>Loading...</p> :\n                <>\n                    <LoginForm onSubmit={handleLogin} error={auth.error?.response?.data}/>\n                    <p>Don't have an account? <LinkButton onClick={handleGuestLogin}>Click here</LinkButton> to login as a guest user!</p>\n                </>\n            }\n        </LoginPageContainer>\n    )\n}\n\nconst LinkButton = styled.button`\n    margin: 0;\n    padding: 0;\n    border: none;\n    background: none;\n    color: blue;\n\n    :hover, :active {\n        color: darkblue;\n    }\n`\n\nconst LoginPageContainer = styled(Page)`\n    max-width: 800px;\n    padding: 2rem;\n\n    > h1 {\n        margin-top: 4rem;\n    }\n\n    @media (min-width: 768px) {\n        width: 90%;\n    }\n\n`","import { useState, useCallback, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field } from 'formik';\nimport InputList from '../../input/InputList/InputList';\nimport { XSquare } from 'react-bootstrap-icons';\nimport Button from '../../input/Button/Button';\n\nfunction GroceryListForm({\n    groceryItems,\n    onItemAdd,\n    onItemCheck,\n    onItemEdit,\n    onItemRemove\n}) {\n    const [editing, setEditing] = useState({ id: null, original: null });\n    const inputRef = useRef(null);\n    const buttonRef = useRef(null);\n\n    const handleFieldBlur = useCallback(async (e) => {\n        const id = e.target.id;\n        const value = e.target.value;\n        if(editing.id) {\n            onItemEdit && value !== editing.original && await onItemEdit(Number(id), value)\n            setEditing({ id: null, original: null });\n            return;\n        }\n        if(value.trim() === \"\") return;\n\n        onItemAdd && await onItemAdd(value,  () => {\n            buttonRef.current.disabled = false;\n            buttonRef.current.click();\n        });\n\n    }, [editing, onItemAdd, onItemEdit]);\n\n    const handleSubmit = useCallback(async values => {\n        if(buttonRef.current.disabled) return;\n        buttonRef.current.disabled = true;\n\n        inputRef.current && inputRef.current.removeEventListener('blur', handleFieldBlur);\n\n        if(editing.id) {\n            const editedItem = values.items.find(item => item.id === editing.id);\n            onItemEdit && editedItem.name !== editing.original && onItemEdit(editedItem.id, editedItem.name);\n            setEditing({ id: null, original: null });\n            buttonRef.current.disabled = false;\n            return;\n        }\n        const newItem = values.items.find(item => !item.id);\n        if(!newItem) return;\n        onItemAdd && await onItemAdd(newItem.name, () => {\n            buttonRef.current.disabled = false;\n            buttonRef.current.click();\n        });\n    }, [editing, onItemAdd, onItemEdit, handleFieldBlur]);\n\n    useEffect(() => {\n        if(inputRef.current) {\n            inputRef.current.addEventListener('blur', handleFieldBlur);\n            inputRef.current.focus();\n            return () => inputRef.current && inputRef.current.removeEventListener('blur', handleFieldBlur);\n        }\n    }, [editing, handleFieldBlur]);\n    \n    const handleNewItem = async (addNewItem) => {\n        if(!inputRef.current) {\n            addNewItem();\n            setTimeout(() => inputRef.current?.focus(), 50);\n            setEditing({ id: null, original: null });\n            return;\n        }\n    }\n\n    const handleItemRemove = async (itemId) => {\n        onItemRemove && await onItemRemove(itemId);\n        if(buttonRef.current) buttonRef.current.disabled = false;\n    }\n\n    const handleEditing = (itemId, originalValue) => {\n        setEditing({ id: itemId, original: originalValue });\n    }\n\n    return (\n        <Formik\n            initialValues={{ items: groceryItems || [] }}\n            enableReinitialize={true}\n            onSubmit={handleSubmit}\n        >{({ values }) => (\n            <Form>\n                <InputList\n                    name=\"items\"\n                    listItems={values.items}\n                    initialItemValue={{ complete: false, name: \"\", id: null }}\n                    renderItem={(item, index, arrayHelpers) => (\n                        <GroceryListItem key={item.id || `new-${index}`} id={item.id}>\n                            <Field name={`items.${index}.complete`} type=\"checkbox\" onClick={e => onItemCheck(item.id, item.complete)} disabled={!item.id} />\n                            {editing.id !== item.id ?\n                                <div onClick={() => handleEditing(item.id, item.name)}>{item.name}</div>\n                                :\n                                <Field innerRef={input => { inputRef.current = input; }} id={item.id} name={`items.${index}.name`} type=\"input\" placeholder={`Item #${index + 1}`} />\n                            }\n                            <XSquare onClick={() => { handleItemRemove(item.id); arrayHelpers.remove(index); } } />\n                        </GroceryListItem>\n                    )}\n                    buttonPlacement=\"bottom center\"\n                    renderButton={addNewItem => (\n                        <Button ref={button => buttonRef.current = button} variant=\"secondary\" type=\"button\" onClick={() => handleNewItem(addNewItem)}>Add Grocery Item</Button>\n                    )}\n                />\n            </Form>\n        )}</Formik>\n    )\n}\n\nexport default GroceryListForm\n\nconst GroceryListItem = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0.5rem auto;\n    gap: 10px;\n\n    >:nth-child(2) {\n        width: 10rem;\n        text-align: left;\n    }\n\n    > input:first-child {\n        flex: 1;\n        height: 2rem;\n    }\n\n    > input:first-child:hover {\n        cursor: pointer;\n    }\n\n    >input:nth-child(2) {\n        flex: 10;\n    }\n\n    > svg {\n        color: var(--color-red);\n        font-size: 2rem;\n    }\n    \n    > svg:hover {\n        cursor: pointer;\n    }\n`","import axios from 'axios';\n\nfunction createMealPlanItem(itemInfo, headers) {\n    return axios.post(\"/api/planner/meal\", itemInfo, { headers });\n}\n\nfunction updateMealPlanItem(itemId, updates, headers) {\n    return axios.patch(`/api/planner/meal/${itemId}`, updates, { headers });\n}\n\nfunction deleteMealPlanItem(itemId, headers) {\n    return axios.delete(`/api/planner/meal/${itemId}`, { headers })\n} \n\nfunction createGroceryItem(itemInfo, headers) {\n    return axios.post(\"/api/planner/grocery\", itemInfo, { headers });\n}\n\nfunction updateGroceryItem(itemId, updates, headers) {\n    return axios.patch(`/api/planner/grocery/${itemId}`, updates, { headers });\n}\n\nfunction deleteGroceryItem(itemId, headers) {\n    return axios.delete(`/api/planner/grocery/${itemId}`, { headers })\n} \n\nconst plannerApi = {\n    createMealPlanItem, updateMealPlanItem, deleteMealPlanItem,\n    createGroceryItem, updateGroceryItem, deleteGroceryItem\n}\n\nexport default plannerApi;","import { useCallback } from 'react';\nimport Button from '../../components/input/Button/Button';\nimport Page from '../Page/Page';\nimport GroceryListForm from '../../components/form/GroceryListForm/GroceryListForm';\nimport { useAuth } from '../../contexts/AuthContext/AuthContext';\nimport { useAppContext } from '../../contexts/AppContext/AppContext';\nimport useResource from '../../hooks/useResource';\nimport { plannerApi, authHeader } from '../../api';\n\nfunction GroceryListPage() {\n\tconst auth = useAuth();\n\tconst { setDialog, showDialog, hideDialog } = useAppContext();\n\tconst { value: groceryItems, setValue: setGroceryItems, loading } = useResource(\n\t\t'/api/planner/grocery',\n\t\t{ headers:  authHeader(auth.user?.token)},\n\t\ttrue,\n\t\t[auth.user?.token]\n\t);\n\n\tconst handleItemAdd = useCallback(async (name, cb = () => {}) => {\n\t\tif(!name || name === \"\") return;\n\n\t\ttry {\n\t\t\tconst newItem = await plannerApi.createGroceryItem({\n\t\t\t\tname: name.trim()\n\t\t\t}, authHeader(auth.user?.token));\n\t\t\tsetGroceryItems(prev => {\n\t\t\t\treturn [...prev, newItem.data];\n\t\t\t});\n\t\t\tcb();\n\t\t} catch (err) {\n\t\t\tif(err.response?.status === 401) {\n\t\t\t\tsetDialog({\n\t\t\t\t\ttitle: \"Restricted Access\",\n\t\t\t\t\ttext: err.response.data,\n\t\t\t\t\tfooter: <Button onClick={hideDialog}>Ok</Button>\n\t\t\t\t});\n\t\t\t\tshowDialog();\n\t\t\t}\n\t\t\tif(err.response?.status === 403) auth.logout();\n\t\t}\n\t}, [auth, setGroceryItems, setDialog, showDialog, hideDialog]);\n\n\tconst handleItemRemove = useCallback(async (itemId) => {\n\t\tsetGroceryItems(prev => {\n\t\t\treturn prev.slice().filter(item => item.id).filter(item => item.id !== itemId);\n\t\t});\n\t\tif(!itemId) return;\n\n\t\ttry {\n\t\t\tawait plannerApi.deleteGroceryItem(itemId, authHeader(auth.user?.token));\n\t\t} catch(err) {\n\t\t\tauth.logout();\n\t\t}\n\t}, [auth, setGroceryItems]);\n\n\tconst handleItemEdit = useCallback(async (itemId, newName) => {\n\t\tif(!itemId && (!newName || newName === \"\")) return;\n\t\tif(!newName || newName === \"\") return handleItemRemove(itemId);\n\n\t\tsetGroceryItems(prev => {\n\t\t\tconst updatedItems = prev.slice();\n\t\t\tconst updatedIndex = prev.findIndex(item => item.id === itemId);\n\t\t\tconst updatedItem = { ...prev[updatedIndex] };\n\t\t\tupdatedItem.name = newName;\n\t\t\tupdatedItems[updatedIndex] = updatedItem;\n\t\t\treturn updatedItems;\n\t\t});\n\t\t\n\t\ttry {\n\t\t\tawait plannerApi.updateGroceryItem(itemId, { name: newName }, authHeader(auth.user?.token));\n\t\t} catch(err) {\n\t\t\tauth.logout();\n\t\t}\n\t}, [auth, setGroceryItems, handleItemRemove]);\n\n\tconst handleItemCheck = async (itemId, complete) => {\n\t\tsetGroceryItems(prev => {\n\t\t\tconst updatedItems = prev.slice();\n\t\t\tconst updatedIndex = prev.findIndex(item => item.id === itemId);\n\t\t\tconst updatedItem = { ...prev[updatedIndex] };\n\t\t\tupdatedItem.complete = !updatedItem.complete;\n\t\t\tupdatedItems[updatedIndex] = updatedItem;\n\t\t\treturn updatedItems;\n\t\t});\n\n\t\ttry {\n\t\t\tawait plannerApi.updateGroceryItem(itemId, { complete: !complete }, authHeader(auth.user?.token));\n\t\t} catch(err) {\n\t\t\tauth.logout();\n\t\t}\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<h1>Grocery List</h1>\n\t\t\t{loading ? \"Loading...\" :\n\t\t\t\t<GroceryListForm \n\t\t\t\t\tgroceryItems={groceryItems}\n\t\t\t\t\tonItemAdd={handleItemAdd} \n\t\t\t\t\tonItemCheck={handleItemCheck} \n\t\t\t\t\tonItemEdit={handleItemEdit} \n\t\t\t\t\tonItemRemove={handleItemRemove} \n\t\t\t\t/>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n\nexport default GroceryListPage","import styled from 'styled-components';\n\nconst ButtonGroup = ({ children, ...props }) => {\n    return <StyledButtonGroup {...props}>\n        {children}\n    </StyledButtonGroup>\n}\n\nconst StyledButtonGroup = styled.div`\n    display: flex;\n    \n    & :nth-child(n) {\n        border-radius: 0;\n    }\n\n    & :first-child {\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n    }\n\n    & :last-child {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n    }\n`\n\nexport default ButtonGroup;","import { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport cal from 'calendar';\n\nconst monthNames = [\n\t{ large: 'Janurary', medium: 'Jan', small: 'Jan' },\n\t{ large: 'Februrary', medium: 'Feb', small: 'Feb' },\n\t{ large: 'March', medium: 'Mar', small: 'Mar' },\n\t{ large: 'April', medium: 'Apr', small: 'Apr' },\n\t{ large: 'May', medium: 'May', small: 'May' },\n\t{ large: 'June', medium: 'Jun', small: 'Jun' },\n\t{ large: 'July', medium: 'Jul', small: 'Jul' },\n\t{ large: 'August', medium: 'Aug', small: 'Aug' },\n\t{ large: 'September', medium: 'Sep', small: 'Sep' },\n\t{ large: 'October', medium: 'Oct', small: 'Oct' },\n\t{ large: 'November', medium: 'Nov', small: 'Nov' },\n\t{ large: 'December', medium: 'Dec', small: 'Dec' }\n];\n\nconst daysOfWeek = [\n\t{ large: 'Sunday', medium: 'Sun', small: 'Su' },\n\t{ large: 'Monday', medium: 'Mon', small: 'Mo' },\n\t{ large: 'Tuesday', medium: 'Tues', small: 'Tu' },\n\t{ large: 'Wednesday', medium: 'Wed', small: 'We' },\n\t{ large: 'Thursday', medium: 'Thurs', small: 'Th' },\n\t{ large: 'Friday', medium: 'Fri', small: 'Fr' },\n\t{ large: 'Saturday', medium: 'Sat', small: 'Sa' }\n];\n\nconst getPrevMonthInfo = (currentYear, currentMonth) => {\n\treturn currentMonth > 0 ?\n\t\t{ month: currentMonth - 1, year: currentYear } :\n\t\t{ month: 11, year: currentYear - 1 }\n}\n\nconst calendar = new cal.Calendar();\n\nconst now = new Date();\nconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n\nfunction Calendar({\n\tyear = today.getFullYear(),\n\tmonth = today.getMonth(),\n\tview = \"month\",\n\tsize = \"small\",\n\tselectedDate = today,\n\tonDayClick,\n\tevents,\n\tonEventPickup,\n\tonEventMove,\n\tonEventAdd,\n\tonEventPickupEnd,\n\teventRender,\n\teventContainerClass,\n}) {\n\tconst [date, setDate] = useState({\n\t\tyear: year,\n\t\tmonth: month,\n\t\tweek: null,\n\t\tday: selectedDate.getDay(),\n\t\tnumWeeks: null,\n\t\tprevNumWeeks: null\n\t});\n\tconst [monthData, setMonthData] = useState({});\n\n\tuseEffect(() => {\n\t\tconst monthDates = calendar.monthDates(date.year, date.month, (d) => ({\n\t\t\tdayNumber: d.getDate().toString().slice(-2),\n\t\t\tISODate: d.toISOString(),\n\t\t\tdate: d\n\t\t}));\n\t\tconst monthDays = calendar.monthDays(date.year, date.month);\n\t\tconst prevMonthInfo = getPrevMonthInfo(date.year, date.month);\n\t\tconst prevMonthDays = calendar.monthDays(prevMonthInfo.year, prevMonthInfo.month);\n\t\t\n\t\tconst numWeeks = monthDays.length;\n\t\tconst firstDay = monthDays[0].findIndex(day => day === 1);\n\t\tconst lastDay = monthDays[numWeeks - 1].findIndex(day => day === 0) > 0 ? monthDays[numWeeks - 1].findIndex(day => day === 0) - 1 : 6;\n\t\tconst prevNumWeeks = prevMonthDays.length;\n\n\t\tsetMonthData({ dates: monthDates, days: monthDays });\n\t\tsetDate(prev => ({ ...prev, numWeeks, firstDay, lastDay, prevNumWeeks }));\n\t}, [date.year, date.month]);\n\n\tuseEffect(() => {\n\t\tsetDate(prev => {\n\t\t\tconst week = Math.ceil((prev.firstDay + selectedDate.getDate()) / 7) - 1;\n\t\t\treturn { \n\t\t\t\t...prev,\n\t\t\t\tmonth: selectedDate.getMonth(),\n\t\t\t\tweek: week,\n\t\t\t\tday: selectedDate.getDay()\n\t\t\t}\n\t\t});\n\t}, [selectedDate]);\n\n\tuseEffect(() => {\n\t\tconst dayElements = document.querySelectorAll(\".calendar-day\");\n\n\t\tconst handleDragEnter = (e) => {\n\t\t\te.target.classList.add(\"drag-on\");\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst handleDragOver = (e) => {\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst handleDragLeave = (e) => {\n\t\t\te.target.classList.remove(\"drag-on\");\n\t\t}\n\t\tconst handleDrop = (e) => {\n\t\t\te.preventDefault();\n\t\t\te.dataTransfer.effectAllowed = \"copyMove\";\n\t\t\tconst eventId = e.dataTransfer.getData(\"text/plain\");\n\t\t\tconst dropType = e.dataTransfer.getData(\"dropType\");\n\t\t\te.target.classList.remove(\"drag-on\");\n\t\t\tconst dropDate = new Date(e.target.childNodes[0].attributes['date'].value);\n\t\n\t\t\tif(dropType === \"add\") {\n\t\t\t\tonEventAdd && onEventAdd(Number(eventId), dropDate);\n\t\t\t} else {\n\t\t\t\tonEventMove && onEventMove(Number(eventId), dropDate);\n\t\t\t}\n\n\t\t\t//Revert pointer-events on each 'drop'. (Set to \"none\" on 'dragstart')\n\t\t\tdocument.querySelectorAll(\".events-container\").forEach(element => {\n\t\t\t\telement.style.pointerEvents = \"revert\";\n\t\t\t});\n\t\t}\n\n\t\tdayElements.forEach(element => {\n\t\t\telement.addEventListener('dragenter', handleDragEnter);\n\t\t\telement.addEventListener('dragover', handleDragOver);\n\t\t\telement.addEventListener('dragleave', handleDragLeave);\n\t\t\telement.addEventListener('drop', handleDrop);\n\t\t});\n\n\t\treturn () => {\n\t\t\tdayElements.forEach(element => {\n\t\t\t\telement.removeEventListener('dragenter', handleDragEnter);\n\t\t\t\telement.removeEventListener('dragover', handleDragOver);\n\t\t\t\telement.removeEventListener('dragleave', handleDragLeave);\n\t\t\t\telement.removeEventListener('drop', handleDrop);\n\t\t\t});\n\t\t}\n\t}, [monthData.dates, onEventMove, onEventAdd]);\n\n\tuseEffect(() => {\n\t\tconst eventElements = document.querySelectorAll(\".calendar-event\");\n\t\t\n\t\tconst handleDragStart = (e) => {\n\t\t\tconst evt = e;\n\t\t\tconst dataTransfer = evt.dataTransfer;\n\t\t\tconst eventId = evt.target.id;\n\t\t\tdataTransfer.dropEffect = \"copy\";\n\t\t\tdataTransfer.setData(\"text/plain\", eventId);\n\t\t\t//Turn off pointer-events for each event container.\n\t\t\t//This prevents triggering 'onleave' when entering child components.\n\t\t\t//NOTE: DOM manipulation is within setTimeout due to drag issue in Chrome\n\t\t\tsetTimeout(() => document.querySelectorAll(\".events-container\").forEach(element => {\n\t\t\t\telement.style.pointerEvents = \"none\";\n\t\t\t}), 0);\n\n\t\t\tonEventPickup && onEventPickup();\n\t\t}\n\n\t\tconst handleDragEnd = (e) => {\n\t\t\t//Revert pointer-events on 'dragend'. (Set to \"none\" on 'dragstart')\n\t\t\tdocument.querySelectorAll(\".events-container\").forEach(element => {\n\t\t\t\telement.style.pointerEvents = \"revert\";\n\t\t\t});\n\n\t\t\tonEventPickupEnd && onEventPickupEnd();\n\n\t\t\te.preventDefault();\n\t\t}\n\n\t\teventElements.forEach(element => {\n\t\t\telement.addEventListener('dragstart', handleDragStart);\n\t\t\telement.addEventListener('dragend', handleDragEnd);\n\t\t});\n\n\t\treturn () => {\n\t\t\teventElements.forEach(element => {\n\t\t\t\telement.removeEventListener('dragstart', handleDragStart);\n\t\t\t\telement.removeEventListener('dragend', handleDragEnd);\n\t\t\t});\n\t\t}\n\t}, [monthData.dates, events, onEventPickup, onEventPickupEnd]);\n\n\tconst showNext = useCallback(() => {\n\t\tconst showNextMonth = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.month < 11) return { ...prev, month: prev.month + 1, week: 0 }\n\t\t\t\treturn { ...prev, year: prev.year + 1, month: 0, week: 0 }\n\t\t\t});\n\t\t}\n\t\tconst showNextWeek = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.week < prev.numWeeks - 1) return { ...prev, week: prev.week + 1 }\n\t\t\t\tif(prev.month < 11) return { ...prev, month: prev.month + 1, week: 0 }\n\t\t\t\treturn { ...prev, year: prev.year + 1, month: 0, week: 0 }\n\t\t\t});\n\t\t}\n\t\tconst showNextDay = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.week < prev.numWeeks - 1) {\n\t\t\t\t\tif(prev.day < 6) return { ...prev, day: prev.day + 1 };\n\t\t\t\t\treturn { ...prev, week: prev.week + 1, day: 0 }\n\t\t\t\t}\n\t\t\t\tif(prev.day < prev.lastDay) return { ...prev, day: prev.day + 1 }\n\t\t\t\tif(prev.month < 11) return { ...prev, month: prev.month + 1, week: 0, day: (prev.day + 1) % 7 }\n\t\t\t\treturn { ...prev, year: prev.year + 1, month: 0, week: 0, day: (prev.day + 1) % 7 }\n\t\t\t});\n\t\t}\n\t\tswitch (view) {\n\t\t\tcase 'month':\n\t\t\t\tshowNextMonth();\n\t\t\t\tbreak;\n\t\t\tcase 'week':\n\t\t\t\tshowNextWeek();\n\t\t\t\tbreak;\n\t\t\tcase 'day':\n\t\t\t\tshowNextDay();\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}, [view]);\n\n\tconst showPrev = useCallback(() => {\n\t\tconst showPrevMonth = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.month > 0) return { ...prev, month: prev.month - 1, week: prev.prevNumWeeks - 1 }\n\t\t\t\treturn { ...prev, year: prev.year - 1, month: 11, week: prev.prevNumWeeks - 1 }\n\t\t\t})\n\t\t}\n\t\tconst showPrevWeek = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.week > 0) return { ...prev, week: prev.week - 1 }\n\t\t\t\tif(prev.month > 0) return { ...prev, month: prev.month - 1, week: prev.prevNumWeeks - 1 }\n\t\t\t\treturn { ...prev, year: prev.year - 1, month: 11, week: prev.prevNumWeeks - 1 }\n\t\t\t})\n\t\t}\n\t\tconst showPrevDay = () => {\n\t\t\tsetDate(prev => {\n\t\t\t\tif(prev.week > 0) {\n\t\t\t\t\tif(prev.day > 0) return { ...prev, day: prev.day - 1 }\n\t\t\t\t\treturn { ...prev, week: prev.week - 1, day: 6 }\n\t\t\t\t}\n\t\t\t\tif(prev.day > prev.firstDay) return { ...prev, day: prev.day - 1 };\n\t\t\t\tif(prev.month > 0) return { ...prev, month: prev.month - 1, week: prev.prevNumWeeks - 1, day: (prev.day - 1) % 7 }\n\t\t\t\treturn { ...prev, year: prev.year - 1, month: 11, week: prev.prevNumWeeks - 1, day: (prev.day - 1) % 7 }\n\t\t\t});\n\t\t}\n\t\tswitch (view) {\n\t\t\tcase 'month':\n\t\t\t\tshowPrevMonth();\n\t\t\t\tbreak;\n\t\t\tcase 'week':\n\t\t\t\tshowPrevWeek();\n\t\t\t\tbreak;\n\t\t\tcase 'day':\n\t\t\t\tshowPrevDay();\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}, [view]);\n\n\tuseEffect(() => {\n\t\tconst buttons = document.querySelectorAll('button.control');\n\t\tconst handleDragEnter = (e) => {\n\t\t\te.target.classList.add(\"drag-on\");\n\t\t\tif(e.target.id === \"next\") showNext();\n\t\t\tif(e.target.id === \"prev\") showPrev();\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst handleDragOver = (e) => {\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst handleDragLeave = (e) => {\n\t\t\te.target.classList.remove(\"drag-on\");\n\t\t}\n\t\tconst handleDrop = (e) => {\n\t\t\te.target.classList.remove(\"drag-on\");\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tbuttons.forEach(button => {\n\t\t\tbutton.addEventListener('dragenter', handleDragEnter);\n\t\t\tbutton.addEventListener('dragover', handleDragOver);\n\t\t\tbutton.addEventListener('dragleave', handleDragLeave);\n\t\t\tbutton.addEventListener('drop', handleDrop);\n\t\t});\n\n\t\treturn () => {\n\t\t\tbuttons.forEach(button => {\n\t\t\t\tbutton.removeEventListener('dragenter', handleDragEnter);\n\t\t\t\tbutton.removeEventListener('dragover', handleDragOver);\n\t\t\t\tbutton.removeEventListener('dragleave', handleDragLeave);\n\t\t\t\tbutton.removeEventListener('drop', handleDrop);\n\t\t\t});\n\t\t}\n\t}, [showNext, showPrev]);\n\n\treturn (\n\t\t<StyledCalendar>\n\t\t\t<CalendarHeader>\n\t\t\t\t<h3>{monthNames[date.month][size] + \" \" + date.year}</h3>\n\t\t\t\t<button type=\"button\" className=\"control\" id=\"prev\" onClick={showPrev}>&lt;</button>\n\t\t\t\t<button type=\"button\" className=\"control\" id=\"next\" onClick={showNext}>&gt;</button>\n\t\t\t</CalendarHeader>\n\t\t\t<CalendarDaysOfWeek view={view}>\n\t\t\t\t{daysOfWeek.map((day, index) => (\n\t\t\t\t\t<div \n\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\tclassName={(view === \"day\" && index !== date.day) ? \"hidden\" : \"\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{day[size]}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</CalendarDaysOfWeek>\n\t\t\t<CalendarDates view={view}>\n\t\t\t\t{monthData.dates?.map((week, weekIdx) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tweek.map((day, dayIdx) => (\n\t\t\t\t\t\t\t<CalendarDay\n\t\t\t\t\t\t\t\tkey={`${weekIdx}-${dayIdx}`}\n\t\t\t\t\t\t\t\tdayNumber={day.dayNumber}\n\t\t\t\t\t\t\t\tISODate={day.ISODate}\n\t\t\t\t\t\t\t\tdate={day.date}\n\t\t\t\t\t\t\t\tevents={events && events.filter(evt => evt && evt.date.getMonth() === day.date.getMonth() && evt.date.getDate() === day.date.getDate())}\n\t\t\t\t\t\t\t\tinCurrentMonth={monthData.days[weekIdx][dayIdx] > 0}\n\t\t\t\t\t\t\t\toutOfView={(view === \"week\" && weekIdx !== date.week) || (view === \"day\" && !(weekIdx === date.week && dayIdx === date.day))}\n\t\t\t\t\t\t\t\tselected={day.ISODate === selectedDate.toISOString()}\n\t\t\t\t\t\t\t\tonClick={onDayClick}\n\t\t\t\t\t\t\t\teventRender={eventRender}\n\t\t\t\t\t\t\t\teventContainerClass={eventContainerClass}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</CalendarDates>\n\t\t</StyledCalendar>\n\t)\n}\n\nfunction CalendarDay({\n\tdayNumber,\n\tISODate,\n\tdate,\n\tinCurrentMonth,\n\toutOfView,\n\tselected,\n\tonClick,\n\tevents,\n\teventRender,\n\teventContainerClass\n}) {\n\treturn (\n\t\t<StyledCalendarDay className={`calendar-day ${inCurrentMonth ? 'current-month' : \"\"} ${outOfView ? 'hidden' : \"\"} ${selected ? \"selected\" : \"\"}`} id={ISODate} onClick={e => onClick({ date: e.currentTarget.id, events })}>\n\t\t\t<time dateTime={ISODate} date={date} />\n\t\t\t<span className='day-number'>{dayNumber}</span>\n\t\t\t<div className={`events-container ${eventContainerClass}`}>\n\t\t\t\t{events && events.map(event => eventRender && <div className='calendar-event' key={event.id} id={event.id} draggable='true'>{eventRender(event)}</div>)}\n\t\t\t</div>\n\t\t</StyledCalendarDay>\n\t)\n\n}\n\nconst StyledCalendarDay = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-end;\n\n\tborder: none;\n\tborder-radius: 0.5rem;\n\tbackground-color: #eee;\n\tmin-width: 30px;\n\n\t&.current-month {\n\t\tbackground-color: #ffe;\n\t}\n\t\n\t&.current-month:hover {\n\t\tbackground-color: #ccc;\n\t}\n\n\t&.drag-on {\n\t\toutline: 2px solid black;\n\t}\n\n\t&.hidden {\n\t\tdisplay: none;\n\t}\n\n\t&.selected {\n\t\toutline: 2px solid grey;\n\t}\n\n\t.day-number {\n\t\tfont-weight: 200;\n\t\tpadding-right: 0.25rem;\n\t\tpointer-events: none;\n\t}\n\n\t&.current-month .day-number {\n\t\tfont-weight: bold;\n\t}\n\n\t.events-container {\n\t\toverflow-y: scroll;\n\t\twidth: 100%;\n\t\tfont-size: 0.5rem;\n\t\t> div {\n\t\t\tborder: 1px solid black;\n\t\t\tborder-radius: 5px;\n\t\t\t\n\t\t\t:hover {\n\t\t\t\tcursor: grab;\n\t\t\t}\n\t\t}\n\n\t}\n`\n\nconst StyledCalendar = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tborder: 1px solid grey;\n\tbox-shadow: 1px 3px 5px grey;\n\tborder-radius: 0.5rem;\n\tmargin: 0 auto;\n\tmin-height: 12rem;\n\tuser-select: none;\n`\n\nconst CalendarHeader = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: 0.25rem auto;\n\tpadding-bottom: 0.25rem;\n\twidth: 100%;\n\tborder-bottom: 1px solid grey;\n\n\t> h3 {\n\t\torder: 1;\n\t}\n\t\n\tbutton {\n\t\tborder: 1px solid grey;\n\t\tcolor: grey;\n\t\tborder-radius: 5px;\n\t\tpadding: 0 1rem;\n\t\tmargin: 0 0.5rem;\n\n\t}\n\tbutton.drag-on {\n\t\toutline: 2px solid black;\n\t}\n\n\t> button:last-child {\n\t\torder: 2;\n\t}\n\n`\n\nconst CalendarDaysOfWeek = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: ${({ view }) => (view === \"day\" ? \"1fr\" : \"repeat(7, 1fr)\")};\n\tmin-height: 2rem;\n\n\t> div.hidden {\n\t\tdisplay: none;\n\t}\n`\n\nconst CalendarDates = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: ${({ view }) => (view === \"day\" ? \"1fr\" : \"repeat(7, 1fr)\")};\n\tcolumn-gap: 2px;\n\trow-gap: 2px;\n\tmin-height: 2rem;\n\n\t${StyledCalendarDay} {\n\t\theight: ${({ view }) => (view === \"month\" ? '5rem' : '20rem')};\n\t}\n`\n\nexport default Calendar;","import { useEffect, useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport Button from '../../components/input/Button/Button';\nimport ButtonGroup from '../../components/input/ButtonGroup/ButtonGroup';\nimport { Trash } from \"react-bootstrap-icons\";\nimport { useRecipeContext } from \"../../contexts/RecipeContext/RecipeContext\";\nimport { useAppContext } from \"../../contexts/AppContext/AppContext\";\nimport Calendar from \"../../components/app/Calendar/Calendar\"\nimport Page from \"../Page/Page\";\nimport useResource from \"../../hooks/useResource\";\nimport { useAuth } from \"../../contexts/AuthContext/AuthContext\";\nimport plannerApi from \"../../api/planner\";\n\nconst today = new Date();\n\nfunction MealPlannerPage() {\n    const auth = useAuth();\n    const { showNavbar, hideNavbar, setDialog, showDialog, hideDialog } = useAppContext();\n    const { data: recipes, loading } = useRecipeContext();\n    const { value: plannedMeals, setValue: setPlannedMeals } = useResource(\n        '/api/planner/meal',\n        { headers: { authorization: `BEARER ${auth.user?.token}` } },\n        true,\n        [auth.user?.token]\n    );\n    const [showMealOptions, setShowMealOptions] = useState(false);\n    const [calendar, setCalendar] = useState({ \n        view: \"week\", \n        selectedDate: new Date(today.getFullYear(), today.getMonth(), today.getDate()),\n        plannedMeals: []\n    });\n\n    const handleRecipePickup = useCallback(() => {\n        document.querySelector('.recipe-trash-dropzone').classList.add('show');\n        hideNavbar();\n    }, [hideNavbar]);\n\n    const handleRecipePickupEnd = useCallback(() => {\n        document.querySelector('.recipe-trash-dropzone').classList.remove('show');\n        showNavbar();\n    }, [showNavbar]);\n\n    const handleAddPlannedRecipe = useCallback(async (recipeId, date) => {\n        try {\n            const newPlannedMeal = await plannerApi.createMealPlanItem({ recipeId, date }, { authorization: `BEARER ${auth.user?.token}` });\n            setPlannedMeals(prev => {\n                return [...prev, newPlannedMeal.data];\n            });\n        } catch(err) {\n            if(err.response?.status === 403) return auth.logout();\n            setDialog({\n                title: \"Error\",\n                text: err.response?.data,\n                footer: <Button onClick={hideDialog}>Ok</Button>\n            });\n            showDialog();\n        }\n    }, [auth, setPlannedMeals, setDialog, showDialog, hideDialog]);\n\n    const handleMovePlannedRecipe = useCallback(async (id, date) => {\n        try {\n            setPlannedMeals(prev => {\n                const mealIndex = prev.findIndex(meal => meal.id === id);\n                const changedMeal = { ...prev[mealIndex], date: date };\n                const newPlannedMeals = [...prev];\n                newPlannedMeals[mealIndex] = changedMeal;\n                return newPlannedMeals;\n            });\n            await plannerApi.updateMealPlanItem(id, { date },  { authorization: `BEARER ${auth.user?.token}` });\n        } catch(err) {\n            if(err.response?.status === 403) return auth.logout();\n            setDialog({\n                title: \"Error\",\n                text: err.response?.data,\n                footer: <Button onClick={hideDialog}>Ok</Button>\n            });\n            showDialog();\n        }\n        handleRecipePickupEnd();\n    }, [auth, setPlannedMeals, setDialog, showDialog, hideDialog, handleRecipePickupEnd]);\n\n    const handleDeletePlannedRecipe = useCallback(async (id) => {\n        try {\n            setPlannedMeals(prev => {\n                return prev.slice().filter(meal => {\n                    return meal.id !== Number(id)\n                });\n            });\n            await plannerApi.deleteMealPlanItem(id, { authorization: `BEARER ${auth.user?.token}` });\n        } catch(err) {\n            if(err.response?.status === 403) return auth.logout();\n            setDialog({\n                title: \"Error\",\n                text: err.response?.data,\n                footer: <Button onClick={hideDialog}>Ok</Button>\n            });\n            showDialog();\n        }\n        handleRecipePickupEnd();\n    }, [auth, setPlannedMeals, setDialog, showDialog, hideDialog, handleRecipePickupEnd]);\n\n    useEffect(() => {\n        setCalendar(prev => {\n            const meals = plannedMeals?.map(meal => {\n                const recipe = recipes?.find(recipe => recipe.id === meal.recipeId);\n                if(!recipe) return null;\n    \n                return {\n                    id: meal.id,\n                    title: recipe.title,\n                    date: new Date(meal.date)\n                }\n            });\n            return {\n                ...prev,\n                plannedMeals: meals\n            }\n        })\n    }, [plannedMeals, recipes]);\n\n    useEffect(() => {\n        const recipeItemElements = document.querySelectorAll('p.recipe-item');\n        const handleDragStart = (e) => {\n            const dataTransfer = e.dataTransfer;\n\t\t\tconst eventId = e.target.id;\n\t\t\tdataTransfer.effectAllowed = \"copy\";\n\t\t\tdataTransfer.dropEffect = \"copy\";\n\t\t\tdataTransfer.setData(\"text/plain\", eventId);\n\t\t\tdataTransfer.setData(\"dropType\", \"add\");\n            document.querySelectorAll('.planned-recipes-container').forEach(container => {\n                container.style.pointerEvents = \"none\";\n            });\n            hideNavbar();\n        }\n        const handleDragEnd = (e) => {\n\t\t\t//Revert pointer-events on 'dragend'. (Set to \"none\" on 'dragstart')\n\t\t\tdocument.querySelectorAll('.planned-recipes-container').forEach(container => {\n\t\t\t\tcontainer.style.pointerEvents = \"revert\";\n\t\t\t});\n            showNavbar();\n\t\t\te.preventDefault();\n        }\n\n        recipeItemElements.forEach(element => {\n            element.addEventListener('dragstart', handleDragStart);\n            element.addEventListener('dragend', handleDragEnd);\n        });\n\n        return () => {\n            recipeItemElements.forEach(element => {\n                element.removeEventListener('dragstart', handleDragStart);\n                element.removeEventListener('dragend', handleDragEnd);\n            });\n        }\n    });\n\n    useEffect(() => {\n        const trash = document.querySelector('.recipe-trash-dropzone');\n\n        const handleDragEnter = (e) => {\n            e.preventDefault();\n            trash.classList.add(\"drag-on\");\n        }\n\n        const handleDragLeave = (e) => {\n            trash.classList.remove(\"drag-on\");\n            e.preventDefault();\n        }\n        \n        const handleDragOver = (e) => {\n            e.preventDefault();\n        }\n\n        const handleDrop = (e) => {\n            trash.classList.remove(\"drag-on\");\n            handleDeletePlannedRecipe(e.dataTransfer.getData(\"text/plain\"));\n            e.preventDefault();\n        }\n        trash.addEventListener('dragenter', handleDragEnter);\n        trash.addEventListener('dragleave', handleDragLeave);\n        trash.addEventListener('dragover', handleDragOver);\n        trash.addEventListener('drop', handleDrop);\n\n        return () => {\n            trash.removeEventListener('dragenter', handleDragEnter);\n            trash.removeEventListener('dragleave', handleDragLeave);\n            trash.removeEventListener('dragover', handleDragOver);\n            trash.removeEventListener('drop', handleDrop);\n        }\n    }, [handleDeletePlannedRecipe]);\n\n    const handleChangeCalendarView = (newView) => {\n        setCalendar(prev => {\n            if(newView !== prev.view) return { ...prev, view: newView };\n            return prev;\n        })\n    }\n\n    const handleDayClick = ({ date }) => {\n        const clickedDay = new Date(date);\n        setCalendar(prev => ({ ...prev, view: \"day\", selectedDate: clickedDay }));\n    }\n\n    return (\n        <StyledMealPlannerPage>\n            <h1>Meal Planner</h1>\n            <SelectViewContainer>\n                <Button type=\"button\"onClick={() => setShowMealOptions(prev => !prev)}>Add Meal</Button>\n                <ButtonGroup>\n                    <Button active={calendar.view === 'month'} id=\"month\" onClick={e => handleChangeCalendarView(e.target.id)}>Month</Button>\n                    <Button active={calendar.view === 'week'} id=\"week\" onClick={e => handleChangeCalendarView(e.target.id)}>Week</Button>\n                    <Button active={calendar.view === 'day'} id=\"day\" onClick={e => handleChangeCalendarView(e.target.id)}>Day</Button>\n                </ButtonGroup>\n            </SelectViewContainer>\n            <RecipeSearchContainer show={showMealOptions} >\n                {!loading && recipes && recipes.map(recipe => <p className=\"recipe-item\" key={recipe.id} id={recipe.id} draggable=\"true\">{recipe.title}</p>)}\n            </RecipeSearchContainer>\n            <Calendar \n                view={calendar.view}\n                selectedDate={calendar.selectedDate}\n                size=\"medium\"\n                events={calendar.plannedMeals}\n                onDayClick={handleDayClick}\n                onEventPickup={handleRecipePickup}\n                onEventMove={handleMovePlannedRecipe}\n                onEventAdd={handleAddPlannedRecipe}\n                onEventPickupEnd={handleRecipePickupEnd}\n                eventRender={event => (<StyledPlannedRecipe>{event.title}</StyledPlannedRecipe>)}\n                eventContainerClass=\"planned-recipes-container\"\n            />\n            <StyledTrash className=\"recipe-trash-dropzone\"/>\n        </StyledMealPlannerPage>\n    )\n}\n\nexport default MealPlannerPage\n\nconst StyledTrash = styled(Trash)`\n    background: white;\n    padding: 1rem;\n    margin: 1rem;\n    position: relative;\n    left: 35%;\n    border-radius: 1rem;\n    box-shadow: 2px 2px 5px grey;\n    width: 4rem;\n    height: 4rem;\n    opacity: 0;\n    \n    > path {\n        pointer-events: none;\n    }\n\n    &.show {\n        opacity: 1;\n    }\n\n    &.drag-on {\n        outline: 2px solid red;\n    }\n`\n\nconst StyledMealPlannerPage = styled(Page)`\n    position: relative;\n    .planned-recipes-container {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        justify-content: flex-start;\n        gap: 0.5rem;\n        height: 100%;\n        margin: 0 auto;\n        padding: 0 0.25rem;\n        overflow: hidden;\n    }\n`\n\nconst SelectViewContainer = styled.div`\n    display: flex;\n    gap: 20px;\n    justify-content: center;\n    align-items: center;\n    margin: 0.5rem auto;\n\n    > p {\n        font-weight: bold;\n    }\n`\n\nconst RecipeSearchContainer = styled.div`\n    display: ${({ show }) => show ? \"flex\" : \"none\"};\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 1rem auto;\n    border: 1px solid grey;\n    border-radius: 1rem;\n    box-shadow: 2px 2px 5px grey;\n\n    > p {\n        width: 10rem;\n        border: 1px solid grey;\n        border-radius: 1rem;\n        margin: 0.5rem;\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n`\n\nconst StyledPlannedRecipe = styled.p`\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    min-height: 1.5rem;\n    font-size: 0.5rem;\n    padding: 0.125rem;\n    margin: 0;\n`","import { useState, useEffect, useRef } from 'react';\nimport { Form, FormControl } from 'react-bootstrap';\nimport { Search as SearchIcon } from 'react-bootstrap-icons';\nimport styled from 'styled-components';\nimport Button from '../Button/Button';\n\nfunction Search({ onSubmit, initialValue }) {\n    const inputRef = useRef(null);\n    const [showClearBtn, setShowClearBtn] = useState(initialValue && initialValue.length > 0);\n\n    useEffect(() => {\n        inputRef.current.value = initialValue;\n    }, [initialValue]);\n\n    const handleKeyPress = (e) => {\n        if(e.key === \"Enter\") {\n            e.preventDefault();\n            inputRef.current.blur();\n            typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n        }\n    }\n\n    const handleInputChange = (e) => {\n        if(e.target.value.length > 0) setShowClearBtn(true);\n        else setShowClearBtn(false);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        typeof onSubmit === \"function\" && onSubmit(inputRef.current.value);\n    }\n\n    const handleClear = () => {\n        inputRef.current.value = \"\";\n        setShowClearBtn(false);\n        typeof onSubmit === \"function\" && onSubmit(\"\");\n    }\n\n    return (\n        <StyledSearch onSubmit={handleSubmit}>\n            <FormControl\n                type=\"search\"\n                placeholder=\"Search\"\n                aria-label=\"Search\"\n                className=\"search-bar\"\n                onKeyPress={handleKeyPress}\n                onChange={handleInputChange}\n                ref={inputRef}\n            />\n            <Button className={`clear-btn ${showClearBtn ? \"show\" : \"\"}`} onClick={handleClear}>x</Button>\n            <Button type=\"submit\" className=\"search-button\"><SearchIcon width={15} height={15} /></Button>\n        </StyledSearch>\n    )\n}\n\nconst StyledSearch = styled(Form)`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: right;\n    align-items: center;   \n\n    .search-bar {\n        max-width: 300px;\n        max-height: 2.2rem; \n    }\n\n    .clear-btn {\n        display: none;\n        border-left: none;\n\n        background: ${props => props.theme.contrast};\n        border: 1px solid ${props => props.theme.accent};\n        color: ${props => props.theme.main}\n    }\n\n    .clear-btn.show {\n        display: inline;\n    }\n\n    .search-button {\n        margin-left: 10px;\n    }\n`\n\nexport default Search;","import Nav from 'react-bootstrap/Nav';\nimport { Link, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\n\nexport default function NavIconLink({ to, text = \"\", IconComponent, IconFillComponent, textOnHover=false, ...props }) {\n    const { theme } = useAppContext();\n    const { pathname } = useLocation();\n\n    return (\n        <StyledNavIconLink as={Link} to={to} $textOnHover={textOnHover} theme={theme} {...props}>\n            {pathname === to ?\n                <IconFillComponent size={25} /> :\n                <IconComponent size={25} />\n            }\n            <span className=\"text\">\n                {text}\n            </span>\n        </StyledNavIconLink>\n    );\n}\n\nconst StyledNavIconLink = styled(Nav.Item)`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    scroll-snap-align: start;\n    min-width: 25%;\n    color: ${props => props.theme.main};\n    text-decoration: none;\n\n    .text {\n        opacity: ${({ $textOnHover }) => $textOnHover ? 0 : 1};\n        white-space: normal;\n        width: 75%;\n    }\n\n    :hover {\n        color: ${props => props.theme.accent};\n        cursor: pointer;\n\n        .text {\n            opacity: 1;\n        }\n    }\n\n    @media (min-width: 428px) {\n        min-width: 20%;\n    }\n\n    @media (min-width: 768px) {\n        min-width: 15%;\n    }\n`","import {\n    House, HouseFill,\n    PlusCircle, PlusCircleFill,\n    Heart, HeartFill,\n    Gear, GearFill,\n    Calendar3, Calendar3Fill,\n    Bag, BagFill,\n} from 'react-bootstrap-icons';\nimport NavIconLink from '../../display/NavIconLink/NavIconLink';\nimport styled from 'styled-components';\n\nexport default function NavLinks({ className, textOnHover, ...props }) {\n    return (\n        <StyledNavLinks className={className || \"\"} {...props}>\n            <NavIconLink to=\"/\" text=\"Home\" IconComponent={House} IconFillComponent={HouseFill} textOnHover={textOnHover} />\n            <NavIconLink to=\"/favorites\" text=\"Favorites\" IconComponent={Heart} IconFillComponent={HeartFill} textOnHover={textOnHover} />\n            <NavIconLink to=\"/new\" text=\"New\" IconComponent={PlusCircle} IconFillComponent={PlusCircleFill} textOnHover={textOnHover} />\n            <NavIconLink to=\"/grocery\" text=\"Grocery\" IconComponent={Bag} IconFillComponent={BagFill} textOnHover={textOnHover} />\n            <NavIconLink to=\"/planner\" text=\"Planner\" IconComponent={Calendar3} IconFillComponent={Calendar3Fill} textOnHover={textOnHover} />\n            <NavIconLink to=\"/settings\" text=\"Settings\" IconComponent={Gear} IconFillComponent={GearFill} textOnHover={textOnHover} />\n        </StyledNavLinks>\n    )\n}\n\nconst StyledNavLinks = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    overflow-x: auto;\n    white-space: nowrap;\n    scroll-snap-type: x mandatory;\n    min-width:  ${props => props.minWidth || '100%'};\n    max-width: ${props => props.maxWidth || '100%'};\n\n    -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */\n    scrollbar-width: none;  /* Hide scrollbar for Firefox */\n     /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    @media (min-width: 768px) {\n        justify-content: space-around;   \n    }\n`","import styled from 'styled-components';\nimport Button from '../../input/Button/Button';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { useLocation, useNavigate } from 'react-router';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\nimport Search from '../../input/Search/Search';\nimport NavLinks from '../NavLinks/NavLinks';\n\nexport default function TopNav({ onShowFilter }) {\n    const { showSidebar } = useAppContext();\n    const { filter, updateFilter } = useRecipeContext();\n    const { pathname } = useLocation();\n    const navigate = useNavigate();\n    const auth = useAuth();\n    const { theme } = useAppContext();\n\n    const showSearchAndFilter = pathname === \"/\" || pathname === \"/favorites\";\n\n    if (!auth.user) return null;\n\n    return (\n        <StyledTopNav theme={theme} sticky=\"top\">\n            <Nav>\n                <Nav.Item className=\"back-btn\">\n                    <Button\n                        onClick={() => navigate(-1)}\n                    >\n                        Back\n                    </Button>\n                </Nav.Item>\n\n                <NavLinks className=\"largeScreenOnly\" minWidth=\"50vw\" maxWidth=\"60vw\" textOnHover={true} />\n\n                <Nav.Item className={`${showSearchAndFilter ? \"\" : \"hide\"}`}>\n                    <Button\n                        className=\"show-filters-btn\"\n                        onClick={() => showSidebar()}\n                    >\n                        Filters\n                    </Button>\n                </Nav.Item>\n\n                <Nav.Item className={`nav-search ${showSearchAndFilter ? \"\" : \"hide\"}`}>\n                    <Search\n                        onSubmit={(value) => updateFilter({ search: value })}\n                        initialValue={filter.search}\n                    />\n                </Nav.Item>\n            </Nav>\n        </StyledTopNav>\n    )\n}\n\nconst StyledTopNav = styled(Navbar)`\n    padding: 0.5rem;\n    border-bottom: 1px solid ${props => props.theme.main};\n    background-color: ${props => props.theme.secondary};\n\n    .navbar-nav {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        width: 100%;\n    }\n    \n    .nav-search {\n        flex-basis: 100%;\n        padding-top: 0.25rem;\n    }\n    \n    .largeScreenOnly {\n        display: none;\n    }\n\n    .hide {\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    .nav-search.hide {\n        display: none;\n    }\n\n    @media (min-width: 1024px) {\n        .largeScreenOnly {\n            display: flex;\n        }\n    }\n`","import styled from 'styled-components';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavLinks from '../NavLinks/NavLinks';\nimport { useAuth } from '../../../contexts/AuthContext/AuthContext';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\n\n\nexport default function BottomNav(props) {\n    const auth = useAuth();\n    const { navbar, theme } = useAppContext();\n\n    if(!auth.user) return null;\n\n    return (\n        <StyledBottomNav fixed=\"bottom\" theme={theme} $show={navbar.show}>\n            <NavLinks />\n        </StyledBottomNav>\n    )\n}\n\nconst StyledBottomNav = styled(Navbar)`\n    background-color: ${props => props.theme.secondary};\n    border-top: 1px solid ${props => props.theme.main};\n\n    display: ${({ $show }) => $show ? \"initial\" : \"none\" };\n\n    @media (min-width: 1024px) {\n        display: none;\n    }\n\n`","import React from 'react';\nimport styled from 'styled-components';\nimport { Offcanvas } from 'react-bootstrap';\n\nfunction SlideinSidebar(props) {\n    return (\n        <StyledOffcanvas show={props.show} onHide={props.onClose} {...props}>\n          <Offcanvas.Header closeButton>\n            <Offcanvas.Title>{props.title}</Offcanvas.Title>\n          </Offcanvas.Header>\n          <Offcanvas.Body>\n            {props.children}\n          </Offcanvas.Body>\n        </StyledOffcanvas>\n    );\n  }\n\n  const StyledOffcanvas = styled(Offcanvas)`\n    background-color: ${props => props.theme.contrast}\n  `\n\n  export default SlideinSidebar;","import React, { useState } from 'react';\nimport { FormControl } from 'react-bootstrap';\nimport './Autocomplete.css';\n\nfunction Autocomplete({ suggestions, placeholder, onSubmit }) {\n    const [userInput, setUserInput] = useState(\"\");\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [activeSuggestion, setActiveSuggestion] = useState(-1);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    // useEffect(() => {\n    //     console.group(\"Autocomplete State and Props\");\n    //     console.log(\"User input:\", userInput);\n    //     console.log(\"Filtered suggestions:\", filteredSuggestions);\n    //     console.log(\"Active suggestion:\", activeSuggestion);\n    //     console.log(\"Show:\", showSuggestions);\n    //     console.log(\"Suggestions:\", suggestions);\n    //     console.groupEnd();\n    // }, [userInput, filteredSuggestions, activeSuggestion, showSuggestions, suggestions]);\n\n    const handleSubmit = (submitValue) => {\n        if(!onSubmit) return;\n        if(submitValue) {\n            onSubmit(submitValue);\n        } else {\n            const suggIdx = filteredSuggestions.findIndex(item => item.name.toLowerCase() === userInput.toLowerCase());\n            if(suggIdx > -1) onSubmit(filteredSuggestions[suggIdx]);\n        }\n    }\n\n    const handleChange = e => {\n        const input = e.currentTarget.value;\n\n        const newFilteredSuggestions = suggestions.filter(suggestion =>\n            suggestion.name.toLowerCase().indexOf(input.toLowerCase()) > -1\n        );\n\n        setActiveSuggestion(-1);\n        setFilteredSuggestions(newFilteredSuggestions);\n        \n        //Show suggestions if input has not changed to empty string\n        if(input !== \"\" ) setShowSuggestions(true);\n        else setShowSuggestions(false);\n\n        setUserInput(input);\n    };\n\n    const handleKeyDown = e => {\n        const keyCode = e.keyCode;\n\n        if (keyCode === 13) {\n            e.preventDefault();\n            if(activeSuggestion === -1 && userInput === \"\") return;\n            if(activeSuggestion > -1) {\n                handleSubmit(filteredSuggestions[activeSuggestion])\n            } else handleSubmit();\n            setActiveSuggestion(-1);\n            setShowSuggestions(false);\n            setUserInput(\"\");\n        } else if (keyCode === 38) {\n            if (activeSuggestion === 0 || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion - 1);\n        } else if (keyCode === 40) {\n            if (activeSuggestion + 1 === filteredSuggestions.length || !showSuggestions) return;\n            setActiveSuggestion(prevActiveSuggestion => prevActiveSuggestion + 1);\n        }\n    };\n\n    const handleClick = e => {\n        const clickedSuggestion = { id: e.currentTarget.value, name: e.currentTarget.innerText };\n        setActiveSuggestion(-1);\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n        setUserInput(\"\");\n        handleSubmit(clickedSuggestion);\n    };\n\n    const suggestionsListComponent = (showSuggestions && userInput !== \"\") ?\n        ((filteredSuggestions.length) ? (\n            <ul className=\"suggestions-list\">\n                {filteredSuggestions.map((suggestion, index) => {\n                    let className;\n\n                    // Flag the active suggestion with a class\n                    if (index === activeSuggestion) {\n                        className = \"suggestion-active\";\n                    }\n                    return (\n                        <li className={className} key={suggestion.id} value={suggestion.id} onClick={handleClick}>\n                            {suggestion.name}\n                        </li>\n                    );\n                })}\n            </ul>\n        ) : (\n            <div className=\"no-suggestions\">\n                <em>No suggestions available.</em>\n            </div>\n        )\n        ) : null\n\n    return (\n        <div className=\"autocomplete-container\">\n            <FormControl\n                className=\"autocomplete-input-bar\"\n                type=\"search\"\n                onChange={handleChange}\n                onKeyDown={handleKeyDown}\n                value={userInput}\n                placeholder={placeholder}\n            />\n            {suggestionsListComponent}\n        </div>\n    );\n}\n\nexport default Autocomplete;","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { FieldArray } from 'formik';\nimport { Trash } from 'react-bootstrap-icons';\nimport Autocomplete from '../Autocomplete/Autocomplete';\nimport './AutocompleteList.css';\n\nfunction AutocompleteList({ name, listItems, suggestions, placeholder, onChange }) {\n    const handleSubmit = (values) => {\n        onChange && onChange(values);\n    }\n\n    return (\n        <>\n            <Autocomplete\n                suggestions={suggestions}\n                placeholder={placeholder}\n                onSubmit={handleSubmit}\n            />\n            <FieldArray\n                name={name}\n                render={arrayHelpers => (\n                    <ul className=\"autocomplete-list\">\n                        {listItems.map((item, index) => (\n                            <Row as=\"li\" key={index}>\n                                <Col xs={1}>\n                                    <Trash\n                                        onClick={() => {\n                                            arrayHelpers.remove(index)\n                                        }} \n                                    />\n                                </Col>\n                                <Col>\n                                    {item.name}\n                                </Col>\n                            </Row>\n                        ))}\n                    </ul>\n                )}\n            />\n        </>\n    )\n}\n\nexport default AutocompleteList;","import React from 'react';\nimport { Row } from 'react-bootstrap';\nimport { Formik, Form } from 'formik';\nimport Button from '../../input/Button/Button';\n\nimport AutocompleteList from '../../input/AutocompleteList/AutocompleteList';\nimport './FilterRecipesForm.css';\n\nfunction FilterRecipesForm({ initialFilter, onSubmit, ingredients, categories }) {\n    const handleClearFilters = () => {\n        console.log(\"clearing filters\");\n        onSubmit({\n            ingredients: [],\n            categories: []\n        });\n    }\n\n    return (\n        <Formik\n            initialValues={initialFilter}\n            onSubmit={(values) => {\n                onSubmit({\n                    ingredients: values.ingredients,\n                    categories: values.categories\n                });\n            }}\n        >\n            {(form) => (\n                <Form className=\"filter-recipes-form\">\n                    <Row>\n                        <h5>Ingredients</h5>\n                        <AutocompleteList\n                            name=\"ingredients\"\n                            placeholder={\"Enter an ingredient to add to list\"}\n                            suggestions={ingredients}\n                            listItems={form.values.ingredients}\n                            onChange={(value) => {\n                                form.setFieldValue('ingredients', [...form.values.ingredients, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <h5>Categories</h5>\n                        <AutocompleteList\n                            name=\"categories\"\n                            placeholder={\"Enter a category to add to list\"}\n                            suggestions={categories}\n                            listItems={form.values.categories}\n                            onChange={(value) => {\n                                form.setFieldValue('categories', [...form.values.categories, value]);\n                            }}\n                        />\n                    </Row>\n\n                    <Row>\n                        <Button variant=\"outline-secondary\" className=\"clear-filters-btn\" onClick={handleClearFilters}>Clear</Button>\n                        <Button variant=\"secondary\" className=\"apply-filters-btn\" type=\"submit\">Apply</Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n\n}\n\nexport default FilterRecipesForm;","import React from 'react';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\nimport { useRecipeContext } from '../../../contexts/RecipeContext/RecipeContext';\nimport useResource from '../../../hooks/useResource';\n\nimport SlideinSidebar from '../../display/SlideinSidebar/SlideinSidebar';\nimport FilterRecipesForm from '../../form/FilterRecipesForm/FilterRecipesForm';\n\nfunction FilterControlSidebar() {\n    const { sidebar, hideSidebar } = useAppContext();\n    const { filter, updateFilter } = useRecipeContext();\n    const { value: ingredients} = useResource('/api/ingredients');\n    const { value: categories} = useResource('/api/categories');\n\n    const handleApplyFilter = (filter) => {\n        updateFilter(filter);\n        hideSidebar();\n    }\n\n    return (\n        <SlideinSidebar show={sidebar.show} onClose={() => hideSidebar()} title=\"Select your filters\">\n            <FilterRecipesForm\n                initialFilter={filter}\n                onSubmit={handleApplyFilter}\n                ingredients={ingredients}\n                categories={categories}\n            />\n        </SlideinSidebar>\n    )\n}\n\nexport default FilterControlSidebar;","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { useAppContext } from '../../../contexts/AppContext/AppContext';\n\nexport default function Dialog(props) {\n    const { dialog, hideDialog } = useAppContext();\n\n    return (\n        <Modal show={dialog.show} onHide={() => hideDialog()}>\n            <Modal.Header closeButton>\n                <Modal.Title>{dialog.title}</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body>\n                <p>{dialog.text}</p>\n                {dialog.body}\n            </Modal.Body>\n\n            <Modal.Footer>\n                {dialog.footer}\n            </Modal.Footer>\n        </Modal>\n    )\n}","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport HomePage from './pages/HomePage/HomePage';\nimport FavoritesPage from './pages/FavoritesPage/FavoritesPage';\nimport NewRecipePage from './pages/NewRecipePage/NewRecipePage';\nimport SettingsPage from './pages/SettingsPage/SettingsPage';\nimport RecipePage from './pages/RecipePage/RecipePage';\nimport EditRecipePage from './pages/EditRecipePage/EditRecipePage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport GroceryListPage from './pages/GroceryListPage/GroceryListPage';\nimport MealPlannerPage from './pages/MealPlannerPage/MealPlannerPage';\nimport TopNav from './components/app/TopNav/TopNav';\nimport BottomNav from './components/app/BottomNav/BottomNav';\nimport FilterControlSidebar from './components/app/FilterControlSidebar/FilterControlSidebar';\nimport Dialog from './components/display/Dialog/Dialog';\n\nimport AppContextProvider from './contexts/AppContext/AppContext';\nimport RecipeContextProvider from './contexts/RecipeContext/RecipeContext';\nimport AuthContextProvider, { useAuth } from './contexts/AuthContext/AuthContext';\n\nimport './App.css';\n\nfunction PrivateRoute({ children }) {\n\tconst auth = useAuth();\n\n\tif (auth.loading) return <div>Loading...</div>\n\n\treturn (\n\t\tauth.user ? children : <Navigate to=\"/login\" />\n\t)\n}\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<AuthContextProvider>\n\t\t\t\t<AppContextProvider>\n\t\t\t\t\t<RecipeContextProvider>\n\t\t\t\t\t\t<FilterControlSidebar />\n\t\t\t\t\t\t<Dialog />\n\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t<TopNav />\n\n\t\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t\t<Route path=\"/login\" element={<LoginPage />} />\n\t\t\t\t\t\t\t\t<Route path=\"/\" element={<PrivateRoute><HomePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/favorites\" element={<PrivateRoute><FavoritesPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/new\" element={<PrivateRoute><NewRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/settings\" element={<PrivateRoute><SettingsPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/grocery\" element={<PrivateRoute><GroceryListPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/planner\" element={<PrivateRoute><MealPlannerPage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId\" element={<PrivateRoute><RecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t\t<Route path=\"/recipe/:recipeId/edit\" element={<PrivateRoute><EditRecipePage /></PrivateRoute>} />\n\t\t\t\t\t\t\t</Routes>\n\n\t\t\t\t\t\t\t<BottomNav />\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</RecipeContextProvider>\n\t\t\t\t</AppContextProvider>\n\t\t\t</AuthContextProvider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}